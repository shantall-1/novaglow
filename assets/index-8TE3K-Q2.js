var yL=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Toe=yL((Ioe,xf)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function rf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lb={exports:{}},Wh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function bL(){if(fA)return Wh;fA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Wh.Fragment=e,Wh.jsx=n,Wh.jsxs=n,Wh}var mA;function EL(){return mA||(mA=1,Lb.exports=bL()),Lb.exports}var T=EL(),Mb={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA;function TL(){if(pA)return Ze;pA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),E=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function k(N,ee,M){this.props=N,this.context=ee,this.refs=I,this.updater=M||x}k.prototype.isReactComponent={},k.prototype.setState=function(N,ee){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ee,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=k.prototype;function F(N,ee,M){this.props=N,this.context=ee,this.refs=I,this.updater=M||x}var X=F.prototype=new Y;X.constructor=F,C(X,k.prototype),X.isPureReactComponent=!0;var ne=Array.isArray;function K(){}var B={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function V(N,ee,M){var fe=M.ref;return{$$typeof:t,type:N,key:ee,ref:fe!==void 0?fe:null,props:M}}function P(N,ee){return V(N.type,ee,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function U(N){var ee={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(M){return ee[M]})}var H=/\/+/g;function he(N,ee){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):ee.toString(36)}function J(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(K,K):(N.status="pending",N.then(function(ee){N.status==="pending"&&(N.status="fulfilled",N.value=ee)},function(ee){N.status==="pending"&&(N.status="rejected",N.reason=ee)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Z(N,ee,M,fe,ve){var _e=typeof N;(_e==="undefined"||_e==="boolean")&&(N=null);var we=!1;if(N===null)we=!0;else switch(_e){case"bigint":case"string":case"number":we=!0;break;case"object":switch(N.$$typeof){case t:case e:we=!0;break;case m:return we=N._init,Z(we(N._payload),ee,M,fe,ve)}}if(we)return ve=ve(N),we=fe===""?"."+he(N,0):fe,ne(ve)?(M="",we!=null&&(M=we.replace(H,"$&/")+"/"),Z(ve,ee,M,"",function(Qe){return Qe})):ve!=null&&(R(ve)&&(ve=P(ve,M+(ve.key==null||N&&N.key===ve.key?"":(""+ve.key).replace(H,"$&/")+"/")+we)),ee.push(ve)),1;we=0;var ke=fe===""?".":fe+":";if(ne(N))for(var Pe=0;Pe<N.length;Pe++)fe=N[Pe],_e=ke+he(fe,Pe),we+=Z(fe,ee,M,_e,ve);else if(Pe=w(N),typeof Pe=="function")for(N=Pe.call(N),Pe=0;!(fe=N.next()).done;)fe=fe.value,_e=ke+he(fe,Pe++),we+=Z(fe,ee,M,_e,ve);else if(_e==="object"){if(typeof N.then=="function")return Z(J(N),ee,M,fe,ve);throw ee=String(N),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function ce(N,ee,M){if(N==null)return N;var fe=[],ve=0;return Z(N,fe,"","",function(_e){return ee.call(M,_e,ve++)}),fe}function Ie(N){if(N._status===-1){var ee=N._result;ee=ee(),ee.then(function(M){(N._status===0||N._status===-1)&&(N._status=1,N._result=M)},function(M){(N._status===0||N._status===-1)&&(N._status=2,N._result=M)}),N._status===-1&&(N._status=0,N._result=ee)}if(N._status===1)return N._result.default;throw N._result}var Be=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},D={map:ce,forEach:function(N,ee,M){ce(N,function(){ee.apply(this,arguments)},M)},count:function(N){var ee=0;return ce(N,function(){ee++}),ee},toArray:function(N){return ce(N,function(ee){return ee})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ze.Activity=g,Ze.Children=D,Ze.Component=k,Ze.Fragment=n,Ze.Profiler=i,Ze.PureComponent=F,Ze.StrictMode=r,Ze.Suspense=h,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(N){return B.H.useMemoCache(N)}},Ze.cache=function(N){return function(){return N.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(N,ee,M){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var fe=C({},N.props),ve=N.key;if(ee!=null)for(_e in ee.key!==void 0&&(ve=""+ee.key),ee)!O.call(ee,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ee.ref===void 0||(fe[_e]=ee[_e]);var _e=arguments.length-2;if(_e===1)fe.children=M;else if(1<_e){for(var we=Array(_e),ke=0;ke<_e;ke++)we[ke]=arguments[ke+2];fe.children=we}return V(N.type,ve,fe)},Ze.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},Ze.createElement=function(N,ee,M){var fe,ve={},_e=null;if(ee!=null)for(fe in ee.key!==void 0&&(_e=""+ee.key),ee)O.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ve[fe]=ee[fe]);var we=arguments.length-2;if(we===1)ve.children=M;else if(1<we){for(var ke=Array(we),Pe=0;Pe<we;Pe++)ke[Pe]=arguments[Pe+2];ve.children=ke}if(N&&N.defaultProps)for(fe in we=N.defaultProps,we)ve[fe]===void 0&&(ve[fe]=we[fe]);return V(N,_e,ve)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(N){return{$$typeof:c,render:N}},Ze.isValidElement=R,Ze.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:Ie}},Ze.memo=function(N,ee){return{$$typeof:f,type:N,compare:ee===void 0?null:ee}},Ze.startTransition=function(N){var ee=B.T,M={};B.T=M;try{var fe=N(),ve=B.S;ve!==null&&ve(M,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(K,Be)}catch(_e){Be(_e)}finally{ee!==null&&M.types!==null&&(ee.types=M.types),B.T=ee}},Ze.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ze.use=function(N){return B.H.use(N)},Ze.useActionState=function(N,ee,M){return B.H.useActionState(N,ee,M)},Ze.useCallback=function(N,ee){return B.H.useCallback(N,ee)},Ze.useContext=function(N){return B.H.useContext(N)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(N,ee){return B.H.useDeferredValue(N,ee)},Ze.useEffect=function(N,ee){return B.H.useEffect(N,ee)},Ze.useEffectEvent=function(N){return B.H.useEffectEvent(N)},Ze.useId=function(){return B.H.useId()},Ze.useImperativeHandle=function(N,ee,M){return B.H.useImperativeHandle(N,ee,M)},Ze.useInsertionEffect=function(N,ee){return B.H.useInsertionEffect(N,ee)},Ze.useLayoutEffect=function(N,ee){return B.H.useLayoutEffect(N,ee)},Ze.useMemo=function(N,ee){return B.H.useMemo(N,ee)},Ze.useOptimistic=function(N,ee){return B.H.useOptimistic(N,ee)},Ze.useReducer=function(N,ee,M){return B.H.useReducer(N,ee,M)},Ze.useRef=function(N){return B.H.useRef(N)},Ze.useState=function(N){return B.H.useState(N)},Ze.useSyncExternalStore=function(N,ee,M){return B.H.useSyncExternalStore(N,ee,M)},Ze.useTransition=function(){return B.H.useTransition()},Ze.version="19.2.0",Ze}var gA;function lT(){return gA||(gA=1,Mb.exports=TL()),Mb.exports}var q=lT();const Sl=rf(q);var Bb={exports:{}},Xh={},Ub={exports:{}},jb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA;function _L(){return yA||(yA=1,(function(t){function e(Z,ce){var Ie=Z.length;Z.push(ce);e:for(;0<Ie;){var Be=Ie-1>>>1,D=Z[Be];if(0<i(D,ce))Z[Be]=ce,Z[Ie]=D,Ie=Be;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ce=Z[0],Ie=Z.pop();if(Ie!==ce){Z[0]=Ie;e:for(var Be=0,D=Z.length,N=D>>>1;Be<N;){var ee=2*(Be+1)-1,M=Z[ee],fe=ee+1,ve=Z[fe];if(0>i(M,Ie))fe<D&&0>i(ve,M)?(Z[Be]=ve,Z[fe]=Ie,Be=fe):(Z[Be]=M,Z[ee]=Ie,Be=ee);else if(fe<D&&0>i(ve,Ie))Z[Be]=ve,Z[fe]=Ie,Be=fe;else break e}}return ce}function i(Z,ce){var Ie=Z.sortIndex-ce.sortIndex;return Ie!==0?Ie:Z.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,g=null,E=3,w=!1,x=!1,C=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function X(Z){for(var ce=n(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=Z)r(f),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=n(f)}}function ne(Z){if(C=!1,X(Z),!x)if(n(h)!==null)x=!0,K||(K=!0,U());else{var ce=n(f);ce!==null&&J(ne,ce.startTime-Z)}}var K=!1,B=-1,O=5,V=-1;function P(){return I?!0:!(t.unstable_now()-V<O)}function R(){if(I=!1,K){var Z=t.unstable_now();V=Z;var ce=!0;try{e:{x=!1,C&&(C=!1,Y(B),B=-1),w=!0;var Ie=E;try{t:{for(X(Z),g=n(h);g!==null&&!(g.expirationTime>Z&&P());){var Be=g.callback;if(typeof Be=="function"){g.callback=null,E=g.priorityLevel;var D=Be(g.expirationTime<=Z);if(Z=t.unstable_now(),typeof D=="function"){g.callback=D,X(Z),ce=!0;break t}g===n(h)&&r(h),X(Z)}else r(h);g=n(h)}if(g!==null)ce=!0;else{var N=n(f);N!==null&&J(ne,N.startTime-Z),ce=!1}}break e}finally{g=null,E=Ie,w=!1}ce=void 0}}finally{ce?U():K=!1}}}var U;if(typeof F=="function")U=function(){F(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,he=H.port2;H.port1.onmessage=R,U=function(){he.postMessage(null)}}else U=function(){k(R,0)};function J(Z,ce){B=k(function(){Z(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var Ie=E;E=ce;try{return Z()}finally{E=Ie}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ie=E;E=Z;try{return ce()}finally{E=Ie}},t.unstable_scheduleCallback=function(Z,ce,Ie){var Be=t.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?Be+Ie:Be):Ie=Be,Z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Ie+D,Z={id:m++,callback:ce,priorityLevel:Z,startTime:Ie,expirationTime:D,sortIndex:-1},Ie>Be?(Z.sortIndex=Ie,e(f,Z),n(h)===null&&Z===n(f)&&(C?(Y(B),B=-1):C=!0,J(ne,Ie-Be))):(Z.sortIndex=D,e(h,Z),x||w||(x=!0,K||(K=!0,U()))),Z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Z){var ce=E;return function(){var Ie=E;E=ce;try{return Z.apply(this,arguments)}finally{E=Ie}}}})(jb)),jb}var bA;function wL(){return bA||(bA=1,Ub.exports=_L()),Ub.exports}var Vb={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function vL(){if(EA)return cr;EA=1;var t=lT();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cr.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,m)},cr.flushSync=function(h){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=m,r.d.f()}},cr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},cr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},cr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin),E=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:E,fetchPriority:w}):m==="script"&&r.d.X(h,{crossOrigin:g,integrity:E,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},cr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},cr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},cr.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},cr.requestFormReset=function(h){r.d.r(h)},cr.unstable_batchedUpdates=function(h,f){return h(f)},cr.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},cr.useFormStatus=function(){return l.H.useHostTransitionStatus()},cr.version="19.2.0",cr}var TA;function xL(){if(TA)return Vb.exports;TA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vb.exports=vL(),Vb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A;function AL(){if(_A)return Xh;_A=1;var t=wL(),e=lT(),n=xL();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,d=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return h(y),s;if(b===d)return h(y),a;b=b.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=b;else{for(var A=!1,L=y.child;L;){if(L===u){A=!0,u=y,d=b;break}if(L===d){A=!0,d=y,u=b;break}L=L.sibling}if(!A){for(L=b.child;L;){if(L===u){A=!0,u=b,d=y;break}if(L===d){A=!0,d=b,u=y;break}L=L.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),F=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case k:return"Profiler";case I:return"StrictMode";case ne:return"Suspense";case K:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case F:return s.displayName||"Context";case Y:return(s._context.displayName||"Context")+".Consumer";case X:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return a=s.displayName||null,a!==null?a:he(s.type)||"Memo";case O:a=s._payload,s=s._init;try{return he(s(a))}catch{}}return null}var J=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Be=[],D=-1;function N(s){return{current:s}}function ee(s){0>D||(s.current=Be[D],Be[D]=null,D--)}function M(s,a){D++,Be[D]=s.current,s.current=a}var fe=N(null),ve=N(null),_e=N(null),we=N(null);function ke(s,a){switch(M(_e,a),M(ve,s),M(fe,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Mx(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Mx(a),s=Bx(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(fe),M(fe,s)}function Pe(){ee(fe),ee(ve),ee(_e)}function Qe(s){s.memoizedState!==null&&M(we,s);var a=fe.current,u=Bx(a,s.type);a!==u&&(M(ve,s),M(fe,u))}function We(s){ve.current===s&&(ee(fe),ee(ve)),we.current===s&&(ee(we),Gh._currentValue=Ie)}var st,Ye;function De(s){if(st===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);st=a&&a[1]||"",Ye=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+s+Ye}var lt=!1;function Nt(s,a){if(!s||lt)return"";lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ue){var oe=ue}Reflect.construct(s,[],Ee)}else{try{Ee.call()}catch(ue){oe=ue}s.call(Ee.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(Ee=s())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),A=b[0],L=b[1];if(A&&L){var Q=A.split(`
`),ae=L.split(`
`);for(y=d=0;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(d===Q.length||y===ae.length)for(d=Q.length-1,y=ae.length-1;1<=d&&0<=y&&Q[d]!==ae[y];)y--;for(;1<=d&&0<=y;d--,y--)if(Q[d]!==ae[y]){if(d!==1||y!==1)do if(d--,y--,0>y||Q[d]!==ae[y]){var ge=`
`+Q[d].replace(" at new "," at ");return s.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",s.displayName)),ge}while(1<=d&&0<=y);break}}}finally{lt=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?De(u):""}function sn(s,a){switch(s.tag){case 26:case 27:case 5:return De(s.type);case 16:return De("Lazy");case 13:return s.child!==a&&a!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Nt(s.type,!1);case 11:return Nt(s.type.render,!1);case 1:return Nt(s.type,!0);case 31:return De("Activity");default:return""}}function Zn(s){try{var a="",u=null;do a+=sn(s,u),u=s,s=s.return;while(s);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var kt=Object.prototype.hasOwnProperty,xt=t.unstable_scheduleCallback,ui=t.unstable_cancelCallback,Fo=t.unstable_shouldYield,ka=t.unstable_requestPaint,Sn=t.unstable_now,Pi=t.unstable_getCurrentPriorityLevel,pe=t.unstable_ImmediatePriority,Ne=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,tt=t.unstable_LowPriority,bt=t.unstable_IdlePriority,Cn=t.log,Cr=t.unstable_setDisableYieldValue,an=null,on=null;function qn(s){if(typeof Cn=="function"&&Cr(s),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(an,s)}catch{}}var Et=Math.clz32?Math.clz32:Bf,Li=Math.log,ur=Math.LN2;function Bf(s){return s>>>=0,s===0?32:31-(Li(s)/ur|0)|0}var rs=256,Ho=262144,In=4194304;function is(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ss(s,a,u){var d=s.pendingLanes;if(d===0)return 0;var y=0,b=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var L=d&134217727;return L!==0?(d=L&~b,d!==0?y=is(d):(A&=L,A!==0?y=is(A):u||(u=L&~s,u!==0&&(y=is(u))))):(L=d&~b,L!==0?y=is(L):A!==0?y=is(A):u||(u=d&~s,u!==0&&(y=is(u)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:y}function Mi(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function j0(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(){var s=In;return In<<=1,(In&62914560)===0&&(In=4194304),s}function as(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function zo(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function V0(s,a,u,d,y,b){var A=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var L=s.entanglements,Q=s.expirationTimes,ae=s.hiddenUpdates;for(u=A&~u;0<u;){var ge=31-Et(u),Ee=1<<ge;L[ge]=0,Q[ge]=-1;var oe=ae[ge];if(oe!==null)for(ae[ge]=null,ge=0;ge<oe.length;ge++){var ue=oe[ge];ue!==null&&(ue.lane&=-536870913)}u&=~Ee}d!==0&&qo(s,d,0),b!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=b&~(A&~a))}function qo(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-Et(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|u&261930}function Xc(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var d=31-Et(u),y=1<<d;y&a|s[d]&a&&(s[d]|=a),u&=~y}}function Zc(s,a){var u=a&-a;return u=(u&42)!==0?1:Yo(u),(u&(s.suspendedLanes|a))!==0?0:u}function Yo(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function zs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function jf(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:aA(s.type))}function Bi(s,a){var u=ce.p;try{return ce.p=s,a()}finally{ce.p=u}}var Ui=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Ui,Yn="__reactProps$"+Ui,os="__reactContainer$"+Ui,Jl="__reactEvents$"+Ui,F0="__reactListeners$"+Ui,Vf="__reactHandles$"+Ui,Ff="__reactResources$"+Ui,ls="__reactMarker$"+Ui;function eu(s){delete s[Nn],delete s[Yn],delete s[Jl],delete s[F0],delete s[Vf]}function us(s){var a=s[Nn];if(a)return a;for(var u=s.parentNode;u;){if(a=u[os]||u[Nn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=qx(s);s!==null;){if(u=s[Nn])return u;s=qx(s)}return a}s=u,u=s.parentNode}return null}function ci(s){if(s=s[Nn]||s[os]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Yr(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function cs(s){var a=s[Ff];return a||(a=s[Ff]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function kn(s){s[ls]=!0}var Jc=new Set,eh={};function hs(s,a){ds(s,a),ds(s+"Capture",a)}function ds(s,a){for(eh[s]=a,s=0;s<a.length;s++)Jc.add(a[s])}var th=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nh={},rh={};function Hf(s){return kt.call(rh,s)?!0:kt.call(nh,s)?!1:th.test(s)?rh[s]=!0:(nh[s]=!0,!1)}function tu(s,a,u){if(Hf(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function Gr(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function Rn(s,a,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+d)}}function Gn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ra(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ih(s,a,u){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,b=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(A){u=""+A,b.call(this,A)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Lt(s){if(!s._valueTracker){var a=Ra(s)?"checked":"value";s._valueTracker=ih(s,a,""+s[a])}}function Go(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return s&&(d=Ra(s)?s.checked?"true":"false":s.value),s=d,s!==u?(a.setValue(s),!0):!1}function fs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var $o=/[\n"\\]/g;function Ir(s){return s.replace($o,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function nu(s,a,u,d,y,b,A,L){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Gn(a)):s.value!==""+Gn(a)&&(s.value=""+Gn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?sh(s,A,Gn(a)):u!=null?sh(s,A,Gn(u)):d!=null&&s.removeAttribute("value"),y==null&&b!=null&&(s.defaultChecked=!!b),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+Gn(L):s.removeAttribute("name")}function zf(s,a,u,d,y,b,A,L){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Lt(s);return}u=u!=null?""+Gn(u):"",a=a!=null?""+Gn(a):u,L||a===s.value||(s.value=a),s.defaultValue=a}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=L?s.checked:!!d,s.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A),Lt(s)}function sh(s,a,u){a==="number"&&fs(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Da(s,a,u,d){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Gn(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,d&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function qf(s,a,u){if(a!=null&&(a=""+Gn(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+Gn(u):""}function Oa(s,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(r(92));if(J(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=Gn(a),s.defaultValue=u,d=s.textContent,d===u&&d!==""&&d!==null&&(s.value=d),Lt(s)}function Nr(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Yf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ah(s,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,u):typeof u!="number"||u===0||Yf.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function oh(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var y in a)d=a[y],a.hasOwnProperty(y)&&u[y]!==d&&ah(s,y,d)}else for(var b in a)a.hasOwnProperty(b)&&ah(s,b,a[b])}function ru(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function iu(s){return Pa.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ji(){}var lh=null;function hi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var La=null,ms=null;function Ko(s){var a=ci(s);if(a&&(s=a.stateNode)){var u=s[Yn]||null;e:switch(s=a.stateNode,a.type){case"input":if(nu(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ir(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==s&&d.form===s.form){var y=d[Yn]||null;if(!y)throw Error(r(90));nu(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===s.form&&Go(d)}break e;case"textarea":qf(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Da(s,!!u.multiple,a,!1)}}}var su=!1;function Ma(s,a,u){if(su)return s(a,u);su=!0;try{var d=s(a);return d}finally{if(su=!1,(La!==null||ms!==null)&&(jm(),La&&(a=La,s=ms,ms=La=null,Ko(a),s)))for(a=0;a<s.length;a++)Ko(s[a])}}function Vi(s,a){var u=s.stateNode;if(u===null)return null;var d=u[Yn]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=!1;if(di)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{Qo=!1}var ps=null,uh=null,Wo=null;function ch(){if(Wo)return Wo;var s,a=uh,u=a.length,d,y="value"in ps?ps.value:ps.textContent,b=y.length;for(s=0;s<u&&a[s]===y[s];s++);var A=u-s;for(d=1;d<=A&&a[u-d]===y[b-d];d++);return Wo=y.slice(s,1<d?1-d:void 0)}function Xo(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function qs(){return!0}function Fi(){return!1}function Jn(s){function a(u,d,y,b,A){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(u=s[L],this[L]=u?u(b):b[L]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?qs:Fi,this.isPropagationStopped=Fi,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),a}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=Jn(Ys),Ba=g({},Ys,{view:0,detail:0}),hh=Jn(Ba),Ua,au,ys,ou=g({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ys&&(ys&&s.type==="mousemove"?(Ua=s.screenX-ys.screenX,au=s.screenY-ys.screenY):au=Ua=0,ys=s),Ua)},movementY:function(s){return"movementY"in s?s.movementY:au}}),dh=Jn(ou),Zo=g({},ou,{dataTransfer:0}),$f=Jn(Zo),Kf=g({},Ba,{relatedTarget:0}),Jo=Jn(Kf),fh=g({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Qf=Jn(fh),lu=g({},Ys,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wf=Jn(lu),Xf=g({},Ys,{data:0}),bs=Jn(Xf),Zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tm(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=em[s])?!!a[s]:!1}function ja(){return tm}var Tr=g({},Ba,{key:function(s){if(s.key){var a=Zf[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Xo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Jf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(s){return s.type==="keypress"?Xo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),nm=Jn(Tr),rm=g({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=Jn(rm),p=g({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),v=Jn(p),S=g({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=Jn(S),re=g({},ou,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Jn(re),Re=g({},Ys,{newState:0,oldState:0}),nt=Jn(Re),yn=[9,13,27,32],Rt=di&&"CompositionEvent"in window,Zt=null;di&&"documentMode"in document&&(Zt=document.documentMode);var fi=di&&"TextEvent"in window&&!Zt,Es=di&&(!Rt||Zt&&8<Zt&&11>=Zt),Hi=" ",zi=!1;function el(s,a){switch(s){case"keyup":return yn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var cu=!1;function FP(s,a){switch(s){case"compositionend":return uu(a);case"keypress":return a.which!==32?null:(zi=!0,Hi);case"textInput":return s=a.data,s===Hi&&zi?null:s;default:return null}}function HP(s,a){if(cu)return s==="compositionend"||!Rt&&el(s,a)?(s=ch(),Wo=uh=ps=null,cu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Es&&a.locale!=="ko"?null:a.data;default:return null}}var zP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $2(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!zP[s.type]:a==="textarea"}function K2(s,a,u,d){La?ms?ms.push(d):ms=[d]:La=d,a=Gm(a,"onChange"),0<a.length&&(u=new gs("onChange","change",null,u,d),s.push({event:u,listeners:a}))}var mh=null,ph=null;function qP(s){kx(s,0)}function im(s){var a=Yr(s);if(Go(a))return s}function Q2(s,a){if(s==="change")return a}var W2=!1;if(di){var H0;if(di){var z0="oninput"in document;if(!z0){var X2=document.createElement("div");X2.setAttribute("oninput","return;"),z0=typeof X2.oninput=="function"}H0=z0}else H0=!1;W2=H0&&(!document.documentMode||9<document.documentMode)}function Z2(){mh&&(mh.detachEvent("onpropertychange",J2),ph=mh=null)}function J2(s){if(s.propertyName==="value"&&im(ph)){var a=[];K2(a,ph,s,hi(s)),Ma(qP,a)}}function YP(s,a,u){s==="focusin"?(Z2(),mh=a,ph=u,mh.attachEvent("onpropertychange",J2)):s==="focusout"&&Z2()}function GP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return im(ph)}function $P(s,a){if(s==="click")return im(a)}function KP(s,a){if(s==="input"||s==="change")return im(a)}function QP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var $r=typeof Object.is=="function"?Object.is:QP;function gh(s,a){if($r(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!kt.call(a,y)||!$r(s[y],a[y]))return!1}return!0}function ew(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tw(s,a){var u=ew(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=a&&d>=a)return{node:u,offset:a-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ew(u)}}function nw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?nw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function rw(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=fs(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=fs(s.document)}return a}function q0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var WP=di&&"documentMode"in document&&11>=document.documentMode,hu=null,Y0=null,yh=null,G0=!1;function iw(s,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;G0||hu==null||hu!==fs(d)||(d=hu,"selectionStart"in d&&q0(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),yh&&gh(yh,d)||(yh=d,d=Gm(Y0,"onSelect"),0<d.length&&(a=new gs("onSelect","select",null,a,u),s.push({event:a,listeners:d}),a.target=hu)))}function tl(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var du={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionrun:tl("Transition","TransitionRun"),transitionstart:tl("Transition","TransitionStart"),transitioncancel:tl("Transition","TransitionCancel"),transitionend:tl("Transition","TransitionEnd")},$0={},sw={};di&&(sw=document.createElement("div").style,"AnimationEvent"in window||(delete du.animationend.animation,delete du.animationiteration.animation,delete du.animationstart.animation),"TransitionEvent"in window||delete du.transitionend.transition);function nl(s){if($0[s])return $0[s];if(!du[s])return s;var a=du[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in sw)return $0[s]=a[u];return s}var aw=nl("animationend"),ow=nl("animationiteration"),lw=nl("animationstart"),XP=nl("transitionrun"),ZP=nl("transitionstart"),JP=nl("transitioncancel"),uw=nl("transitionend"),cw=new Map,K0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");K0.push("scrollEnd");function qi(s,a){cw.set(s,a),hs(a,[s])}var sm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},mi=[],fu=0,Q0=0;function am(){for(var s=fu,a=Q0=fu=0;a<s;){var u=mi[a];mi[a++]=null;var d=mi[a];mi[a++]=null;var y=mi[a];mi[a++]=null;var b=mi[a];if(mi[a++]=null,d!==null&&y!==null){var A=d.pending;A===null?y.next=y:(y.next=A.next,A.next=y),d.pending=y}b!==0&&hw(u,y,b)}}function om(s,a,u,d){mi[fu++]=s,mi[fu++]=a,mi[fu++]=u,mi[fu++]=d,Q0|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function W0(s,a,u,d){return om(s,a,u,d),lm(s)}function rl(s,a){return om(s,null,null,a),lm(s)}function hw(s,a,u){s.lanes|=u;var d=s.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=s.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(y=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,y&&a!==null&&(y=31-Et(u),s=b.hiddenUpdates,d=s[y],d===null?s[y]=[a]:d.push(a),a.lane=u|536870912),b):null}function lm(s){if(50<jh)throw jh=0,sb=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var mu={};function e5(s,a,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(s,a,u,d){return new e5(s,a,u,d)}function X0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $s(s,a){var u=s.alternate;return u===null?(u=Kr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function dw(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function um(s,a,u,d,y,b){var A=0;if(d=s,typeof s=="function")X0(s)&&(A=1);else if(typeof s=="string")A=sL(s,u,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case V:return s=Kr(31,u,a,y),s.elementType=V,s.lanes=b,s;case C:return il(u.children,y,b,a);case I:A=8,y|=24;break;case k:return s=Kr(12,u,a,y|2),s.elementType=k,s.lanes=b,s;case ne:return s=Kr(13,u,a,y),s.elementType=ne,s.lanes=b,s;case K:return s=Kr(19,u,a,y),s.elementType=K,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:A=10;break e;case Y:A=9;break e;case X:A=11;break e;case B:A=14;break e;case O:A=16,d=null;break e}A=29,u=Error(r(130,s===null?"null":typeof s,"")),d=null}return a=Kr(A,u,a,y),a.elementType=s,a.type=d,a.lanes=b,a}function il(s,a,u,d){return s=Kr(7,s,d,a),s.lanes=u,s}function Z0(s,a,u){return s=Kr(6,s,null,a),s.lanes=u,s}function fw(s){var a=Kr(18,null,null,0);return a.stateNode=s,a}function J0(s,a,u){return a=Kr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var mw=new WeakMap;function pi(s,a){if(typeof s=="object"&&s!==null){var u=mw.get(s);return u!==void 0?u:(a={value:s,source:a,stack:Zn(a)},mw.set(s,a),a)}return{value:s,source:a,stack:Zn(a)}}var pu=[],gu=0,cm=null,bh=0,gi=[],yi=0,Va=null,Ts=1,_s="";function Ks(s,a){pu[gu++]=bh,pu[gu++]=cm,cm=s,bh=a}function pw(s,a,u){gi[yi++]=Ts,gi[yi++]=_s,gi[yi++]=Va,Va=s;var d=Ts;s=_s;var y=32-Et(d)-1;d&=~(1<<y),u+=1;var b=32-Et(a)+y;if(30<b){var A=y-y%5;b=(d&(1<<A)-1).toString(32),d>>=A,y-=A,Ts=1<<32-Et(a)+y|u<<y|d,_s=b+s}else Ts=1<<b|u<<y|d,_s=s}function ey(s){s.return!==null&&(Ks(s,1),pw(s,1,0))}function ty(s){for(;s===cm;)cm=pu[--gu],pu[gu]=null,bh=pu[--gu],pu[gu]=null;for(;s===Va;)Va=gi[--yi],gi[yi]=null,_s=gi[--yi],gi[yi]=null,Ts=gi[--yi],gi[yi]=null}function gw(s,a){gi[yi++]=Ts,gi[yi++]=_s,gi[yi++]=Va,Ts=a.id,_s=a.overflow,Va=s}var er=null,Kt=null,Tt=!1,Fa=null,bi=!1,ny=Error(r(519));function Ha(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eh(pi(a,s)),ny}function yw(s){var a=s.stateNode,u=s.type,d=s.memoizedProps;switch(a[Nn]=s,a[Yn]=d,u){case"dialog":ht("cancel",a),ht("close",a);break;case"iframe":case"object":case"embed":ht("load",a);break;case"video":case"audio":for(u=0;u<Fh.length;u++)ht(Fh[u],a);break;case"source":ht("error",a);break;case"img":case"image":case"link":ht("error",a),ht("load",a);break;case"details":ht("toggle",a);break;case"input":ht("invalid",a),zf(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ht("invalid",a);break;case"textarea":ht("invalid",a),Oa(a,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||Px(a.textContent,u)?(d.popover!=null&&(ht("beforetoggle",a),ht("toggle",a)),d.onScroll!=null&&ht("scroll",a),d.onScrollEnd!=null&&ht("scrollend",a),d.onClick!=null&&(a.onclick=ji),a=!0):a=!1,a||Ha(s,!0)}function bw(s){for(er=s.return;er;)switch(er.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:er=er.return}}function yu(s){if(s!==er)return!1;if(!Tt)return bw(s),Tt=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Tb(s.type,s.memoizedProps)),u=!u),u&&Kt&&Ha(s),bw(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Kt=zx(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Kt=zx(s)}else a===27?(a=Kt,no(s.type)?(s=Ab,Ab=null,Kt=s):Kt=a):Kt=er?Ti(s.stateNode.nextSibling):null;return!0}function sl(){Kt=er=null,Tt=!1}function ry(){var s=Fa;return s!==null&&(Or===null?Or=s:Or.push.apply(Or,s),Fa=null),s}function Eh(s){Fa===null?Fa=[s]:Fa.push(s)}var iy=N(null),al=null,Qs=null;function za(s,a,u){M(iy,a._currentValue),a._currentValue=u}function Ws(s){s._currentValue=iy.current,ee(iy)}function sy(s,a,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===u)break;s=s.return}}function ay(s,a,u,d){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;e:for(;b!==null;){var L=b;b=y;for(var Q=0;Q<a.length;Q++)if(L.context===a[Q]){b.lanes|=u,L=b.alternate,L!==null&&(L.lanes|=u),sy(b.return,u,s),d||(A=null);break e}b=L.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(r(341));A.lanes|=u,b=A.alternate,b!==null&&(b.lanes|=u),sy(A,u,s),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===s){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function bu(s,a,u,d){s=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var L=y.type;$r(y.pendingProps.value,A.value)||(s!==null?s.push(L):s=[L])}}else if(y===we.current){if(A=y.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Gh):s=[Gh])}y=y.return}s!==null&&ay(a,s,u,d),a.flags|=262144}function hm(s){for(s=s.firstContext;s!==null;){if(!$r(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ol(s){al=s,Qs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function tr(s){return Ew(al,s)}function dm(s,a){return al===null&&ol(s),Ew(s,a)}function Ew(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Qs===null){if(s===null)throw Error(r(308));Qs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Qs=Qs.next=a;return u}var t5=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},n5=t.unstable_scheduleCallback,r5=t.unstable_NormalPriority,Dn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oy(){return{controller:new t5,data:new Map,refCount:0}}function Th(s){s.refCount--,s.refCount===0&&n5(r5,function(){s.controller.abort()})}var _h=null,ly=0,Eu=0,Tu=null;function i5(s,a){if(_h===null){var u=_h=[];ly=0,Eu=hb(),Tu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return ly++,a.then(Tw,Tw),a}function Tw(){if(--ly===0&&_h!==null){Tu!==null&&(Tu.status="fulfilled");var s=_h;_h=null,Eu=0,Tu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function s5(s,a){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var _w=Z.S;Z.S=function(s,a){ix=Sn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&i5(s,a),_w!==null&&_w(s,a)};var ll=N(null);function uy(){var s=ll.current;return s!==null?s:Ht.pooledCache}function fm(s,a){a===null?M(ll,ll.current):M(ll,a.pool)}function ww(){var s=uy();return s===null?null:{parent:Dn._currentValue,pool:s}}var _u=Error(r(460)),cy=Error(r(474)),mm=Error(r(542)),pm={then:function(){}};function vw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function xw(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(ji,ji),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Sw(s),s;default:if(typeof a.status=="string")a.then(ji,ji);else{if(s=Ht,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=d}},function(d){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Sw(s),s}throw cl=a,_u}}function ul(s){try{var a=s._init;return a(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(cl=u,_u):u}}var cl=null;function Aw(){if(cl===null)throw Error(r(459));var s=cl;return cl=null,s}function Sw(s){if(s===_u||s===mm)throw Error(r(483))}var wu=null,wh=0;function gm(s){var a=wh;return wh+=1,wu===null&&(wu=[]),xw(wu,s,a)}function vh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function ym(s,a){throw a.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Cw(s){function a(te,W){if(s){var se=te.deletions;se===null?(te.deletions=[W],te.flags|=16):se.push(W)}}function u(te,W){if(!s)return null;for(;W!==null;)a(te,W),W=W.sibling;return null}function d(te){for(var W=new Map;te!==null;)te.key!==null?W.set(te.key,te):W.set(te.index,te),te=te.sibling;return W}function y(te,W){return te=$s(te,W),te.index=0,te.sibling=null,te}function b(te,W,se){return te.index=se,s?(se=te.alternate,se!==null?(se=se.index,se<W?(te.flags|=67108866,W):se):(te.flags|=67108866,W)):(te.flags|=1048576,W)}function A(te){return s&&te.alternate===null&&(te.flags|=67108866),te}function L(te,W,se,ye){return W===null||W.tag!==6?(W=Z0(se,te.mode,ye),W.return=te,W):(W=y(W,se),W.return=te,W)}function Q(te,W,se,ye){var je=se.type;return je===C?ge(te,W,se.props.children,ye,se.key):W!==null&&(W.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&ul(je)===W.type)?(W=y(W,se.props),vh(W,se),W.return=te,W):(W=um(se.type,se.key,se.props,null,te.mode,ye),vh(W,se),W.return=te,W)}function ae(te,W,se,ye){return W===null||W.tag!==4||W.stateNode.containerInfo!==se.containerInfo||W.stateNode.implementation!==se.implementation?(W=J0(se,te.mode,ye),W.return=te,W):(W=y(W,se.children||[]),W.return=te,W)}function ge(te,W,se,ye,je){return W===null||W.tag!==7?(W=il(se,te.mode,ye,je),W.return=te,W):(W=y(W,se),W.return=te,W)}function Ee(te,W,se){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Z0(""+W,te.mode,se),W.return=te,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return se=um(W.type,W.key,W.props,null,te.mode,se),vh(se,W),se.return=te,se;case x:return W=J0(W,te.mode,se),W.return=te,W;case O:return W=ul(W),Ee(te,W,se)}if(J(W)||U(W))return W=il(W,te.mode,se,null),W.return=te,W;if(typeof W.then=="function")return Ee(te,gm(W),se);if(W.$$typeof===F)return Ee(te,dm(te,W),se);ym(te,W)}return null}function oe(te,W,se,ye){var je=W!==null?W.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return je!==null?null:L(te,W,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return se.key===je?Q(te,W,se,ye):null;case x:return se.key===je?ae(te,W,se,ye):null;case O:return se=ul(se),oe(te,W,se,ye)}if(J(se)||U(se))return je!==null?null:ge(te,W,se,ye,null);if(typeof se.then=="function")return oe(te,W,gm(se),ye);if(se.$$typeof===F)return oe(te,W,dm(te,se),ye);ym(te,se)}return null}function ue(te,W,se,ye,je){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return te=te.get(se)||null,L(W,te,""+ye,je);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case w:return te=te.get(ye.key===null?se:ye.key)||null,Q(W,te,ye,je);case x:return te=te.get(ye.key===null?se:ye.key)||null,ae(W,te,ye,je);case O:return ye=ul(ye),ue(te,W,se,ye,je)}if(J(ye)||U(ye))return te=te.get(se)||null,ge(W,te,ye,je,null);if(typeof ye.then=="function")return ue(te,W,se,gm(ye),je);if(ye.$$typeof===F)return ue(te,W,se,dm(W,ye),je);ym(W,ye)}return null}function Me(te,W,se,ye){for(var je=null,St=null,Ue=W,at=W=0,mt=null;Ue!==null&&at<se.length;at++){Ue.index>at?(mt=Ue,Ue=null):mt=Ue.sibling;var Ct=oe(te,Ue,se[at],ye);if(Ct===null){Ue===null&&(Ue=mt);break}s&&Ue&&Ct.alternate===null&&a(te,Ue),W=b(Ct,W,at),St===null?je=Ct:St.sibling=Ct,St=Ct,Ue=mt}if(at===se.length)return u(te,Ue),Tt&&Ks(te,at),je;if(Ue===null){for(;at<se.length;at++)Ue=Ee(te,se[at],ye),Ue!==null&&(W=b(Ue,W,at),St===null?je=Ue:St.sibling=Ue,St=Ue);return Tt&&Ks(te,at),je}for(Ue=d(Ue);at<se.length;at++)mt=ue(Ue,te,at,se[at],ye),mt!==null&&(s&&mt.alternate!==null&&Ue.delete(mt.key===null?at:mt.key),W=b(mt,W,at),St===null?je=mt:St.sibling=mt,St=mt);return s&&Ue.forEach(function(oo){return a(te,oo)}),Tt&&Ks(te,at),je}function qe(te,W,se,ye){if(se==null)throw Error(r(151));for(var je=null,St=null,Ue=W,at=W=0,mt=null,Ct=se.next();Ue!==null&&!Ct.done;at++,Ct=se.next()){Ue.index>at?(mt=Ue,Ue=null):mt=Ue.sibling;var oo=oe(te,Ue,Ct.value,ye);if(oo===null){Ue===null&&(Ue=mt);break}s&&Ue&&oo.alternate===null&&a(te,Ue),W=b(oo,W,at),St===null?je=oo:St.sibling=oo,St=oo,Ue=mt}if(Ct.done)return u(te,Ue),Tt&&Ks(te,at),je;if(Ue===null){for(;!Ct.done;at++,Ct=se.next())Ct=Ee(te,Ct.value,ye),Ct!==null&&(W=b(Ct,W,at),St===null?je=Ct:St.sibling=Ct,St=Ct);return Tt&&Ks(te,at),je}for(Ue=d(Ue);!Ct.done;at++,Ct=se.next())Ct=ue(Ue,te,at,Ct.value,ye),Ct!==null&&(s&&Ct.alternate!==null&&Ue.delete(Ct.key===null?at:Ct.key),W=b(Ct,W,at),St===null?je=Ct:St.sibling=Ct,St=Ct);return s&&Ue.forEach(function(gL){return a(te,gL)}),Tt&&Ks(te,at),je}function Ft(te,W,se,ye){if(typeof se=="object"&&se!==null&&se.type===C&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case w:e:{for(var je=se.key;W!==null;){if(W.key===je){if(je=se.type,je===C){if(W.tag===7){u(te,W.sibling),ye=y(W,se.props.children),ye.return=te,te=ye;break e}}else if(W.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&ul(je)===W.type){u(te,W.sibling),ye=y(W,se.props),vh(ye,se),ye.return=te,te=ye;break e}u(te,W);break}else a(te,W);W=W.sibling}se.type===C?(ye=il(se.props.children,te.mode,ye,se.key),ye.return=te,te=ye):(ye=um(se.type,se.key,se.props,null,te.mode,ye),vh(ye,se),ye.return=te,te=ye)}return A(te);case x:e:{for(je=se.key;W!==null;){if(W.key===je)if(W.tag===4&&W.stateNode.containerInfo===se.containerInfo&&W.stateNode.implementation===se.implementation){u(te,W.sibling),ye=y(W,se.children||[]),ye.return=te,te=ye;break e}else{u(te,W);break}else a(te,W);W=W.sibling}ye=J0(se,te.mode,ye),ye.return=te,te=ye}return A(te);case O:return se=ul(se),Ft(te,W,se,ye)}if(J(se))return Me(te,W,se,ye);if(U(se)){if(je=U(se),typeof je!="function")throw Error(r(150));return se=je.call(se),qe(te,W,se,ye)}if(typeof se.then=="function")return Ft(te,W,gm(se),ye);if(se.$$typeof===F)return Ft(te,W,dm(te,se),ye);ym(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,W!==null&&W.tag===6?(u(te,W.sibling),ye=y(W,se),ye.return=te,te=ye):(u(te,W),ye=Z0(se,te.mode,ye),ye.return=te,te=ye),A(te)):u(te,W)}return function(te,W,se,ye){try{wh=0;var je=Ft(te,W,se,ye);return wu=null,je}catch(Ue){if(Ue===_u||Ue===mm)throw Ue;var St=Kr(29,Ue,null,te.mode);return St.lanes=ye,St.return=te,St}finally{}}}var hl=Cw(!0),Iw=Cw(!1),qa=!1;function hy(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dy(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ya(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ga(s,a,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Dt&2)!==0){var y=d.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),d.pending=a,a=lm(s),hw(s,null,u),a}return om(s,d,a,u),lm(s)}function xh(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,Xc(s,u)}}function fy(s,a){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var my=!1;function Ah(){if(my){var s=Tu;if(s!==null)throw s}}function Sh(s,a,u,d){my=!1;var y=s.updateQueue;qa=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var Q=L,ae=Q.next;Q.next=null,A===null?b=ae:A.next=ae,A=Q;var ge=s.alternate;ge!==null&&(ge=ge.updateQueue,L=ge.lastBaseUpdate,L!==A&&(L===null?ge.firstBaseUpdate=ae:L.next=ae,ge.lastBaseUpdate=Q))}if(b!==null){var Ee=y.baseState;A=0,ge=ae=Q=null,L=b;do{var oe=L.lane&-536870913,ue=oe!==L.lane;if(ue?(ft&oe)===oe:(d&oe)===oe){oe!==0&&oe===Eu&&(my=!0),ge!==null&&(ge=ge.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Me=s,qe=L;oe=a;var Ft=u;switch(qe.tag){case 1:if(Me=qe.payload,typeof Me=="function"){Ee=Me.call(Ft,Ee,oe);break e}Ee=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=qe.payload,oe=typeof Me=="function"?Me.call(Ft,Ee,oe):Me,oe==null)break e;Ee=g({},Ee,oe);break e;case 2:qa=!0}}oe=L.callback,oe!==null&&(s.flags|=64,ue&&(s.flags|=8192),ue=y.callbacks,ue===null?y.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ge===null?(ae=ge=ue,Q=Ee):ge=ge.next=ue,A|=oe;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ue=L,L=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);ge===null&&(Q=Ee),y.baseState=Q,y.firstBaseUpdate=ae,y.lastBaseUpdate=ge,b===null&&(y.shared.lanes=0),Xa|=A,s.lanes=A,s.memoizedState=Ee}}function Nw(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function kw(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Nw(u[s],a)}var vu=N(null),bm=N(0);function Rw(s,a){s=sa,M(bm,s),M(vu,a),sa=s|a.baseLanes}function py(){M(bm,sa),M(vu,vu.current)}function gy(){sa=bm.current,ee(vu),ee(bm)}var Qr=N(null),Ei=null;function $a(s){var a=s.alternate;M(bn,bn.current&1),M(Qr,s),Ei===null&&(a===null||vu.current!==null||a.memoizedState!==null)&&(Ei=s)}function yy(s){M(bn,bn.current),M(Qr,s),Ei===null&&(Ei=s)}function Dw(s){s.tag===22?(M(bn,bn.current),M(Qr,s),Ei===null&&(Ei=s)):Ka()}function Ka(){M(bn,bn.current),M(Qr,Qr.current)}function Wr(s){ee(Qr),Ei===s&&(Ei=null),ee(bn)}var bn=N(0);function Em(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||vb(u)||xb(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Xs=0,rt=null,jt=null,On=null,Tm=!1,xu=!1,dl=!1,_m=0,Ch=0,Au=null,a5=0;function hn(){throw Error(r(321))}function by(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!$r(s[u],a[u]))return!1;return!0}function Ey(s,a,u,d,y,b){return Xs=b,rt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=s===null||s.memoizedState===null?pv:Py,dl=!1,b=u(d,y),dl=!1,xu&&(b=Pw(a,u,d,y)),Ow(s),b}function Ow(s){Z.H=kh;var a=jt!==null&&jt.next!==null;if(Xs=0,On=jt=rt=null,Tm=!1,Ch=0,Au=null,a)throw Error(r(300));s===null||Pn||(s=s.dependencies,s!==null&&hm(s)&&(Pn=!0))}function Pw(s,a,u,d){rt=s;var y=0;do{if(xu&&(Au=null),Ch=0,xu=!1,25<=y)throw Error(r(301));if(y+=1,On=jt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Z.H=gv,b=a(u,d)}while(xu);return b}function o5(){var s=Z.H,a=s.useState()[0];return a=typeof a.then=="function"?Ih(a):a,s=s.useState()[0],(jt!==null?jt.memoizedState:null)!==s&&(rt.flags|=1024),a}function Ty(){var s=_m!==0;return _m=0,s}function _y(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function wy(s){if(Tm){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Tm=!1}Xs=0,On=jt=rt=null,xu=!1,Ch=_m=0,Au=null}function _r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?rt.memoizedState=On=s:On=On.next=s,On}function En(){if(jt===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var a=On===null?rt.memoizedState:On.next;if(a!==null)On=a,jt=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},On===null?rt.memoizedState=On=s:On=On.next=s}return On}function wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ih(s){var a=Ch;return Ch+=1,Au===null&&(Au=[]),s=xw(Au,s,a),a=rt,(On===null?a.memoizedState:On.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?pv:Py),s}function vm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ih(s);if(s.$$typeof===F)return tr(s)}throw Error(r(438,String(s)))}function vy(s){var a=null,u=rt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=rt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=wm(),rt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),d=0;d<s;d++)u[d]=P;return a.index++,u}function Zs(s,a){return typeof a=="function"?a(s):a}function xm(s){var a=En();return xy(a,jt,s)}function xy(s,a,u){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=s.baseQueue,b=d.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}a.baseQueue=y=b,d.pending=null}if(b=s.baseState,y===null)s.memoizedState=b;else{a=y.next;var L=A=null,Q=null,ae=a,ge=!1;do{var Ee=ae.lane&-536870913;if(Ee!==ae.lane?(ft&Ee)===Ee:(Xs&Ee)===Ee){var oe=ae.revertLane;if(oe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),Ee===Eu&&(ge=!0);else if((Xs&oe)===oe){ae=ae.next,oe===Eu&&(ge=!0);continue}else Ee={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Q===null?(L=Q=Ee,A=b):Q=Q.next=Ee,rt.lanes|=oe,Xa|=oe;Ee=ae.action,dl&&u(b,Ee),b=ae.hasEagerState?ae.eagerState:u(b,Ee)}else oe={lane:Ee,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Q===null?(L=Q=oe,A=b):Q=Q.next=oe,rt.lanes|=Ee,Xa|=Ee;ae=ae.next}while(ae!==null&&ae!==a);if(Q===null?A=b:Q.next=L,!$r(b,s.memoizedState)&&(Pn=!0,ge&&(u=Tu,u!==null)))throw u;s.memoizedState=b,s.baseState=A,s.baseQueue=Q,d.lastRenderedState=b}return y===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Ay(s){var a=En(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var d=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var A=y=y.next;do b=s(b,A.action),A=A.next;while(A!==y);$r(b,a.memoizedState)||(Pn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,d]}function Lw(s,a,u){var d=rt,y=En(),b=Tt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=a();var A=!$r((jt||y).memoizedState,u);if(A&&(y.memoizedState=u,Pn=!0),y=y.queue,Iy(Uw.bind(null,d,y,s),[s]),y.getSnapshot!==a||A||On!==null&&On.memoizedState.tag&1){if(d.flags|=2048,Su(9,{destroy:void 0},Bw.bind(null,d,y,u,a),null),Ht===null)throw Error(r(349));b||(Xs&127)!==0||Mw(d,a,u)}return u}function Mw(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=rt.updateQueue,a===null?(a=wm(),rt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Bw(s,a,u,d){a.value=u,a.getSnapshot=d,jw(a)&&Vw(s)}function Uw(s,a,u){return u(function(){jw(a)&&Vw(s)})}function jw(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!$r(s,u)}catch{return!0}}function Vw(s){var a=rl(s,2);a!==null&&Pr(a,s,2)}function Sy(s){var a=_r();if(typeof s=="function"){var u=s;if(s=u(),dl){qn(!0);try{u()}finally{qn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:s},a}function Fw(s,a,u,d){return s.baseState=u,xy(s,jt,typeof d=="function"?d:Zs)}function l5(s,a,u,d,y){if(Cm(s))throw Error(r(485));if(s=a.action,s!==null){var b={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};Z.T!==null?u(!0):b.isTransition=!1,d(b),u=a.pending,u===null?(b.next=a.pending=b,Hw(a,b)):(b.next=u.next,a.pending=u.next=b)}}function Hw(s,a){var u=a.action,d=a.payload,y=s.state;if(a.isTransition){var b=Z.T,A={};Z.T=A;try{var L=u(y,d),Q=Z.S;Q!==null&&Q(A,L),zw(s,a,L)}catch(ae){Cy(s,a,ae)}finally{b!==null&&A.types!==null&&(b.types=A.types),Z.T=b}}else try{b=u(y,d),zw(s,a,b)}catch(ae){Cy(s,a,ae)}}function zw(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){qw(s,a,d)},function(d){return Cy(s,a,d)}):qw(s,a,u)}function qw(s,a,u){a.status="fulfilled",a.value=u,Yw(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,Hw(s,u)))}function Cy(s,a,u){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,Yw(a),a=a.next;while(a!==d)}s.action=null}function Yw(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Gw(s,a){return a}function $w(s,a){if(Tt){var u=Ht.formState;if(u!==null){e:{var d=rt;if(Tt){if(Kt){t:{for(var y=Kt,b=bi;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ti(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Kt=Ti(y.nextSibling),d=y.data==="F!";break e}}Ha(d)}d=!1}d&&(a=u[0])}}return u=_r(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gw,lastRenderedState:a},u.queue=d,u=dv.bind(null,rt,d),d.dispatch=u,d=Sy(!1),b=Oy.bind(null,rt,!1,d.queue),d=_r(),y={state:a,dispatch:null,action:s,pending:null},d.queue=y,u=l5.bind(null,rt,y,b,u),y.dispatch=u,d.memoizedState=s,[a,u,!1]}function Kw(s){var a=En();return Qw(a,jt,s)}function Qw(s,a,u){if(a=xy(s,a,Gw)[0],s=xm(Zs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Ih(a)}catch(A){throw A===_u?mm:A}else d=a;a=En();var y=a.queue,b=y.dispatch;return u!==a.memoizedState&&(rt.flags|=2048,Su(9,{destroy:void 0},u5.bind(null,y,u),null)),[d,b,s]}function u5(s,a){s.action=a}function Ww(s){var a=En(),u=jt;if(u!==null)return Qw(a,u,s);En(),a=a.memoizedState,u=En();var d=u.queue.dispatch;return u.memoizedState=s,[a,d,!1]}function Su(s,a,u,d){return s={tag:s,create:u,deps:d,inst:a,next:null},a=rt.updateQueue,a===null&&(a=wm(),rt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,a.lastEffect=s),s}function Xw(){return En().memoizedState}function Am(s,a,u,d){var y=_r();rt.flags|=s,y.memoizedState=Su(1|a,{destroy:void 0},u,d===void 0?null:d)}function Sm(s,a,u,d){var y=En();d=d===void 0?null:d;var b=y.memoizedState.inst;jt!==null&&d!==null&&by(d,jt.memoizedState.deps)?y.memoizedState=Su(a,b,u,d):(rt.flags|=s,y.memoizedState=Su(1|a,b,u,d))}function Zw(s,a){Am(8390656,8,s,a)}function Iy(s,a){Sm(2048,8,s,a)}function c5(s){rt.flags|=4;var a=rt.updateQueue;if(a===null)a=wm(),rt.updateQueue=a,a.events=[s];else{var u=a.events;u===null?a.events=[s]:u.push(s)}}function Jw(s){var a=En().memoizedState;return c5({ref:a,nextImpl:s}),function(){if((Dt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function ev(s,a){return Sm(4,2,s,a)}function tv(s,a){return Sm(4,4,s,a)}function nv(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function rv(s,a,u){u=u!=null?u.concat([s]):null,Sm(4,4,nv.bind(null,a,s),u)}function Ny(){}function iv(s,a){var u=En();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&by(a,d[1])?d[0]:(u.memoizedState=[s,a],s)}function sv(s,a){var u=En();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&by(a,d[1]))return d[0];if(d=s(),dl){qn(!0);try{s()}finally{qn(!1)}}return u.memoizedState=[d,a],d}function ky(s,a,u){return u===void 0||(Xs&1073741824)!==0&&(ft&261930)===0?s.memoizedState=a:(s.memoizedState=u,s=ax(),rt.lanes|=s,Xa|=s,u)}function av(s,a,u,d){return $r(u,a)?u:vu.current!==null?(s=ky(s,u,d),$r(s,a)||(Pn=!0),s):(Xs&42)===0||(Xs&1073741824)!==0&&(ft&261930)===0?(Pn=!0,s.memoizedState=u):(s=ax(),rt.lanes|=s,Xa|=s,a)}function ov(s,a,u,d,y){var b=ce.p;ce.p=b!==0&&8>b?b:8;var A=Z.T,L={};Z.T=L,Oy(s,!1,a,u);try{var Q=y(),ae=Z.S;if(ae!==null&&ae(L,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ge=s5(Q,d);Nh(s,a,ge,Jr(s))}else Nh(s,a,d,Jr(s))}catch(Ee){Nh(s,a,{then:function(){},status:"rejected",reason:Ee},Jr())}finally{ce.p=b,A!==null&&L.types!==null&&(A.types=L.types),Z.T=A}}function h5(){}function Ry(s,a,u,d){if(s.tag!==5)throw Error(r(476));var y=lv(s).queue;ov(s,y,a,Ie,u===null?h5:function(){return uv(s),u(d)})}function lv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:Ie},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function uv(s){var a=lv(s);a.next===null&&(a=s.alternate.memoizedState),Nh(s,a.next.queue,{},Jr())}function Dy(){return tr(Gh)}function cv(){return En().memoizedState}function hv(){return En().memoizedState}function d5(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Jr();s=Ya(u);var d=Ga(a,s,u);d!==null&&(Pr(d,a,u),xh(d,a,u)),a={cache:oy()},s.payload=a;return}a=a.return}}function f5(s,a,u){var d=Jr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Cm(s)?fv(a,u):(u=W0(s,a,u,d),u!==null&&(Pr(u,s,d),mv(u,a,d)))}function dv(s,a,u){var d=Jr();Nh(s,a,u,d)}function Nh(s,a,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cm(s))fv(a,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var A=a.lastRenderedState,L=b(A,u);if(y.hasEagerState=!0,y.eagerState=L,$r(L,A))return om(s,a,y,0),Ht===null&&am(),!1}catch{}finally{}if(u=W0(s,a,y,d),u!==null)return Pr(u,s,d),mv(u,a,d),!0}return!1}function Oy(s,a,u,d){if(d={lane:2,revertLane:hb(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Cm(s)){if(a)throw Error(r(479))}else a=W0(s,u,d,2),a!==null&&Pr(a,s,2)}function Cm(s){var a=s.alternate;return s===rt||a!==null&&a===rt}function fv(s,a){xu=Tm=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function mv(s,a,u){if((u&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,Xc(s,u)}}var kh={readContext:tr,use:vm,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn};kh.useEffectEvent=hn;var pv={readContext:tr,use:vm,useCallback:function(s,a){return _r().memoizedState=[s,a===void 0?null:a],s},useContext:tr,useEffect:Zw,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Am(4194308,4,nv.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Am(4194308,4,s,a)},useInsertionEffect:function(s,a){Am(4,2,s,a)},useMemo:function(s,a){var u=_r();a=a===void 0?null:a;var d=s();if(dl){qn(!0);try{s()}finally{qn(!1)}}return u.memoizedState=[d,a],d},useReducer:function(s,a,u){var d=_r();if(u!==void 0){var y=u(a);if(dl){qn(!0);try{u(a)}finally{qn(!1)}}}else y=a;return d.memoizedState=d.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},d.queue=s,s=s.dispatch=f5.bind(null,rt,s),[d.memoizedState,s]},useRef:function(s){var a=_r();return s={current:s},a.memoizedState=s},useState:function(s){s=Sy(s);var a=s.queue,u=dv.bind(null,rt,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Ny,useDeferredValue:function(s,a){var u=_r();return ky(u,s,a)},useTransition:function(){var s=Sy(!1);return s=ov.bind(null,rt,s.queue,!0,!1),_r().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var d=rt,y=_r();if(Tt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Ht===null)throw Error(r(349));(ft&127)!==0||Mw(d,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,Zw(Uw.bind(null,d,b,s),[s]),d.flags|=2048,Su(9,{destroy:void 0},Bw.bind(null,d,b,u,a),null),u},useId:function(){var s=_r(),a=Ht.identifierPrefix;if(Tt){var u=_s,d=Ts;u=(d&~(1<<32-Et(d)-1)).toString(32)+u,a="_"+a+"R_"+u,u=_m++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=a5++,a="_"+a+"r_"+u.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Dy,useFormState:$w,useActionState:$w,useOptimistic:function(s){var a=_r();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Oy.bind(null,rt,!0,u),u.dispatch=a,[s,a]},useMemoCache:vy,useCacheRefresh:function(){return _r().memoizedState=d5.bind(null,rt)},useEffectEvent:function(s){var a=_r(),u={impl:s};return a.memoizedState=u,function(){if((Dt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Py={readContext:tr,use:vm,useCallback:iv,useContext:tr,useEffect:Iy,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:sv,useReducer:xm,useRef:Xw,useState:function(){return xm(Zs)},useDebugValue:Ny,useDeferredValue:function(s,a){var u=En();return av(u,jt.memoizedState,s,a)},useTransition:function(){var s=xm(Zs)[0],a=En().memoizedState;return[typeof s=="boolean"?s:Ih(s),a]},useSyncExternalStore:Lw,useId:cv,useHostTransitionStatus:Dy,useFormState:Kw,useActionState:Kw,useOptimistic:function(s,a){var u=En();return Fw(u,jt,s,a)},useMemoCache:vy,useCacheRefresh:hv};Py.useEffectEvent=Jw;var gv={readContext:tr,use:vm,useCallback:iv,useContext:tr,useEffect:Iy,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:sv,useReducer:Ay,useRef:Xw,useState:function(){return Ay(Zs)},useDebugValue:Ny,useDeferredValue:function(s,a){var u=En();return jt===null?ky(u,s,a):av(u,jt.memoizedState,s,a)},useTransition:function(){var s=Ay(Zs)[0],a=En().memoizedState;return[typeof s=="boolean"?s:Ih(s),a]},useSyncExternalStore:Lw,useId:cv,useHostTransitionStatus:Dy,useFormState:Ww,useActionState:Ww,useOptimistic:function(s,a){var u=En();return jt!==null?Fw(u,jt,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:vy,useCacheRefresh:hv};gv.useEffectEvent=Jw;function Ly(s,a,u,d){a=s.memoizedState,u=u(d,a),u=u==null?a:g({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var My={enqueueSetState:function(s,a,u){s=s._reactInternals;var d=Jr(),y=Ya(d);y.payload=a,u!=null&&(y.callback=u),a=Ga(s,y,d),a!==null&&(Pr(a,s,d),xh(a,s,d))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var d=Jr(),y=Ya(d);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=Ga(s,y,d),a!==null&&(Pr(a,s,d),xh(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Jr(),d=Ya(u);d.tag=2,a!=null&&(d.callback=a),a=Ga(s,d,u),a!==null&&(Pr(a,s,u),xh(a,s,u))}};function yv(s,a,u,d,y,b,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,b,A):a.prototype&&a.prototype.isPureReactComponent?!gh(u,d)||!gh(y,b):!0}function bv(s,a,u,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==s&&My.enqueueReplaceState(a,a.state,null)}function fl(s,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(s=s.defaultProps){u===a&&(u=g({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}function Ev(s){sm(s)}function Tv(s){console.error(s)}function _v(s){sm(s)}function Im(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function wv(s,a,u){try{var d=s.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function By(s,a,u){return u=Ya(u),u.tag=3,u.payload={element:null},u.callback=function(){Im(s,a)},u}function vv(s){return s=Ya(s),s.tag=3,s}function xv(s,a,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;s.payload=function(){return y(b)},s.callback=function(){wv(a,u,d)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){wv(a,u,d),typeof y!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var L=d.stack;this.componentDidCatch(d.value,{componentStack:L!==null?L:""})})}function m5(s,a,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&bu(a,u,y,!0),u=Qr.current,u!==null){switch(u.tag){case 31:case 13:return Ei===null?Vm():u.alternate===null&&dn===0&&(dn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===pm?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),lb(s,d,y)),!1;case 22:return u.flags|=65536,d===pm?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),lb(s,d,y)),!1}throw Error(r(435,u.tag))}return lb(s,d,y),Vm(),!1}if(Tt)return a=Qr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,d!==ny&&(s=Error(r(422),{cause:d}),Eh(pi(s,u)))):(d!==ny&&(a=Error(r(423),{cause:d}),Eh(pi(a,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,d=pi(d,u),y=By(s.stateNode,d,y),fy(s,y),dn!==4&&(dn=2)),!1;var b=Error(r(520),{cause:d});if(b=pi(b,u),Uh===null?Uh=[b]:Uh.push(b),dn!==4&&(dn=2),a===null)return!0;d=pi(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=By(u.stateNode,d,s),fy(u,s),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Za===null||!Za.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=vv(y),xv(y,s,u,d),fy(u,y),!1}u=u.return}while(u!==null);return!1}var Uy=Error(r(461)),Pn=!1;function nr(s,a,u,d){a.child=s===null?Iw(a,null,u,d):hl(a,s.child,u,d)}function Av(s,a,u,d,y){u=u.render;var b=a.ref;if("ref"in d){var A={};for(var L in d)L!=="ref"&&(A[L]=d[L])}else A=d;return ol(a),d=Ey(s,a,u,A,b,y),L=Ty(),s!==null&&!Pn?(_y(s,a,y),Js(s,a,y)):(Tt&&L&&ey(a),a.flags|=1,nr(s,a,d,y),a.child)}function Sv(s,a,u,d,y){if(s===null){var b=u.type;return typeof b=="function"&&!X0(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,Cv(s,a,b,d,y)):(s=um(u.type,null,d,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!Gy(s,y)){var A=b.memoizedProps;if(u=u.compare,u=u!==null?u:gh,u(A,d)&&s.ref===a.ref)return Js(s,a,y)}return a.flags|=1,s=$s(b,d),s.ref=a.ref,s.return=a,a.child=s}function Cv(s,a,u,d,y){if(s!==null){var b=s.memoizedProps;if(gh(b,d)&&s.ref===a.ref)if(Pn=!1,a.pendingProps=d=b,Gy(s,y))(s.flags&131072)!==0&&(Pn=!0);else return a.lanes=s.lanes,Js(s,a,y)}return jy(s,a,u,d,y)}function Iv(s,a,u,d){var y=d.children,b=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,s!==null){for(d=a.child=s.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~b}else d=0,a.child=null;return Nv(s,a,b,u,d)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&fm(a,b!==null?b.cachePool:null),b!==null?Rw(a,b):py(),Dw(a);else return d=a.lanes=536870912,Nv(s,a,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(fm(a,b.cachePool),Rw(a,b),Ka(),a.memoizedState=null):(s!==null&&fm(a,null),py(),Ka());return nr(s,a,y,u),a.child}function Rh(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Nv(s,a,u,d,y){var b=uy();return b=b===null?null:{parent:Dn._currentValue,pool:b},a.memoizedState={baseLanes:u,cachePool:b},s!==null&&fm(a,null),py(),Dw(a),s!==null&&bu(s,a,d,!0),a.childLanes=y,null}function Nm(s,a){return a=Rm({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function kv(s,a,u){return hl(a,s.child,null,u),s=Nm(a,a.pendingProps),s.flags|=2,Wr(a),a.memoizedState=null,s}function p5(s,a,u){var d=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Tt){if(d.mode==="hidden")return s=Nm(a,d),a.lanes=536870912,Rh(null,s);if(yy(a),(s=Kt)?(s=Hx(s,bi),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Va!==null?{id:Ts,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},u=fw(s),u.return=a,a.child=u,er=a,Kt=null)):s=null,s===null)throw Ha(a);return a.lanes=536870912,null}return Nm(a,d)}var b=s.memoizedState;if(b!==null){var A=b.dehydrated;if(yy(a),y)if(a.flags&256)a.flags&=-257,a=kv(s,a,u);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(Pn||bu(s,a,u,!1),y=(u&s.childLanes)!==0,Pn||y){if(d=Ht,d!==null&&(A=Zc(d,u),A!==0&&A!==b.retryLane))throw b.retryLane=A,rl(s,A),Pr(d,s,A),Uy;Vm(),a=kv(s,a,u)}else s=b.treeContext,Kt=Ti(A.nextSibling),er=a,Tt=!0,Fa=null,bi=!1,s!==null&&gw(a,s),a=Nm(a,d),a.flags|=4096;return a}return s=$s(s.child,{mode:d.mode,children:d.children}),s.ref=a.ref,a.child=s,s.return=a,s}function km(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function jy(s,a,u,d,y){return ol(a),u=Ey(s,a,u,d,void 0,y),d=Ty(),s!==null&&!Pn?(_y(s,a,y),Js(s,a,y)):(Tt&&d&&ey(a),a.flags|=1,nr(s,a,u,y),a.child)}function Rv(s,a,u,d,y,b){return ol(a),a.updateQueue=null,u=Pw(a,d,u,y),Ow(s),d=Ty(),s!==null&&!Pn?(_y(s,a,b),Js(s,a,b)):(Tt&&d&&ey(a),a.flags|=1,nr(s,a,u,b),a.child)}function Dv(s,a,u,d,y){if(ol(a),a.stateNode===null){var b=mu,A=u.contextType;typeof A=="object"&&A!==null&&(b=tr(A)),b=new u(d,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=My,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=d,b.state=a.memoizedState,b.refs={},hy(a),A=u.contextType,b.context=typeof A=="object"&&A!==null?tr(A):mu,b.state=a.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Ly(a,u,A,d),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&My.enqueueReplaceState(b,b.state,null),Sh(a,d,b,y),Ah(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){b=a.stateNode;var L=a.memoizedProps,Q=fl(u,L);b.props=Q;var ae=b.context,ge=u.contextType;A=mu,typeof ge=="object"&&ge!==null&&(A=tr(ge));var Ee=u.getDerivedStateFromProps;ge=typeof Ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",L=a.pendingProps!==L,ge||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L||ae!==A)&&bv(a,b,d,A),qa=!1;var oe=a.memoizedState;b.state=oe,Sh(a,d,b,y),Ah(),ae=a.memoizedState,L||oe!==ae||qa?(typeof Ee=="function"&&(Ly(a,u,Ee,d),ae=a.memoizedState),(Q=qa||yv(a,u,Q,d,oe,ae,A))?(ge||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ae),b.props=d,b.state=ae,b.context=A,d=Q):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{b=a.stateNode,dy(s,a),A=a.memoizedProps,ge=fl(u,A),b.props=ge,Ee=a.pendingProps,oe=b.context,ae=u.contextType,Q=mu,typeof ae=="object"&&ae!==null&&(Q=tr(ae)),L=u.getDerivedStateFromProps,(ae=typeof L=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==Ee||oe!==Q)&&bv(a,b,d,Q),qa=!1,oe=a.memoizedState,b.state=oe,Sh(a,d,b,y),Ah();var ue=a.memoizedState;A!==Ee||oe!==ue||qa||s!==null&&s.dependencies!==null&&hm(s.dependencies)?(typeof L=="function"&&(Ly(a,u,L,d),ue=a.memoizedState),(ge=qa||yv(a,u,ge,d,oe,ue,Q)||s!==null&&s.dependencies!==null&&hm(s.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ue,Q),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ue,Q)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===s.memoizedProps&&oe===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&oe===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=ue),b.props=d,b.state=ue,b.context=Q,d=ge):(typeof b.componentDidUpdate!="function"||A===s.memoizedProps&&oe===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&oe===s.memoizedState||(a.flags|=1024),d=!1)}return b=d,km(s,a),d=(a.flags&128)!==0,b||d?(b=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&d?(a.child=hl(a,s.child,null,y),a.child=hl(a,null,u,y)):nr(s,a,u,y),a.memoizedState=b.state,s=a.child):s=Js(s,a,y),s}function Ov(s,a,u,d){return sl(),a.flags|=256,nr(s,a,u,d),a.child}var Vy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fy(s){return{baseLanes:s,cachePool:ww()}}function Hy(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Zr),s}function Pv(s,a,u){var d=a.pendingProps,y=!1,b=(a.flags&128)!==0,A;if((A=b)||(A=s!==null&&s.memoizedState===null?!1:(bn.current&2)!==0),A&&(y=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(Tt){if(y?$a(a):Ka(),(s=Kt)?(s=Hx(s,bi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Va!==null?{id:Ts,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},u=fw(s),u.return=a,a.child=u,er=a,Kt=null)):s=null,s===null)throw Ha(a);return xb(s)?a.lanes=32:a.lanes=536870912,null}var L=d.children;return d=d.fallback,y?(Ka(),y=a.mode,L=Rm({mode:"hidden",children:L},y),d=il(d,y,u,null),L.return=a,d.return=a,L.sibling=d,a.child=L,d=a.child,d.memoizedState=Fy(u),d.childLanes=Hy(s,A,u),a.memoizedState=Vy,Rh(null,d)):($a(a),zy(a,L))}var Q=s.memoizedState;if(Q!==null&&(L=Q.dehydrated,L!==null)){if(b)a.flags&256?($a(a),a.flags&=-257,a=qy(s,a,u)):a.memoizedState!==null?(Ka(),a.child=s.child,a.flags|=128,a=null):(Ka(),L=d.fallback,y=a.mode,d=Rm({mode:"visible",children:d.children},y),L=il(L,y,u,null),L.flags|=2,d.return=a,L.return=a,d.sibling=L,a.child=d,hl(a,s.child,null,u),d=a.child,d.memoizedState=Fy(u),d.childLanes=Hy(s,A,u),a.memoizedState=Vy,a=Rh(null,d));else if($a(a),xb(L)){if(A=L.nextSibling&&L.nextSibling.dataset,A)var ae=A.dgst;A=ae,d=Error(r(419)),d.stack="",d.digest=A,Eh({value:d,source:null,stack:null}),a=qy(s,a,u)}else if(Pn||bu(s,a,u,!1),A=(u&s.childLanes)!==0,Pn||A){if(A=Ht,A!==null&&(d=Zc(A,u),d!==0&&d!==Q.retryLane))throw Q.retryLane=d,rl(s,d),Pr(A,s,d),Uy;vb(L)||Vm(),a=qy(s,a,u)}else vb(L)?(a.flags|=192,a.child=s.child,a=null):(s=Q.treeContext,Kt=Ti(L.nextSibling),er=a,Tt=!0,Fa=null,bi=!1,s!==null&&gw(a,s),a=zy(a,d.children),a.flags|=4096);return a}return y?(Ka(),L=d.fallback,y=a.mode,Q=s.child,ae=Q.sibling,d=$s(Q,{mode:"hidden",children:d.children}),d.subtreeFlags=Q.subtreeFlags&65011712,ae!==null?L=$s(ae,L):(L=il(L,y,u,null),L.flags|=2),L.return=a,d.return=a,d.sibling=L,a.child=d,Rh(null,d),d=a.child,L=s.child.memoizedState,L===null?L=Fy(u):(y=L.cachePool,y!==null?(Q=Dn._currentValue,y=y.parent!==Q?{parent:Q,pool:Q}:y):y=ww(),L={baseLanes:L.baseLanes|u,cachePool:y}),d.memoizedState=L,d.childLanes=Hy(s,A,u),a.memoizedState=Vy,Rh(s.child,d)):($a(a),u=s.child,s=u.sibling,u=$s(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=u,a.memoizedState=null,u)}function zy(s,a){return a=Rm({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Rm(s,a){return s=Kr(22,s,null,a),s.lanes=0,s}function qy(s,a,u){return hl(a,s.child,null,u),s=zy(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Lv(s,a,u){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),sy(s.return,a,u)}function Yy(s,a,u,d,y,b){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:b}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=u,A.tailMode=y,A.treeForkCount=b)}function Mv(s,a,u){var d=a.pendingProps,y=d.revealOrder,b=d.tail;d=d.children;var A=bn.current,L=(A&2)!==0;if(L?(A=A&1|2,a.flags|=128):A&=1,M(bn,A),nr(s,a,d,u),d=Tt?bh:0,!L&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lv(s,u,a);else if(s.tag===19)Lv(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&Em(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Yy(a,!1,y,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&Em(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Yy(a,!0,u,null,b,d);break;case"together":Yy(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Js(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Xa|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(bu(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=$s(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=$s(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Gy(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&hm(s)))}function g5(s,a,u){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),za(a,Dn,s.memoizedState.cache),sl();break;case 27:case 5:Qe(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:za(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,yy(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?($a(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Pv(s,a,u):($a(a),s=Js(s,a,u),s!==null?s.sibling:null);$a(a);break;case 19:var y=(s.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(bu(s,a,u,!1),d=(u&a.childLanes)!==0),y){if(d)return Mv(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),M(bn,bn.current),d)break;return null;case 22:return a.lanes=0,Iv(s,a,u,a.pendingProps);case 24:za(a,Dn,s.memoizedState.cache)}return Js(s,a,u)}function Bv(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)Pn=!0;else{if(!Gy(s,u)&&(a.flags&128)===0)return Pn=!1,g5(s,a,u);Pn=(s.flags&131072)!==0}else Pn=!1,Tt&&(a.flags&1048576)!==0&&pw(a,bh,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(s=ul(a.elementType),a.type=s,typeof s=="function")X0(s)?(d=fl(s,d),a.tag=1,a=Dv(null,a,s,d,u)):(a.tag=0,a=jy(null,a,s,d,u));else{if(s!=null){var y=s.$$typeof;if(y===X){a.tag=11,a=Av(null,a,s,d,u);break e}else if(y===B){a.tag=14,a=Sv(null,a,s,d,u);break e}}throw a=he(s)||s,Error(r(306,a,""))}}return a;case 0:return jy(s,a,a.type,a.pendingProps,u);case 1:return d=a.type,y=fl(d,a.pendingProps),Dv(s,a,d,y,u);case 3:e:{if(ke(a,a.stateNode.containerInfo),s===null)throw Error(r(387));d=a.pendingProps;var b=a.memoizedState;y=b.element,dy(s,a),Sh(a,d,null,u);var A=a.memoizedState;if(d=A.cache,za(a,Dn,d),d!==b.cache&&ay(a,[Dn],u,!0),Ah(),d=A.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=Ov(s,a,d,u);break e}else if(d!==y){y=pi(Error(r(424)),a),Eh(y),a=Ov(s,a,d,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Kt=Ti(s.firstChild),er=a,Tt=!0,Fa=null,bi=!0,u=Iw(a,null,d,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(sl(),d===y){a=Js(s,a,u);break e}nr(s,a,d,u)}a=a.child}return a;case 26:return km(s,a),s===null?(u=Kx(a.type,null,a.pendingProps,null))?a.memoizedState=u:Tt||(u=a.type,s=a.pendingProps,d=$m(_e.current).createElement(u),d[Nn]=a,d[Yn]=s,rr(d,u,s),kn(d),a.stateNode=d):a.memoizedState=Kx(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Qe(a),s===null&&Tt&&(d=a.stateNode=Yx(a.type,a.pendingProps,_e.current),er=a,bi=!0,y=Kt,no(a.type)?(Ab=y,Kt=Ti(d.firstChild)):Kt=y),nr(s,a,a.pendingProps.children,u),km(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Tt&&((y=d=Kt)&&(d=G5(d,a.type,a.pendingProps,bi),d!==null?(a.stateNode=d,er=a,Kt=Ti(d.firstChild),bi=!1,y=!0):y=!1),y||Ha(a)),Qe(a),y=a.type,b=a.pendingProps,A=s!==null?s.memoizedProps:null,d=b.children,Tb(y,b)?d=null:A!==null&&Tb(y,A)&&(a.flags|=32),a.memoizedState!==null&&(y=Ey(s,a,o5,null,null,u),Gh._currentValue=y),km(s,a),nr(s,a,d,u),a.child;case 6:return s===null&&Tt&&((s=u=Kt)&&(u=$5(u,a.pendingProps,bi),u!==null?(a.stateNode=u,er=a,Kt=null,s=!0):s=!1),s||Ha(a)),null;case 13:return Pv(s,a,u);case 4:return ke(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=hl(a,null,d,u):nr(s,a,d,u),a.child;case 11:return Av(s,a,a.type,a.pendingProps,u);case 7:return nr(s,a,a.pendingProps,u),a.child;case 8:return nr(s,a,a.pendingProps.children,u),a.child;case 12:return nr(s,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,za(a,a.type,d.value),nr(s,a,d.children,u),a.child;case 9:return y=a.type._context,d=a.pendingProps.children,ol(a),y=tr(y),d=d(y),a.flags|=1,nr(s,a,d,u),a.child;case 14:return Sv(s,a,a.type,a.pendingProps,u);case 15:return Cv(s,a,a.type,a.pendingProps,u);case 19:return Mv(s,a,u);case 31:return p5(s,a,u);case 22:return Iv(s,a,u,a.pendingProps);case 24:return ol(a),d=tr(Dn),s===null?(y=uy(),y===null&&(y=Ht,b=oy(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),a.memoizedState={parent:d,cache:y},hy(a),za(a,Dn,y)):((s.lanes&u)!==0&&(dy(s,a),Sh(a,null,null,u),Ah()),y=s.memoizedState,b=a.memoizedState,y.parent!==d?(y={parent:d,cache:d},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),za(a,Dn,d)):(d=b.cache,za(a,Dn,d),d!==y.cache&&ay(a,[Dn],u,!0))),nr(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ea(s){s.flags|=4}function $y(s,a,u,d,y){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(cx())s.flags|=8192;else throw cl=pm,cy}else s.flags&=-16777217}function Uv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Jx(a))if(cx())s.flags|=8192;else throw cl=pm,cy}function Dm(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Uf():536870912,s.lanes|=a,ku|=a)}function Dh(s,a){if(!Tt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Qt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=d,s.childLanes=u,a}function y5(s,a,u){var d=a.pendingProps;switch(ty(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(a),null;case 1:return Qt(a),null;case 3:return u=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ws(Dn),Pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(yu(a)?ea(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ry())),Qt(a),null;case 26:var y=a.type,b=a.memoizedState;return s===null?(ea(a),b!==null?(Qt(a),Uv(a,b)):(Qt(a),$y(a,y,null,d,u))):b?b!==s.memoizedState?(ea(a),Qt(a),Uv(a,b)):(Qt(a),a.flags&=-16777217):(s=s.memoizedProps,s!==d&&ea(a),Qt(a),$y(a,y,s,d,u)),null;case 27:if(We(a),u=_e.current,y=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ea(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Qt(a),null}s=fe.current,yu(a)?yw(a):(s=Yx(y,d,u),a.stateNode=s,ea(a))}return Qt(a),null;case 5:if(We(a),y=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ea(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Qt(a),null}if(b=fe.current,yu(a))yw(a);else{var A=$m(_e.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?A.createElement("select",{is:d.is}):A.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?A.createElement(y,{is:d.is}):A.createElement(y)}}b[Nn]=a,b[Yn]=d;e:for(A=a.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}a.stateNode=b;e:switch(rr(b,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ea(a)}}return Qt(a),$y(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,u),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&ea(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(s=_e.current,yu(a)){if(s=a.stateNode,u=a.memoizedProps,d=null,y=er,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}s[Nn]=a,s=!!(s.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||Px(s.nodeValue,u)),s||Ha(a,!0)}else s=$m(s).createTextNode(d),s[Nn]=a,a.stateNode=s}return Qt(a),null;case 31:if(u=a.memoizedState,s===null||s.memoizedState!==null){if(d=yu(a),u!==null){if(s===null){if(!d)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Nn]=a}else sl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qt(a),s=!1}else u=ry(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return a.flags&256?(Wr(a),a):(Wr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Qt(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=yu(a),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Nn]=a}else sl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qt(a),y=!1}else y=ry(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Wr(a),a):(Wr(a),null)}return Wr(a),(a.flags&128)!==0?(a.lanes=u,a):(u=d!==null,s=s!==null&&s.memoizedState!==null,u&&(d=a.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)),u!==s&&u&&(a.child.flags|=8192),Dm(a,a.updateQueue),Qt(a),null);case 4:return Pe(),s===null&&pb(a.stateNode.containerInfo),Qt(a),null;case 10:return Ws(a.type),Qt(a),null;case 19:if(ee(bn),d=a.memoizedState,d===null)return Qt(a),null;if(y=(a.flags&128)!==0,b=d.rendering,b===null)if(y)Dh(d,!1);else{if(dn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Em(s),b!==null){for(a.flags|=128,Dh(d,!1),s=b.updateQueue,a.updateQueue=s,Dm(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)dw(u,s),u=u.sibling;return M(bn,bn.current&1|2),Tt&&Ks(a,d.treeForkCount),a.child}s=s.sibling}d.tail!==null&&Sn()>Bm&&(a.flags|=128,y=!0,Dh(d,!1),a.lanes=4194304)}else{if(!y)if(s=Em(b),s!==null){if(a.flags|=128,y=!0,s=s.updateQueue,a.updateQueue=s,Dm(a,s),Dh(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!Tt)return Qt(a),null}else 2*Sn()-d.renderingStartTime>Bm&&u!==536870912&&(a.flags|=128,y=!0,Dh(d,!1),a.lanes=4194304);d.isBackwards?(b.sibling=a.child,a.child=b):(s=d.last,s!==null?s.sibling=b:a.child=b,d.last=b)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Sn(),s.sibling=null,u=bn.current,M(bn,y?u&1|2:u&1),Tt&&Ks(a,d.treeForkCount),s):(Qt(a),null);case 22:case 23:return Wr(a),gy(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(u&536870912)!==0&&(a.flags&128)===0&&(Qt(a),a.subtreeFlags&6&&(a.flags|=8192)):Qt(a),u=a.updateQueue,u!==null&&Dm(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),s!==null&&ee(ll),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ws(Dn),Qt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function b5(s,a){switch(ty(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ws(Dn),Pe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 31:if(a.memoizedState!==null){if(Wr(a),a.alternate===null)throw Error(r(340));sl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Wr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));sl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ee(bn),null;case 4:return Pe(),null;case 10:return Ws(a.type),null;case 22:case 23:return Wr(a),gy(),s!==null&&ee(ll),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ws(Dn),null;case 25:return null;default:return null}}function jv(s,a){switch(ty(a),a.tag){case 3:Ws(Dn),Pe();break;case 26:case 27:case 5:We(a);break;case 4:Pe();break;case 31:a.memoizedState!==null&&Wr(a);break;case 13:Wr(a);break;case 19:ee(bn);break;case 10:Ws(a.type);break;case 22:case 23:Wr(a),gy(),s!==null&&ee(ll);break;case 24:Ws(Dn)}}function Oh(s,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&s)===s){d=void 0;var b=u.create,A=u.inst;d=b(),A.destroy=d}u=u.next}while(u!==y)}}catch(L){Bt(a,a.return,L)}}function Qa(s,a,u){try{var d=a.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&s)===s){var A=d.inst,L=A.destroy;if(L!==void 0){A.destroy=void 0,y=a;var Q=u,ae=L;try{ae()}catch(ge){Bt(y,Q,ge)}}}d=d.next}while(d!==b)}}catch(ge){Bt(a,a.return,ge)}}function Vv(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{kw(a,u)}catch(d){Bt(s,s.return,d)}}}function Fv(s,a,u){u.props=fl(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(d){Bt(s,a,d)}}function Ph(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof u=="function"?s.refCleanup=u(d):u.current=d}}catch(y){Bt(s,a,y)}}function ws(s,a){var u=s.ref,d=s.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Bt(s,a,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Bt(s,a,y)}else u.current=null}function Hv(s){var a=s.type,u=s.memoizedProps,d=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Bt(s,s.return,y)}}function Ky(s,a,u){try{var d=s.stateNode;V5(d,s.type,u,a),d[Yn]=a}catch(y){Bt(s,s.return,y)}}function zv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&no(s.type)||s.tag===4}function Qy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||zv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&no(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wy(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ji));else if(d!==4&&(d===27&&no(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(Wy(s,a,u),s=s.sibling;s!==null;)Wy(s,a,u),s=s.sibling}function Om(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(d!==4&&(d===27&&no(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Om(s,a,u),s=s.sibling;s!==null;)Om(s,a,u),s=s.sibling}function qv(s){var a=s.stateNode,u=s.memoizedProps;try{for(var d=s.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);rr(a,d,u),a[Nn]=s,a[Yn]=u}catch(b){Bt(s,s.return,b)}}var ta=!1,Ln=!1,Xy=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,$n=null;function E5(s,a){if(s=s.containerInfo,bb=ep,s=rw(s),q0(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var A=0,L=-1,Q=-1,ae=0,ge=0,Ee=s,oe=null;t:for(;;){for(var ue;Ee!==u||y!==0&&Ee.nodeType!==3||(L=A+y),Ee!==b||d!==0&&Ee.nodeType!==3||(Q=A+d),Ee.nodeType===3&&(A+=Ee.nodeValue.length),(ue=Ee.firstChild)!==null;)oe=Ee,Ee=ue;for(;;){if(Ee===s)break t;if(oe===u&&++ae===y&&(L=A),oe===b&&++ge===d&&(Q=A),(ue=Ee.nextSibling)!==null)break;Ee=oe,oe=Ee.parentNode}Ee=ue}u=L===-1||Q===-1?null:{start:L,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Eb={focusedElem:s,selectionRange:u},ep=!1,$n=a;$n!==null;)if(a=$n,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,$n=s;else for(;$n!==null;){switch(a=$n,b=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)y=s[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=a,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Me=fl(u.type,y);s=d.getSnapshotBeforeUpdate(Me,b),d.__reactInternalSnapshotBeforeUpdate=s}catch(qe){Bt(u,u.return,qe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)wb(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":wb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,$n=s;break}$n=a.return}}function Gv(s,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:ra(s,u),d&4&&Oh(5,u);break;case 1:if(ra(s,u),d&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(A){Bt(u,u.return,A)}else{var y=fl(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(y,a,s.__reactInternalSnapshotBeforeUpdate)}catch(A){Bt(u,u.return,A)}}d&64&&Vv(u),d&512&&Ph(u,u.return);break;case 3:if(ra(s,u),d&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{kw(s,a)}catch(A){Bt(u,u.return,A)}}break;case 27:a===null&&d&4&&qv(u);case 26:case 5:ra(s,u),a===null&&d&4&&Hv(u),d&512&&Ph(u,u.return);break;case 12:ra(s,u);break;case 31:ra(s,u),d&4&&Qv(s,u);break;case 13:ra(s,u),d&4&&Wv(s,u),d&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=I5.bind(null,u),K5(s,u))));break;case 22:if(d=u.memoizedState!==null||ta,!d){a=a!==null&&a.memoizedState!==null||Ln,y=ta;var b=Ln;ta=d,(Ln=a)&&!b?ia(s,u,(u.subtreeFlags&8772)!==0):ra(s,u),ta=y,Ln=b}break;case 30:break;default:ra(s,u)}}function $v(s){var a=s.alternate;a!==null&&(s.alternate=null,$v(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&eu(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Jt=null,kr=!1;function na(s,a,u){for(u=u.child;u!==null;)Kv(s,a,u),u=u.sibling}function Kv(s,a,u){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(an,u)}catch{}switch(u.tag){case 26:Ln||ws(u,a),na(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ln||ws(u,a);var d=Jt,y=kr;no(u.type)&&(Jt=u.stateNode,kr=!1),na(s,a,u),zh(u.stateNode),Jt=d,kr=y;break;case 5:Ln||ws(u,a);case 6:if(d=Jt,y=kr,Jt=null,na(s,a,u),Jt=d,kr=y,Jt!==null)if(kr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(u.stateNode)}catch(b){Bt(u,a,b)}else try{Jt.removeChild(u.stateNode)}catch(b){Bt(u,a,b)}break;case 18:Jt!==null&&(kr?(s=Jt,Vx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Uu(s)):Vx(Jt,u.stateNode));break;case 4:d=Jt,y=kr,Jt=u.stateNode.containerInfo,kr=!0,na(s,a,u),Jt=d,kr=y;break;case 0:case 11:case 14:case 15:Qa(2,u,a),Ln||Qa(4,u,a),na(s,a,u);break;case 1:Ln||(ws(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&Fv(u,a,d)),na(s,a,u);break;case 21:na(s,a,u);break;case 22:Ln=(d=Ln)||u.memoizedState!==null,na(s,a,u),Ln=d;break;default:na(s,a,u)}}function Qv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Uu(s)}catch(u){Bt(a,a.return,u)}}}function Wv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Uu(s)}catch(u){Bt(a,a.return,u)}}function T5(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Yv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Yv),a;default:throw Error(r(435,s.tag))}}function Pm(s,a){var u=T5(s);a.forEach(function(d){if(!u.has(d)){u.add(d);var y=N5.bind(null,s,d);d.then(y,y)}})}function Rr(s,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=s,A=a,L=A;e:for(;L!==null;){switch(L.tag){case 27:if(no(L.type)){Jt=L.stateNode,kr=!1;break e}break;case 5:Jt=L.stateNode,kr=!1;break e;case 3:case 4:Jt=L.stateNode.containerInfo,kr=!0;break e}L=L.return}if(Jt===null)throw Error(r(160));Kv(b,A,y),Jt=null,kr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Xv(a,s),a=a.sibling}var Yi=null;function Xv(s,a){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Rr(a,s),Dr(s),d&4&&(Qa(3,s,s.return),Oh(3,s),Qa(5,s,s.return));break;case 1:Rr(a,s),Dr(s),d&512&&(Ln||u===null||ws(u,u.return)),d&64&&ta&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Yi;if(Rr(a,s),Dr(s),d&512&&(Ln||u===null||ws(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=s.memoizedState,u===null)if(d===null)if(s.stateNode===null){e:{d=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[ls]||b[Nn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),rr(b,d,u),b[Nn]=s,kn(b),d=b;break e;case"link":var A=Xx("link","href",y).get(d+(u.href||""));if(A){for(var L=0;L<A.length;L++)if(b=A[L],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(L,1);break t}}b=y.createElement(d),rr(b,d,u),y.head.appendChild(b);break;case"meta":if(A=Xx("meta","content",y).get(d+(u.content||""))){for(L=0;L<A.length;L++)if(b=A[L],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(L,1);break t}}b=y.createElement(d),rr(b,d,u),y.head.appendChild(b);break;default:throw Error(r(468,d))}b[Nn]=s,kn(b),d=b}s.stateNode=d}else Zx(y,s.type,s.stateNode);else s.stateNode=Wx(y,d,s.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?Zx(y,s.type,s.stateNode):Wx(y,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Ky(s,s.memoizedProps,u.memoizedProps)}break;case 27:Rr(a,s),Dr(s),d&512&&(Ln||u===null||ws(u,u.return)),u!==null&&d&4&&Ky(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Rr(a,s),Dr(s),d&512&&(Ln||u===null||ws(u,u.return)),s.flags&32){y=s.stateNode;try{Nr(y,"")}catch(Me){Bt(s,s.return,Me)}}d&4&&s.stateNode!=null&&(y=s.memoizedProps,Ky(s,y,u!==null?u.memoizedProps:y)),d&1024&&(Xy=!0);break;case 6:if(Rr(a,s),Dr(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,u=s.stateNode;try{u.nodeValue=d}catch(Me){Bt(s,s.return,Me)}}break;case 3:if(Wm=null,y=Yi,Yi=Km(a.containerInfo),Rr(a,s),Yi=y,Dr(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Uu(a.containerInfo)}catch(Me){Bt(s,s.return,Me)}Xy&&(Xy=!1,Zv(s));break;case 4:d=Yi,Yi=Km(s.stateNode.containerInfo),Rr(a,s),Dr(s),Yi=d;break;case 12:Rr(a,s),Dr(s);break;case 31:Rr(a,s),Dr(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Pm(s,d)));break;case 13:Rr(a,s),Dr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Mm=Sn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Pm(s,d)));break;case 22:y=s.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,ae=ta,ge=Ln;if(ta=ae||y,Ln=ge||Q,Rr(a,s),Ln=ge,ta=ae,Dr(s),d&8192)e:for(a=s.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||Q||ta||Ln||ml(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){Q=u=a;try{if(b=Q.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{L=Q.stateNode;var Ee=Q.memoizedProps.style,oe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;L.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Me){Bt(Q,Q.return,Me)}}}else if(a.tag===6){if(u===null){Q=a;try{Q.stateNode.nodeValue=y?"":Q.memoizedProps}catch(Me){Bt(Q,Q.return,Me)}}}else if(a.tag===18){if(u===null){Q=a;try{var ue=Q.stateNode;y?Fx(ue,!0):Fx(Q.stateNode,!1)}catch(Me){Bt(Q,Q.return,Me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Pm(s,u))));break;case 19:Rr(a,s),Dr(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Pm(s,d)));break;case 30:break;case 21:break;default:Rr(a,s),Dr(s)}}function Dr(s){var a=s.flags;if(a&2){try{for(var u,d=s.return;d!==null;){if(zv(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=Qy(s);Om(s,b,y);break;case 5:var A=u.stateNode;u.flags&32&&(Nr(A,""),u.flags&=-33);var L=Qy(s);Om(s,L,A);break;case 3:case 4:var Q=u.stateNode.containerInfo,ae=Qy(s);Wy(s,ae,Q);break;default:throw Error(r(161))}}catch(ge){Bt(s,s.return,ge)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Zv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Zv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ra(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Gv(s,a.alternate,a),a=a.sibling}function ml(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Qa(4,a,a.return),ml(a);break;case 1:ws(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Fv(a,a.return,u),ml(a);break;case 27:zh(a.stateNode);case 26:case 5:ws(a,a.return),ml(a);break;case 22:a.memoizedState===null&&ml(a);break;case 30:ml(a);break;default:ml(a)}s=s.sibling}}function ia(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,y=s,b=a,A=b.flags;switch(b.tag){case 0:case 11:case 15:ia(y,b,u),Oh(4,b);break;case 1:if(ia(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Bt(d,d.return,ae)}if(d=b,y=d.updateQueue,y!==null){var L=d.stateNode;try{var Q=y.shared.hiddenCallbacks;if(Q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Q.length;y++)Nw(Q[y],L)}catch(ae){Bt(d,d.return,ae)}}u&&A&64&&Vv(b),Ph(b,b.return);break;case 27:qv(b);case 26:case 5:ia(y,b,u),u&&d===null&&A&4&&Hv(b),Ph(b,b.return);break;case 12:ia(y,b,u);break;case 31:ia(y,b,u),u&&A&4&&Qv(y,b);break;case 13:ia(y,b,u),u&&A&4&&Wv(y,b);break;case 22:b.memoizedState===null&&ia(y,b,u),Ph(b,b.return);break;case 30:break;default:ia(y,b,u)}a=a.sibling}}function Zy(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Th(u))}function Jy(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Th(s))}function Gi(s,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jv(s,a,u,d),a=a.sibling}function Jv(s,a,u,d){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(s,a,u,d),y&2048&&Oh(9,a);break;case 1:Gi(s,a,u,d);break;case 3:Gi(s,a,u,d),y&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Th(s)));break;case 12:if(y&2048){Gi(s,a,u,d),s=a.stateNode;try{var b=a.memoizedProps,A=b.id,L=b.onPostCommit;typeof L=="function"&&L(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){Bt(a,a.return,Q)}}else Gi(s,a,u,d);break;case 31:Gi(s,a,u,d);break;case 13:Gi(s,a,u,d);break;case 23:break;case 22:b=a.stateNode,A=a.alternate,a.memoizedState!==null?b._visibility&2?Gi(s,a,u,d):Lh(s,a):b._visibility&2?Gi(s,a,u,d):(b._visibility|=2,Cu(s,a,u,d,(a.subtreeFlags&10256)!==0||!1)),y&2048&&Zy(A,a);break;case 24:Gi(s,a,u,d),y&2048&&Jy(a.alternate,a);break;default:Gi(s,a,u,d)}}function Cu(s,a,u,d,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=s,A=a,L=u,Q=d,ae=A.flags;switch(A.tag){case 0:case 11:case 15:Cu(b,A,L,Q,y),Oh(8,A);break;case 23:break;case 22:var ge=A.stateNode;A.memoizedState!==null?ge._visibility&2?Cu(b,A,L,Q,y):Lh(b,A):(ge._visibility|=2,Cu(b,A,L,Q,y)),y&&ae&2048&&Zy(A.alternate,A);break;case 24:Cu(b,A,L,Q,y),y&&ae&2048&&Jy(A.alternate,A);break;default:Cu(b,A,L,Q,y)}a=a.sibling}}function Lh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,d=a,y=d.flags;switch(d.tag){case 22:Lh(u,d),y&2048&&Zy(d.alternate,d);break;case 24:Lh(u,d),y&2048&&Jy(d.alternate,d);break;default:Lh(u,d)}a=a.sibling}}var Mh=8192;function Iu(s,a,u){if(s.subtreeFlags&Mh)for(s=s.child;s!==null;)ex(s,a,u),s=s.sibling}function ex(s,a,u){switch(s.tag){case 26:Iu(s,a,u),s.flags&Mh&&s.memoizedState!==null&&aL(u,Yi,s.memoizedState,s.memoizedProps);break;case 5:Iu(s,a,u);break;case 3:case 4:var d=Yi;Yi=Km(s.stateNode.containerInfo),Iu(s,a,u),Yi=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Mh,Mh=16777216,Iu(s,a,u),Mh=d):Iu(s,a,u));break;default:Iu(s,a,u)}}function tx(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Bh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];$n=d,rx(d,s)}tx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nx(s),s=s.sibling}function nx(s){switch(s.tag){case 0:case 11:case 15:Bh(s),s.flags&2048&&Qa(9,s,s.return);break;case 3:Bh(s);break;case 12:Bh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Lm(s)):Bh(s);break;default:Bh(s)}}function Lm(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];$n=d,rx(d,s)}tx(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Qa(8,a,a.return),Lm(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Lm(a));break;default:Lm(a)}s=s.sibling}}function rx(s,a){for(;$n!==null;){var u=$n;switch(u.tag){case 0:case 11:case 15:Qa(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Th(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,$n=d;else e:for(u=s;$n!==null;){d=$n;var y=d.sibling,b=d.return;if($v(d),d===u){$n=null;break e}if(y!==null){y.return=b,$n=y;break e}$n=b}}}var _5={getCacheForType:function(s){var a=tr(Dn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u},cacheSignal:function(){return tr(Dn).controller.signal}},w5=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Ht=null,ct=null,ft=0,Mt=0,Xr=null,Wa=!1,Nu=!1,eb=!1,sa=0,dn=0,Xa=0,pl=0,tb=0,Zr=0,ku=0,Uh=null,Or=null,nb=!1,Mm=0,ix=0,Bm=1/0,Um=null,Za=null,Hn=0,Ja=null,Ru=null,aa=0,rb=0,ib=null,sx=null,jh=0,sb=null;function Jr(){return(Dt&2)!==0&&ft!==0?ft&-ft:Z.T!==null?hb():jf()}function ax(){if(Zr===0)if((ft&536870912)===0||Tt){var s=Ho;Ho<<=1,(Ho&3932160)===0&&(Ho=262144),Zr=s}else Zr=536870912;return s=Qr.current,s!==null&&(s.flags|=32),Zr}function Pr(s,a,u){(s===Ht&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)&&(Du(s,0),eo(s,ft,Zr,!1)),zo(s,u),((Dt&2)===0||s!==Ht)&&(s===Ht&&((Dt&2)===0&&(pl|=u),dn===4&&eo(s,ft,Zr,!1)),vs(s))}function ox(s,a,u){if((Dt&6)!==0)throw Error(r(327));var d=!u&&(a&127)===0&&(a&s.expiredLanes)===0||Mi(s,a),y=d?A5(s,a):ob(s,a,!0),b=d;do{if(y===0){Nu&&!d&&eo(s,a,0,!1);break}else{if(u=s.current.alternate,b&&!v5(u)){y=ob(s,a,!1),b=!1;continue}if(y===2){if(b=a,s.errorRecoveryDisabledLanes&b)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var L=s;y=Uh;var Q=L.current.memoizedState.isDehydrated;if(Q&&(Du(L,A).flags|=256),A=ob(L,A,!1),A!==2){if(eb&&!Q){L.errorRecoveryDisabledLanes|=b,pl|=b,y=4;break e}b=Or,Or=y,b!==null&&(Or===null?Or=b:Or.push.apply(Or,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){Du(s,0),eo(s,a,0,!0);break}e:{switch(d=s,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:eo(d,a,Zr,!Wa);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=Mm+300-Sn(),10<y)){if(eo(d,a,Zr,!Wa),ss(d,0,!0)!==0)break e;aa=a,d.timeoutHandle=Ux(lx.bind(null,d,u,Or,Um,nb,a,Zr,pl,ku,Wa,b,"Throttled",-0,0),y);break e}lx(d,u,Or,Um,nb,a,Zr,pl,ku,Wa,b,null,-0,0)}}break}while(!0);vs(s)}function lx(s,a,u,d,y,b,A,L,Q,ae,ge,Ee,oe,ue){if(s.timeoutHandle=-1,Ee=a.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ji},ex(a,b,Ee);var Me=(b&62914560)===b?Mm-Sn():(b&4194048)===b?ix-Sn():0;if(Me=oL(Ee,Me),Me!==null){aa=b,s.cancelPendingCommit=Me(gx.bind(null,s,a,b,u,d,y,A,L,Q,ge,Ee,null,oe,ue)),eo(s,b,A,!ae);return}}gx(s,a,b,u,d,y,A,L,Q)}function v5(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!$r(b(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function eo(s,a,u,d){a&=~tb,a&=~pl,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var y=a;0<y;){var b=31-Et(y),A=1<<b;d[b]=-1,y&=~A}u!==0&&qo(s,u,a)}function jm(){return(Dt&6)===0?(Vh(0),!1):!0}function ab(){if(ct!==null){if(Mt===0)var s=ct.return;else s=ct,Qs=al=null,wy(s),wu=null,wh=0,s=ct;for(;s!==null;)jv(s.alternate,s),s=s.return;ct=null}}function Du(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,z5(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),aa=0,ab(),Ht=s,ct=u=$s(s.current,null),ft=a,Mt=0,Xr=null,Wa=!1,Nu=Mi(s,a),eb=!1,ku=Zr=tb=pl=Xa=dn=0,Or=Uh=null,nb=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var y=31-Et(d),b=1<<y;a|=s[y],d&=~b}return sa=a,am(),u}function ux(s,a){rt=null,Z.H=kh,a===_u||a===mm?(a=Aw(),Mt=3):a===cy?(a=Aw(),Mt=4):Mt=a===Uy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Xr=a,ct===null&&(dn=1,Im(s,pi(a,s.current)))}function cx(){var s=Qr.current;return s===null?!0:(ft&4194048)===ft?Ei===null:(ft&62914560)===ft||(ft&536870912)!==0?s===Ei:!1}function hx(){var s=Z.H;return Z.H=kh,s===null?kh:s}function dx(){var s=Z.A;return Z.A=_5,s}function Vm(){dn=4,Wa||(ft&4194048)!==ft&&Qr.current!==null||(Nu=!0),(Xa&134217727)===0&&(pl&134217727)===0||Ht===null||eo(Ht,ft,Zr,!1)}function ob(s,a,u){var d=Dt;Dt|=2;var y=hx(),b=dx();(Ht!==s||ft!==a)&&(Um=null,Du(s,a)),a=!1;var A=dn;e:do try{if(Mt!==0&&ct!==null){var L=ct,Q=Xr;switch(Mt){case 8:ab(),A=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(a=!0);var ae=Mt;if(Mt=0,Xr=null,Ou(s,L,Q,ae),u&&Nu){A=0;break e}break;default:ae=Mt,Mt=0,Xr=null,Ou(s,L,Q,ae)}}x5(),A=dn;break}catch(ge){ux(s,ge)}while(!0);return a&&s.shellSuspendCounter++,Qs=al=null,Dt=d,Z.H=y,Z.A=b,ct===null&&(Ht=null,ft=0,am()),A}function x5(){for(;ct!==null;)fx(ct)}function A5(s,a){var u=Dt;Dt|=2;var d=hx(),y=dx();Ht!==s||ft!==a?(Um=null,Bm=Sn()+500,Du(s,a)):Nu=Mi(s,a);e:do try{if(Mt!==0&&ct!==null){a=ct;var b=Xr;t:switch(Mt){case 1:Mt=0,Xr=null,Ou(s,a,b,1);break;case 2:case 9:if(vw(b)){Mt=0,Xr=null,mx(a);break}a=function(){Mt!==2&&Mt!==9||Ht!==s||(Mt=7),vs(s)},b.then(a,a);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:vw(b)?(Mt=0,Xr=null,mx(a)):(Mt=0,Xr=null,Ou(s,a,b,7));break;case 5:var A=null;switch(ct.tag){case 26:A=ct.memoizedState;case 5:case 27:var L=ct;if(A?Jx(A):L.stateNode.complete){Mt=0,Xr=null;var Q=L.sibling;if(Q!==null)ct=Q;else{var ae=L.return;ae!==null?(ct=ae,Fm(ae)):ct=null}break t}}Mt=0,Xr=null,Ou(s,a,b,5);break;case 6:Mt=0,Xr=null,Ou(s,a,b,6);break;case 8:ab(),dn=6;break e;default:throw Error(r(462))}}S5();break}catch(ge){ux(s,ge)}while(!0);return Qs=al=null,Z.H=d,Z.A=y,Dt=u,ct!==null?0:(Ht=null,ft=0,am(),dn)}function S5(){for(;ct!==null&&!Fo();)fx(ct)}function fx(s){var a=Bv(s.alternate,s,sa);s.memoizedProps=s.pendingProps,a===null?Fm(s):ct=a}function mx(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=Rv(u,a,a.pendingProps,a.type,void 0,ft);break;case 11:a=Rv(u,a,a.pendingProps,a.type.render,a.ref,ft);break;case 5:wy(a);default:jv(u,a),a=ct=dw(a,sa),a=Bv(u,a,sa)}s.memoizedProps=s.pendingProps,a===null?Fm(s):ct=a}function Ou(s,a,u,d){Qs=al=null,wy(a),wu=null,wh=0;var y=a.return;try{if(m5(s,y,a,u,ft)){dn=1,Im(s,pi(u,s.current)),ct=null;return}}catch(b){if(y!==null)throw ct=y,b;dn=1,Im(s,pi(u,s.current)),ct=null;return}a.flags&32768?(Tt||d===1?s=!0:Nu||(ft&536870912)!==0?s=!1:(Wa=s=!0,(d===2||d===9||d===3||d===6)&&(d=Qr.current,d!==null&&d.tag===13&&(d.flags|=16384))),px(a,s)):Fm(a)}function Fm(s){var a=s;do{if((a.flags&32768)!==0){px(a,Wa);return}s=a.return;var u=y5(a.alternate,a,sa);if(u!==null){ct=u;return}if(a=a.sibling,a!==null){ct=a;return}ct=a=s}while(a!==null);dn===0&&(dn=5)}function px(s,a){do{var u=b5(s.alternate,s);if(u!==null){u.flags&=32767,ct=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){ct=s;return}ct=s=u}while(s!==null);dn=6,ct=null}function gx(s,a,u,d,y,b,A,L,Q){s.cancelPendingCommit=null;do Hm();while(Hn!==0);if((Dt&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=Q0,V0(s,u,b,A,L,Q),s===Ht&&(ct=Ht=null,ft=0),Ru=a,Ja=s,aa=u,rb=b,ib=y,sx=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,k5(Fe,function(){return _x(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=Z.T,Z.T=null,y=ce.p,ce.p=2,A=Dt,Dt|=4;try{E5(s,a,u)}finally{Dt=A,ce.p=y,Z.T=d}}Hn=1,yx(),bx(),Ex()}}function yx(){if(Hn===1){Hn=0;var s=Ja,a=Ru,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var d=ce.p;ce.p=2;var y=Dt;Dt|=4;try{Xv(a,s);var b=Eb,A=rw(s.containerInfo),L=b.focusedElem,Q=b.selectionRange;if(A!==L&&L&&L.ownerDocument&&nw(L.ownerDocument.documentElement,L)){if(Q!==null&&q0(L)){var ae=Q.start,ge=Q.end;if(ge===void 0&&(ge=ae),"selectionStart"in L)L.selectionStart=ae,L.selectionEnd=Math.min(ge,L.value.length);else{var Ee=L.ownerDocument||document,oe=Ee&&Ee.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),Me=L.textContent.length,qe=Math.min(Q.start,Me),Ft=Q.end===void 0?qe:Math.min(Q.end,Me);!ue.extend&&qe>Ft&&(A=Ft,Ft=qe,qe=A);var te=tw(L,qe),W=tw(L,Ft);if(te&&W&&(ue.rangeCount!==1||ue.anchorNode!==te.node||ue.anchorOffset!==te.offset||ue.focusNode!==W.node||ue.focusOffset!==W.offset)){var se=Ee.createRange();se.setStart(te.node,te.offset),ue.removeAllRanges(),qe>Ft?(ue.addRange(se),ue.extend(W.node,W.offset)):(se.setEnd(W.node,W.offset),ue.addRange(se))}}}}for(Ee=[],ue=L;ue=ue.parentNode;)ue.nodeType===1&&Ee.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Ee.length;L++){var ye=Ee[L];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}ep=!!bb,Eb=bb=null}finally{Dt=y,ce.p=d,Z.T=u}}s.current=a,Hn=2}}function bx(){if(Hn===2){Hn=0;var s=Ja,a=Ru,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var d=ce.p;ce.p=2;var y=Dt;Dt|=4;try{Gv(s,a.alternate,a)}finally{Dt=y,ce.p=d,Z.T=u}}Hn=3}}function Ex(){if(Hn===4||Hn===3){Hn=0,ka();var s=Ja,a=Ru,u=aa,d=sx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Hn=5:(Hn=0,Ru=Ja=null,Tx(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Za=null),zs(u),a=a.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(an,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=Z.T,y=ce.p,ce.p=2,Z.T=null;try{for(var b=s.onRecoverableError,A=0;A<d.length;A++){var L=d[A];b(L.value,{componentStack:L.stack})}}finally{Z.T=a,ce.p=y}}(aa&3)!==0&&Hm(),vs(s),y=s.pendingLanes,(u&261930)!==0&&(y&42)!==0?s===sb?jh++:(jh=0,sb=s):jh=0,Vh(0)}}function Tx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Th(a)))}function Hm(){return yx(),bx(),Ex(),_x()}function _x(){if(Hn!==5)return!1;var s=Ja,a=rb;rb=0;var u=zs(aa),d=Z.T,y=ce.p;try{ce.p=32>u?32:u,Z.T=null,u=ib,ib=null;var b=Ja,A=aa;if(Hn=0,Ru=Ja=null,aa=0,(Dt&6)!==0)throw Error(r(331));var L=Dt;if(Dt|=4,nx(b.current),Jv(b,b.current,A,u),Dt=L,Vh(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(an,b)}catch{}return!0}finally{ce.p=y,Z.T=d,Tx(s,a)}}function wx(s,a,u){a=pi(u,a),a=By(s.stateNode,a,2),s=Ga(s,a,2),s!==null&&(zo(s,2),vs(s))}function Bt(s,a,u){if(s.tag===3)wx(s,s,u);else for(;a!==null;){if(a.tag===3){wx(a,s,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Za===null||!Za.has(d))){s=pi(u,s),u=vv(2),d=Ga(a,u,2),d!==null&&(xv(u,d,a,s),zo(d,2),vs(d));break}}a=a.return}}function lb(s,a,u){var d=s.pingCache;if(d===null){d=s.pingCache=new w5;var y=new Set;d.set(a,y)}else y=d.get(a),y===void 0&&(y=new Set,d.set(a,y));y.has(u)||(eb=!0,y.add(u),s=C5.bind(null,s,a,u),a.then(s,s))}function C5(s,a,u){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Ht===s&&(ft&u)===u&&(dn===4||dn===3&&(ft&62914560)===ft&&300>Sn()-Mm?(Dt&2)===0&&Du(s,0):tb|=u,ku===ft&&(ku=0)),vs(s)}function vx(s,a){a===0&&(a=Uf()),s=rl(s,a),s!==null&&(zo(s,a),vs(s))}function I5(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),vx(s,u)}function N5(s,a){var u=0;switch(s.tag){case 31:case 13:var d=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),vx(s,u)}function k5(s,a){return xt(s,a)}var zm=null,Pu=null,ub=!1,qm=!1,cb=!1,to=0;function vs(s){s!==Pu&&s.next===null&&(Pu===null?zm=Pu=s:Pu=Pu.next=s),qm=!0,ub||(ub=!0,D5())}function Vh(s,a){if(!cb&&qm){cb=!0;do for(var u=!1,d=zm;d!==null;){if(s!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var A=d.suspendedLanes,L=d.pingedLanes;b=(1<<31-Et(42|s)+1)-1,b&=y&~(A&~L),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,Cx(d,b))}else b=ft,b=ss(d,d===Ht?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Mi(d,b)||(u=!0,Cx(d,b));d=d.next}while(u);cb=!1}}function R5(){xx()}function xx(){qm=ub=!1;var s=0;to!==0&&H5()&&(s=to);for(var a=Sn(),u=null,d=zm;d!==null;){var y=d.next,b=Ax(d,a);b===0?(d.next=null,u===null?zm=y:u.next=y,y===null&&(Pu=u)):(u=d,(s!==0||(b&3)!==0)&&(qm=!0)),d=y}Hn!==0&&Hn!==5||Vh(s),to!==0&&(to=0)}function Ax(s,a){for(var u=s.suspendedLanes,d=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var A=31-Et(b),L=1<<A,Q=y[A];Q===-1?((L&u)===0||(L&d)!==0)&&(y[A]=j0(L,a)):Q<=a&&(s.expiredLanes|=L),b&=~L}if(a=Ht,u=ft,u=ss(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,u===0||s===a&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&ui(d),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Mi(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(d!==null&&ui(d),zs(u)){case 2:case 8:u=Ne;break;case 32:u=Fe;break;case 268435456:u=bt;break;default:u=Fe}return d=Sx.bind(null,s),u=xt(u,d),s.callbackPriority=a,s.callbackNode=u,a}return d!==null&&d!==null&&ui(d),s.callbackPriority=2,s.callbackNode=null,2}function Sx(s,a){if(Hn!==0&&Hn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Hm()&&s.callbackNode!==u)return null;var d=ft;return d=ss(s,s===Ht?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(ox(s,d,a),Ax(s,Sn()),s.callbackNode!=null&&s.callbackNode===u?Sx.bind(null,s):null)}function Cx(s,a){if(Hm())return null;ox(s,a,!0)}function D5(){q5(function(){(Dt&6)!==0?xt(pe,R5):xx()})}function hb(){if(to===0){var s=Eu;s===0&&(s=rs,rs<<=1,(rs&261888)===0&&(rs=256)),to=s}return to}function Ix(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:iu(""+s)}function Nx(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function O5(s,a,u,d,y){if(a==="submit"&&u&&u.stateNode===y){var b=Ix((y[Yn]||null).action),A=d.submitter;A&&(a=(a=A[Yn]||null)?Ix(a.formAction):A.getAttribute("formAction"),a!==null&&(b=a,A=null));var L=new gs("action","action",null,d,y);s.push({event:L,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(to!==0){var Q=A?Nx(y,A):new FormData(y);Ry(u,{pending:!0,data:Q,method:y.method,action:b},null,Q)}}else typeof b=="function"&&(L.preventDefault(),Q=A?Nx(y,A):new FormData(y),Ry(u,{pending:!0,data:Q,method:y.method,action:b},b,Q))},currentTarget:y}]})}}for(var db=0;db<K0.length;db++){var fb=K0[db],P5=fb.toLowerCase(),L5=fb[0].toUpperCase()+fb.slice(1);qi(P5,"on"+L5)}qi(aw,"onAnimationEnd"),qi(ow,"onAnimationIteration"),qi(lw,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(XP,"onTransitionRun"),qi(ZP,"onTransitionStart"),qi(JP,"onTransitionCancel"),qi(uw,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fh));function kx(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],y=d.event;d=d.listeners;e:{var b=void 0;if(a)for(var A=d.length-1;0<=A;A--){var L=d[A],Q=L.instance,ae=L.currentTarget;if(L=L.listener,Q!==b&&y.isPropagationStopped())break e;b=L,y.currentTarget=ae;try{b(y)}catch(ge){sm(ge)}y.currentTarget=null,b=Q}else for(A=0;A<d.length;A++){if(L=d[A],Q=L.instance,ae=L.currentTarget,L=L.listener,Q!==b&&y.isPropagationStopped())break e;b=L,y.currentTarget=ae;try{b(y)}catch(ge){sm(ge)}y.currentTarget=null,b=Q}}}}function ht(s,a){var u=a[Jl];u===void 0&&(u=a[Jl]=new Set);var d=s+"__bubble";u.has(d)||(Rx(a,s,2,!1),u.add(d))}function mb(s,a,u){var d=0;a&&(d|=4),Rx(u,s,d,a)}var Ym="_reactListening"+Math.random().toString(36).slice(2);function pb(s){if(!s[Ym]){s[Ym]=!0,Jc.forEach(function(u){u!=="selectionchange"&&(M5.has(u)||mb(u,!1,s),mb(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ym]||(a[Ym]=!0,mb("selectionchange",!1,a))}}function Rx(s,a,u,d){switch(aA(a)){case 2:var y=cL;break;case 8:y=hL;break;default:y=kb}u=y.bind(null,a,u,s),y=void 0,!Qo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),d?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function gb(s,a,u,d,y){var b=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var L=d.stateNode.containerInfo;if(L===y)break;if(A===4)for(A=d.return;A!==null;){var Q=A.tag;if((Q===3||Q===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;L!==null;){if(A=us(L),A===null)return;if(Q=A.tag,Q===5||Q===6||Q===26||Q===27){d=b=A;continue e}L=L.parentNode}}d=d.return}Ma(function(){var ae=b,ge=hi(u),Ee=[];e:{var oe=cw.get(s);if(oe!==void 0){var ue=gs,Me=s;switch(s){case"keypress":if(Xo(u)===0)break e;case"keydown":case"keyup":ue=nm;break;case"focusin":Me="focus",ue=Jo;break;case"focusout":Me="blur",ue=Jo;break;case"beforeblur":case"afterblur":ue=Jo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=v;break;case aw:case ow:case lw:ue=Qf;break;case uw:ue=j;break;case"scroll":case"scrollend":ue=hh;break;case"wheel":ue=le;break;case"copy":case"cut":case"paste":ue=Wf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Gs;break;case"toggle":case"beforetoggle":ue=nt}var qe=(a&4)!==0,Ft=!qe&&(s==="scroll"||s==="scrollend"),te=qe?oe!==null?oe+"Capture":null:oe;qe=[];for(var W=ae,se;W!==null;){var ye=W;if(se=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||se===null||te===null||(ye=Vi(W,te),ye!=null&&qe.push(Hh(W,ye,se))),Ft)break;W=W.return}0<qe.length&&(oe=new ue(oe,Me,null,u,ge),Ee.push({event:oe,listeners:qe}))}}if((a&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",oe&&u!==lh&&(Me=u.relatedTarget||u.fromElement)&&(us(Me)||Me[os]))break e;if((ue||oe)&&(oe=ge.window===ge?ge:(oe=ge.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(Me=u.relatedTarget||u.toElement,ue=ae,Me=Me?us(Me):null,Me!==null&&(Ft=o(Me),qe=Me.tag,Me!==Ft||qe!==5&&qe!==27&&qe!==6)&&(Me=null)):(ue=null,Me=ae),ue!==Me)){if(qe=dh,ye="onMouseLeave",te="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(qe=Gs,ye="onPointerLeave",te="onPointerEnter",W="pointer"),Ft=ue==null?oe:Yr(ue),se=Me==null?oe:Yr(Me),oe=new qe(ye,W+"leave",ue,u,ge),oe.target=Ft,oe.relatedTarget=se,ye=null,us(ge)===ae&&(qe=new qe(te,W+"enter",Me,u,ge),qe.target=se,qe.relatedTarget=Ft,ye=qe),Ft=ye,ue&&Me)t:{for(qe=B5,te=ue,W=Me,se=0,ye=te;ye;ye=qe(ye))se++;ye=0;for(var je=W;je;je=qe(je))ye++;for(;0<se-ye;)te=qe(te),se--;for(;0<ye-se;)W=qe(W),ye--;for(;se--;){if(te===W||W!==null&&te===W.alternate){qe=te;break t}te=qe(te),W=qe(W)}qe=null}else qe=null;ue!==null&&Dx(Ee,oe,ue,qe,!1),Me!==null&&Ft!==null&&Dx(Ee,Ft,Me,qe,!0)}}e:{if(oe=ae?Yr(ae):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var St=Q2;else if($2(oe))if(W2)St=KP;else{St=GP;var Ue=YP}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&ru(ae.elementType)&&(St=Q2):St=$P;if(St&&(St=St(s,ae))){K2(Ee,St,u,ge);break e}Ue&&Ue(s,oe,ae),s==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&sh(oe,"number",oe.value)}switch(Ue=ae?Yr(ae):window,s){case"focusin":($2(Ue)||Ue.contentEditable==="true")&&(hu=Ue,Y0=ae,yh=null);break;case"focusout":yh=Y0=hu=null;break;case"mousedown":G0=!0;break;case"contextmenu":case"mouseup":case"dragend":G0=!1,iw(Ee,u,ge);break;case"selectionchange":if(WP)break;case"keydown":case"keyup":iw(Ee,u,ge)}var at;if(Rt)e:{switch(s){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else cu?el(s,u)&&(mt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(mt="onCompositionStart");mt&&(Es&&u.locale!=="ko"&&(cu||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&cu&&(at=ch()):(ps=ge,uh="value"in ps?ps.value:ps.textContent,cu=!0)),Ue=Gm(ae,mt),0<Ue.length&&(mt=new bs(mt,s,null,u,ge),Ee.push({event:mt,listeners:Ue}),at?mt.data=at:(at=uu(u),at!==null&&(mt.data=at)))),(at=fi?FP(s,u):HP(s,u))&&(mt=Gm(ae,"onBeforeInput"),0<mt.length&&(Ue=new bs("onBeforeInput","beforeinput",null,u,ge),Ee.push({event:Ue,listeners:mt}),Ue.data=at)),O5(Ee,s,ae,u,ge)}kx(Ee,a)})}function Hh(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Gm(s,a){for(var u=a+"Capture",d=[];s!==null;){var y=s,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Vi(s,u),y!=null&&d.unshift(Hh(s,y,b)),y=Vi(s,a),y!=null&&d.push(Hh(s,y,b))),s.tag===3)return d;s=s.return}return[]}function B5(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Dx(s,a,u,d,y){for(var b=a._reactName,A=[];u!==null&&u!==d;){var L=u,Q=L.alternate,ae=L.stateNode;if(L=L.tag,Q!==null&&Q===d)break;L!==5&&L!==26&&L!==27||ae===null||(Q=ae,y?(ae=Vi(u,b),ae!=null&&A.unshift(Hh(u,ae,Q))):y||(ae=Vi(u,b),ae!=null&&A.push(Hh(u,ae,Q)))),u=u.return}A.length!==0&&s.push({event:a,listeners:A})}var U5=/\r\n?/g,j5=/\u0000|\uFFFD/g;function Ox(s){return(typeof s=="string"?s:""+s).replace(U5,`
`).replace(j5,"")}function Px(s,a){return a=Ox(a),Ox(s)===a}function Vt(s,a,u,d,y,b){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Nr(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Nr(s,""+d);break;case"className":Gr(s,"class",d);break;case"tabIndex":Gr(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(s,u,d);break;case"style":oh(s,d,b);break;case"data":if(a!=="object"){Gr(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=iu(""+d),s.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Vt(s,a,"name",y.name,y,null),Vt(s,a,"formEncType",y.formEncType,y,null),Vt(s,a,"formMethod",y.formMethod,y,null),Vt(s,a,"formTarget",y.formTarget,y,null)):(Vt(s,a,"encType",y.encType,y,null),Vt(s,a,"method",y.method,y,null),Vt(s,a,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=iu(""+d),s.setAttribute(u,d);break;case"onClick":d!=null&&(s.onclick=ji);break;case"onScroll":d!=null&&ht("scroll",s);break;case"onScrollEnd":d!=null&&ht("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}u=iu(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""+d):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":d===!0?s.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,d):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(u,d):s.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(u):s.setAttribute(u,d);break;case"popover":ht("beforetoggle",s),ht("toggle",s),tu(s,"popover",d);break;case"xlinkActuate":Rn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Rn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Rn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Rn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Rn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Rn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Rn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Rn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Rn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":tu(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Gf.get(u)||u,tu(s,u,d))}}function yb(s,a,u,d,y,b){switch(u){case"style":oh(s,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof d=="string"?Nr(s,d):(typeof d=="number"||typeof d=="bigint")&&Nr(s,""+d);break;case"onScroll":d!=null&&ht("scroll",s);break;case"onScrollEnd":d!=null&&ht("scrollend",s);break;case"onClick":d!=null&&(s.onclick=ji);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eh.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),b=s[Yn]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(a,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,d,y);break e}u in s?s[u]=d:d===!0?s.setAttribute(u,""):tu(s,u,d)}}}function rr(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",s),ht("load",s);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var A=u[b];if(A!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Vt(s,a,b,A,u,null)}}y&&Vt(s,a,"srcSet",u.srcSet,u,null),d&&Vt(s,a,"src",u.src,u,null);return;case"input":ht("invalid",s);var L=b=A=y=null,Q=null,ae=null;for(d in u)if(u.hasOwnProperty(d)){var ge=u[d];if(ge!=null)switch(d){case"name":y=ge;break;case"type":A=ge;break;case"checked":Q=ge;break;case"defaultChecked":ae=ge;break;case"value":b=ge;break;case"defaultValue":L=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,a));break;default:Vt(s,a,d,ge,u,null)}}zf(s,b,L,Q,ae,A,y,!1);return;case"select":ht("invalid",s),d=A=b=null;for(y in u)if(u.hasOwnProperty(y)&&(L=u[y],L!=null))switch(y){case"value":b=L;break;case"defaultValue":A=L;break;case"multiple":d=L;default:Vt(s,a,y,L,u,null)}a=b,u=A,s.multiple=!!d,a!=null?Da(s,!!d,a,!1):u!=null&&Da(s,!!d,u,!0);return;case"textarea":ht("invalid",s),b=y=d=null;for(A in u)if(u.hasOwnProperty(A)&&(L=u[A],L!=null))switch(A){case"value":d=L;break;case"defaultValue":y=L;break;case"children":b=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Vt(s,a,A,L,u,null)}Oa(s,d,y,b);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(d=u[Q],d!=null))switch(Q){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Vt(s,a,Q,d,u,null)}return;case"dialog":ht("beforetoggle",s),ht("toggle",s),ht("cancel",s),ht("close",s);break;case"iframe":case"object":ht("load",s);break;case"video":case"audio":for(d=0;d<Fh.length;d++)ht(Fh[d],s);break;case"image":ht("error",s),ht("load",s);break;case"details":ht("toggle",s);break;case"embed":case"source":case"link":ht("error",s),ht("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(d=u[ae],d!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Vt(s,a,ae,d,u,null)}return;default:if(ru(a)){for(ge in u)u.hasOwnProperty(ge)&&(d=u[ge],d!==void 0&&yb(s,a,ge,d,u,void 0));return}}for(L in u)u.hasOwnProperty(L)&&(d=u[L],d!=null&&Vt(s,a,L,d,u,null))}function V5(s,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,L=null,Q=null,ae=null,ge=null;for(ue in u){var Ee=u[ue];if(u.hasOwnProperty(ue)&&Ee!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Q=Ee;default:d.hasOwnProperty(ue)||Vt(s,a,ue,null,d,Ee)}}for(var oe in d){var ue=d[oe];if(Ee=u[oe],d.hasOwnProperty(oe)&&(ue!=null||Ee!=null))switch(oe){case"type":b=ue;break;case"name":y=ue;break;case"checked":ae=ue;break;case"defaultChecked":ge=ue;break;case"value":A=ue;break;case"defaultValue":L=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,a));break;default:ue!==Ee&&Vt(s,a,oe,ue,d,Ee)}}nu(s,A,L,Q,ae,ge,b,y);return;case"select":ue=A=L=oe=null;for(b in u)if(Q=u[b],u.hasOwnProperty(b)&&Q!=null)switch(b){case"value":break;case"multiple":ue=Q;default:d.hasOwnProperty(b)||Vt(s,a,b,null,d,Q)}for(y in d)if(b=d[y],Q=u[y],d.hasOwnProperty(y)&&(b!=null||Q!=null))switch(y){case"value":oe=b;break;case"defaultValue":L=b;break;case"multiple":A=b;default:b!==Q&&Vt(s,a,y,b,d,Q)}a=L,u=A,d=ue,oe!=null?Da(s,!!u,oe,!1):!!d!=!!u&&(a!=null?Da(s,!!u,a,!0):Da(s,!!u,u?[]:"",!1));return;case"textarea":ue=oe=null;for(L in u)if(y=u[L],u.hasOwnProperty(L)&&y!=null&&!d.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Vt(s,a,L,null,d,y)}for(A in d)if(y=d[A],b=u[A],d.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":oe=y;break;case"defaultValue":ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&Vt(s,a,A,y,d,b)}qf(s,oe,ue);return;case"option":for(var Me in u)if(oe=u[Me],u.hasOwnProperty(Me)&&oe!=null&&!d.hasOwnProperty(Me))switch(Me){case"selected":s.selected=!1;break;default:Vt(s,a,Me,null,d,oe)}for(Q in d)if(oe=d[Q],ue=u[Q],d.hasOwnProperty(Q)&&oe!==ue&&(oe!=null||ue!=null))switch(Q){case"selected":s.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Vt(s,a,Q,oe,d,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in u)oe=u[qe],u.hasOwnProperty(qe)&&oe!=null&&!d.hasOwnProperty(qe)&&Vt(s,a,qe,null,d,oe);for(ae in d)if(oe=d[ae],ue=u[ae],d.hasOwnProperty(ae)&&oe!==ue&&(oe!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,a));break;default:Vt(s,a,ae,oe,d,ue)}return;default:if(ru(a)){for(var Ft in u)oe=u[Ft],u.hasOwnProperty(Ft)&&oe!==void 0&&!d.hasOwnProperty(Ft)&&yb(s,a,Ft,void 0,d,oe);for(ge in d)oe=d[ge],ue=u[ge],!d.hasOwnProperty(ge)||oe===ue||oe===void 0&&ue===void 0||yb(s,a,ge,oe,d,ue);return}}for(var te in u)oe=u[te],u.hasOwnProperty(te)&&oe!=null&&!d.hasOwnProperty(te)&&Vt(s,a,te,null,d,oe);for(Ee in d)oe=d[Ee],ue=u[Ee],!d.hasOwnProperty(Ee)||oe===ue||oe==null&&ue==null||Vt(s,a,Ee,oe,d,ue)}function Lx(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F5(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],b=y.transferSize,A=y.initiatorType,L=y.duration;if(b&&L&&Lx(A)){for(A=0,L=y.responseEnd,d+=1;d<u.length;d++){var Q=u[d],ae=Q.startTime;if(ae>L)break;var ge=Q.transferSize,Ee=Q.initiatorType;ge&&Lx(Ee)&&(Q=Q.responseEnd,A+=ge*(Q<L?1:(L-ae)/(Q-ae)))}if(--d,a+=8*(b+A)/(y.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var bb=null,Eb=null;function $m(s){return s.nodeType===9?s:s.ownerDocument}function Mx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bx(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Tb(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _b=null;function H5(){var s=window.event;return s&&s.type==="popstate"?s===_b?!1:(_b=s,!0):(_b=null,!1)}var Ux=typeof setTimeout=="function"?setTimeout:void 0,z5=typeof clearTimeout=="function"?clearTimeout:void 0,jx=typeof Promise=="function"?Promise:void 0,q5=typeof queueMicrotask=="function"?queueMicrotask:typeof jx<"u"?function(s){return jx.resolve(null).then(s).catch(Y5)}:Ux;function Y5(s){setTimeout(function(){throw s})}function no(s){return s==="head"}function Vx(s,a){var u=a,d=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){s.removeChild(y),Uu(a);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")zh(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,zh(u);for(var b=u.firstChild;b;){var A=b.nextSibling,L=b.nodeName;b[ls]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=A}}else u==="body"&&zh(s.ownerDocument.body);u=y}while(u);Uu(a)}function Fx(s,a){var u=s;s=0;do{var d=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=d}while(u)}function wb(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":wb(u),eu(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function G5(s,a,u,d){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[ls])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Ti(s.nextSibling),s===null)break}return null}function $5(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Ti(s.nextSibling),s===null))return null;return s}function Hx(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Ti(s.nextSibling),s===null))return null;return s}function vb(s){return s.data==="$?"||s.data==="$~"}function xb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function K5(s,a){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||u.readyState!=="loading")a();else{var d=function(){a(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Ti(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Ab=null;function zx(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(a===0)return Ti(s.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}s=s.nextSibling}return null}function qx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return s;a--}else u!=="/$"&&u!=="/&"||a++}s=s.previousSibling}return null}function Yx(s,a,u){switch(a=$m(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function zh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);eu(s)}var _i=new Map,Gx=new Set;function Km(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var oa=ce.d;ce.d={f:Q5,r:W5,D:X5,C:Z5,L:J5,m:eL,X:nL,S:tL,M:rL};function Q5(){var s=oa.f(),a=jm();return s||a}function W5(s){var a=ci(s);a!==null&&a.tag===5&&a.type==="form"?uv(a):oa.r(s)}var Lu=typeof document>"u"?null:document;function $x(s,a,u){var d=Lu;if(d&&typeof a=="string"&&a){var y=Ir(a);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Gx.has(y)||(Gx.add(y),s={rel:s,crossOrigin:u,href:a},d.querySelector(y)===null&&(a=d.createElement("link"),rr(a,"link",s),kn(a),d.head.appendChild(a)))}}function X5(s){oa.D(s),$x("dns-prefetch",s,null)}function Z5(s,a){oa.C(s,a),$x("preconnect",s,a)}function J5(s,a,u){oa.L(s,a,u);var d=Lu;if(d&&s&&a){var y='link[rel="preload"][as="'+Ir(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Ir(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Ir(u.imageSizes)+'"]')):y+='[href="'+Ir(s)+'"]';var b=y;switch(a){case"style":b=Mu(s);break;case"script":b=Bu(s)}_i.has(b)||(s=g({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),_i.set(b,s),d.querySelector(y)!==null||a==="style"&&d.querySelector(qh(b))||a==="script"&&d.querySelector(Yh(b))||(a=d.createElement("link"),rr(a,"link",s),kn(a),d.head.appendChild(a)))}}function eL(s,a){oa.m(s,a);var u=Lu;if(u&&s){var d=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Ir(d)+'"][href="'+Ir(s)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Bu(s)}if(!_i.has(b)&&(s=g({rel:"modulepreload",href:s},a),_i.set(b,s),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Yh(b)))return}d=u.createElement("link"),rr(d,"link",s),kn(d),u.head.appendChild(d)}}}function tL(s,a,u){oa.S(s,a,u);var d=Lu;if(d&&s){var y=cs(d).hoistableStyles,b=Mu(s);a=a||"default";var A=y.get(b);if(!A){var L={loading:0,preload:null};if(A=d.querySelector(qh(b)))L.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},u),(u=_i.get(b))&&Sb(s,u);var Q=A=d.createElement("link");kn(Q),rr(Q,"link",s),Q._p=new Promise(function(ae,ge){Q.onload=ae,Q.onerror=ge}),Q.addEventListener("load",function(){L.loading|=1}),Q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Qm(A,a,d)}A={type:"stylesheet",instance:A,count:1,state:L},y.set(b,A)}}}function nL(s,a){oa.X(s,a);var u=Lu;if(u&&s){var d=cs(u).hoistableScripts,y=Bu(s),b=d.get(y);b||(b=u.querySelector(Yh(y)),b||(s=g({src:s,async:!0},a),(a=_i.get(y))&&Cb(s,a),b=u.createElement("script"),kn(b),rr(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function rL(s,a){oa.M(s,a);var u=Lu;if(u&&s){var d=cs(u).hoistableScripts,y=Bu(s),b=d.get(y);b||(b=u.querySelector(Yh(y)),b||(s=g({src:s,async:!0,type:"module"},a),(a=_i.get(y))&&Cb(s,a),b=u.createElement("script"),kn(b),rr(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function Kx(s,a,u,d){var y=(y=_e.current)?Km(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Mu(u.href),u=cs(y).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Mu(u.href);var b=cs(y).hoistableStyles,A=b.get(s);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,A),(b=y.querySelector(qh(s)))&&!b._p&&(A.instance=b,A.state.loading=5),_i.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},_i.set(s,u),b||iL(y,s,u,A.state))),a&&d===null)throw Error(r(528,""));return A}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bu(u),u=cs(y).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Mu(s){return'href="'+Ir(s)+'"'}function qh(s){return'link[rel="stylesheet"]['+s+"]"}function Qx(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function iL(s,a,u,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),rr(a,"link",u),kn(a),s.head.appendChild(a))}function Bu(s){return'[src="'+Ir(s)+'"]'}function Yh(s){return"script[async]"+s}function Wx(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+Ir(u.href)+'"]');if(d)return a.instance=d,kn(d),d;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),kn(d),rr(d,"style",y),Qm(d,u.precedence,s),a.instance=d;case"stylesheet":y=Mu(u.href);var b=s.querySelector(qh(y));if(b)return a.state.loading|=4,a.instance=b,kn(b),b;d=Qx(u),(y=_i.get(y))&&Sb(d,y),b=(s.ownerDocument||s).createElement("link"),kn(b);var A=b;return A._p=new Promise(function(L,Q){A.onload=L,A.onerror=Q}),rr(b,"link",d),a.state.loading|=4,Qm(b,u.precedence,s),a.instance=b;case"script":return b=Bu(u.src),(y=s.querySelector(Yh(b)))?(a.instance=y,kn(y),y):(d=u,(y=_i.get(b))&&(d=g({},u),Cb(d,y)),s=s.ownerDocument||s,y=s.createElement("script"),kn(y),rr(y,"link",d),s.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Qm(d,u.precedence,s));return a.instance}function Qm(s,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,A=0;A<d.length;A++){var L=d[A];if(L.dataset.precedence===a)b=L;else if(b!==y)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function Sb(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Cb(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Wm=null;function Xx(s,a,u){if(Wm===null){var d=new Map,y=Wm=new Map;y.set(u,d)}else y=Wm,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(s))return d;for(d.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var b=u[y];if(!(b[ls]||b[Nn]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(a)||"";A=s+A;var L=d.get(A);L?L.push(b):d.set(A,[b])}}return d}function Zx(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function sL(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Jx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function aL(s,a,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Mu(d.href),b=a.querySelector(qh(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Xm.bind(s),a.then(s,s)),u.state.loading|=4,u.instance=b,kn(b);return}b=a.ownerDocument||a,d=Qx(d),(y=_i.get(y))&&Sb(d,y),b=b.createElement("link"),kn(b);var A=b;A._p=new Promise(function(L,Q){A.onload=L,A.onerror=Q}),rr(b,"link",d),u.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=Xm.bind(s),a.addEventListener("load",u),a.addEventListener("error",u))}}var Ib=0;function oL(s,a){return s.stylesheets&&s.count===0&&Jm(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var d=setTimeout(function(){if(s.stylesheets&&Jm(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+a);0<s.imgBytes&&Ib===0&&(Ib=62500*F5());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Jm(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>Ib?50:800)+a);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Xm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zm=null;function Jm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zm=new Map,a.forEach(lL,s),Zm=null,Xm.call(s))}function lL(s,a){if(!(a.state.loading&4)){var u=Zm.get(s);if(u)var d=u.get(null);else{u=new Map,Zm.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),d=A)}d&&u.set(null,d)}y=a.instance,A=y.getAttribute("data-precedence"),b=u.get(A)||d,b===d&&u.set(null,y),u.set(A,y),this.count++,d=Xm.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),a.state.loading|=4}}var Gh={$$typeof:F,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function uL(s,a,u,d,y,b,A,L,Q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=as(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.hiddenUpdates=as(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function eA(s,a,u,d,y,b,A,L,Q,ae,ge,Ee){return s=new uL(s,a,u,A,Q,ae,ge,Ee,L),a=1,b===!0&&(a|=24),b=Kr(3,null,null,a),s.current=b,b.stateNode=s,a=oy(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:a},hy(b),s}function tA(s){return s?(s=mu,s):mu}function nA(s,a,u,d,y,b){y=tA(y),d.context===null?d.context=y:d.pendingContext=y,d=Ya(a),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=Ga(s,d,a),u!==null&&(Pr(u,s,a),xh(u,s,a))}function rA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Nb(s,a){rA(s,a),(s=s.alternate)&&rA(s,a)}function iA(s){if(s.tag===13||s.tag===31){var a=rl(s,67108864);a!==null&&Pr(a,s,67108864),Nb(s,67108864)}}function sA(s){if(s.tag===13||s.tag===31){var a=Jr();a=Yo(a);var u=rl(s,a);u!==null&&Pr(u,s,a),Nb(s,a)}}var ep=!0;function cL(s,a,u,d){var y=Z.T;Z.T=null;var b=ce.p;try{ce.p=2,kb(s,a,u,d)}finally{ce.p=b,Z.T=y}}function hL(s,a,u,d){var y=Z.T;Z.T=null;var b=ce.p;try{ce.p=8,kb(s,a,u,d)}finally{ce.p=b,Z.T=y}}function kb(s,a,u,d){if(ep){var y=Rb(d);if(y===null)gb(s,a,d,tp,u),oA(s,d);else if(fL(y,s,a,u,d))d.stopPropagation();else if(oA(s,d),a&4&&-1<dL.indexOf(s)){for(;y!==null;){var b=ci(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=is(b.pendingLanes);if(A!==0){var L=b;for(L.pendingLanes|=2,L.entangledLanes|=2;A;){var Q=1<<31-Et(A);L.entanglements[1]|=Q,A&=~Q}vs(b),(Dt&6)===0&&(Bm=Sn()+500,Vh(0))}}break;case 31:case 13:L=rl(b,2),L!==null&&Pr(L,b,2),jm(),Nb(b,2)}if(b=Rb(d),b===null&&gb(s,a,d,tp,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else gb(s,a,d,null,u)}}function Rb(s){return s=hi(s),Db(s)}var tp=null;function Db(s){if(tp=null,s=us(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===31){if(s=c(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return tp=s,null}function aA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pi()){case pe:return 2;case Ne:return 8;case Fe:case tt:return 32;case bt:return 268435456;default:return 32}default:return 32}}var Ob=!1,ro=null,io=null,so=null,$h=new Map,Kh=new Map,ao=[],dL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oA(s,a){switch(s){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":$h.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kh.delete(a.pointerId)}}function Qh(s,a,u,d,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},a!==null&&(a=ci(a),a!==null&&iA(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function fL(s,a,u,d,y){switch(a){case"focusin":return ro=Qh(ro,s,a,u,d,y),!0;case"dragenter":return io=Qh(io,s,a,u,d,y),!0;case"mouseover":return so=Qh(so,s,a,u,d,y),!0;case"pointerover":var b=y.pointerId;return $h.set(b,Qh($h.get(b)||null,s,a,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,Kh.set(b,Qh(Kh.get(b)||null,s,a,u,d,y)),!0}return!1}function lA(s){var a=us(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,Bi(s.priority,function(){sA(u)});return}}else if(a===31){if(a=c(u),a!==null){s.blockedOn=a,Bi(s.priority,function(){sA(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function np(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Rb(s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);lh=d,u.target.dispatchEvent(d),lh=null}else return a=ci(u),a!==null&&iA(a),s.blockedOn=u,!1;a.shift()}return!0}function uA(s,a,u){np(s)&&u.delete(a)}function mL(){Ob=!1,ro!==null&&np(ro)&&(ro=null),io!==null&&np(io)&&(io=null),so!==null&&np(so)&&(so=null),$h.forEach(uA),Kh.forEach(uA)}function rp(s,a){s.blockedOn===a&&(s.blockedOn=null,Ob||(Ob=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mL)))}var ip=null;function cA(s){ip!==s&&(ip=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ip===s&&(ip=null);for(var a=0;a<s.length;a+=3){var u=s[a],d=s[a+1],y=s[a+2];if(typeof d!="function"){if(Db(d||u)===null)continue;break}var b=ci(u);b!==null&&(s.splice(a,3),a-=3,Ry(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Uu(s){function a(Q){return rp(Q,s)}ro!==null&&rp(ro,s),io!==null&&rp(io,s),so!==null&&rp(so,s),$h.forEach(a),Kh.forEach(a);for(var u=0;u<ao.length;u++){var d=ao[u];d.blockedOn===s&&(d.blockedOn=null)}for(;0<ao.length&&(u=ao[0],u.blockedOn===null);)lA(u),u.blockedOn===null&&ao.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],A=y[Yn]||null;if(typeof b=="function")A||cA(u);else if(A){var L=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[Yn]||null)L=A.formAction;else if(Db(y)!==null)continue}else L=A.action;typeof L=="function"?u[d+1]=L:(u.splice(d,3),d-=3),cA(u)}}}function hA(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function Pb(s){this._internalRoot=s}sp.prototype.render=Pb.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,d=Jr();nA(u,d,s,a,null,null)},sp.prototype.unmount=Pb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;nA(s.current,2,null,s,null,null),jm(),a[os]=null}};function sp(s){this._internalRoot=s}sp.prototype.unstable_scheduleHydration=function(s){if(s){var a=jf();s={blockedOn:null,target:s,priority:a};for(var u=0;u<ao.length&&a!==0&&a<ao[u].priority;u++);ao.splice(u,0,s),u===0&&lA(s)}};var dA=e.version;if(dA!=="19.2.0")throw Error(r(527,dA,"19.2.0"));ce.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var pL={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ap.isDisabled&&ap.supportsFiber)try{an=ap.inject(pL),on=ap}catch{}}return Xh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,d="",y=Ev,b=Tv,A=_v;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=eA(s,1,!1,null,null,u,d,null,y,b,A,hA),s[os]=a.current,pb(s),new Pb(a)},Xh.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var d=!1,y="",b=Ev,A=Tv,L=_v,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.formState!==void 0&&(Q=u.formState)),a=eA(s,1,!0,a,u??null,d,y,Q,b,A,L,hA),a.context=tA(null),u=a.current,d=Jr(),d=Yo(d),y=Ya(d),y.callback=null,Ga(u,y,d),u=d,a.current.lanes=u,zo(a,u),vs(a),s[os]=a.current,pb(s),new sp(a)},Xh.version="19.2.0",Xh}var wA;function SL(){if(wA)return Bb.exports;wA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bb.exports=AL(),Bb.exports}var CL=SL();const IL=rf(CL);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vA="popstate";function NL(t={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return q1("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Md(i)}return RL(e,n,null,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kL(){return Math.random().toString(36).substring(2,10)}function xA(t,e){return{usr:t.state,key:t.key,idx:e}}function q1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Sc(e):e,state:n,key:e&&e.key||r||kL()}}function Md({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function RL(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let I=m(),k=I==null?null:I-f;f=I,h&&h({action:c,location:C.location,delta:k})}function E(I,k){c="PUSH";let Y=q1(C.location,I,k);f=m()+1;let F=xA(Y,f),X=C.createHref(Y);try{l.pushState(F,"",X)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;i.location.assign(X)}o&&h&&h({action:c,location:C.location,delta:1})}function w(I,k){c="REPLACE";let Y=q1(C.location,I,k);f=m();let F=xA(Y,f),X=C.createHref(Y);l.replaceState(F,"",X),o&&h&&h({action:c,location:C.location,delta:0})}function x(I){return DL(I)}let C={get action(){return c},get location(){return t(i,l)},listen(I){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(vA,g),h=I,()=>{i.removeEventListener(vA,g),h=null}},createHref(I){return e(i,I)},createURL:x,encodeLocation(I){let k=x(I);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:w,go(I){return l.go(I)}};return C}function DL(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Md(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nk(t,e,n="/"){return OL(t,e,n,!1)}function OL(t,e,n,r){let i=typeof e=="string"?Sc(e):e,o=ya(i.pathname||"/",n);if(o==null)return null;let l=rk(t);PL(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=YL(o);c=zL(l[h],f,r)}return c}function rk(t,e=[],n=[],r="",i=!1){let o=(l,c,h=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&h)return;nn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=fa([r,m.relativePath]),E=n.concat(m);l.children&&l.children.length>0&&(nn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),rk(l.children,e,E,g,h)),!(l.path==null&&!l.index)&&e.push({path:g,score:FL(g,l.index),routesMeta:E})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let h of ik(l.path))o(l,c,!0,h)}),e}function ik(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=ik(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function PL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LL=/^:[\w-]+$/,ML=3,BL=2,UL=1,jL=10,VL=-2,AA=t=>t==="*";function FL(t,e){let n=t.split("/"),r=n.length;return n.some(AA)&&(r+=VL),e&&(r+=BL),n.filter(i=>!AA(i)).reduce((i,o)=>i+(LL.test(o)?ML:o===""?UL:jL),r)}function HL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zL(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],f=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=$p({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),E=h.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=$p({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:fa([o,g.pathname]),pathnameBase:QL(fa([o,g.pathnameBase])),route:E}),g.pathnameBase!=="/"&&(o=fa([o,g.pathnameBase]))}return l}function $p(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},E)=>{if(m==="*"){let x=c[E]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=c[E];return g&&!w?f[m]=void 0:f[m]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function qL(t,e=!1,n=!0){Xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ya(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GL(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Sc(t):t;return{pathname:n?n.startsWith("/")?n:$L(n,e):e,search:WL(r),hash:XL(i)}}function $L(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uT(t){let e=KL(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function cT(t,e,n,r=!1){let i;typeof t=="string"?i=Sc(t):(i={...t},nn(!i.pathname||!i.pathname.includes("?"),Fb("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),Fb("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),Fb("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),g-=1;i.pathname=E.join("/")}c=g>=0?e[g]:"/"}let h=GL(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var fa=t=>t.join("/").replace(/\/\/+/g,"/"),QL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sk=["POST","PUT","PATCH","DELETE"];new Set(sk);var JL=["GET",...sk];new Set(JL);var Cc=q.createContext(null);Cc.displayName="DataRouter";var Vg=q.createContext(null);Vg.displayName="DataRouterState";q.createContext(!1);var ak=q.createContext({isTransitioning:!1});ak.displayName="ViewTransition";var eM=q.createContext(new Map);eM.displayName="Fetchers";var tM=q.createContext(null);tM.displayName="Await";var Ji=q.createContext(null);Ji.displayName="Navigation";var sf=q.createContext(null);sf.displayName="Location";var es=q.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var hT=q.createContext(null);hT.displayName="RouteError";function nM(t,{relative:e}={}){nn(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=q.useContext(Ji),{hash:i,pathname:o,search:l}=af(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:fa([n,o])),r.createHref({pathname:c,search:l,hash:i})}function Ic(){return q.useContext(sf)!=null}function Di(){return nn(Ic(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(sf).location}var ok="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lk(t){q.useContext(Ji).static||q.useLayoutEffect(t)}function ts(){let{isDataRoute:t}=q.useContext(es);return t?pM():rM()}function rM(){nn(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=q.useContext(Cc),{basename:e,navigator:n}=q.useContext(Ji),{matches:r}=q.useContext(es),{pathname:i}=Di(),o=JSON.stringify(uT(r)),l=q.useRef(!1);return lk(()=>{l.current=!0}),q.useCallback((h,f={})=>{if(Xi(l.current,ok),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=cT(h,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:fa([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,i,t])}q.createContext(null);function uk(){let{matches:t}=q.useContext(es),e=t[t.length-1];return e?e.params:{}}function af(t,{relative:e}={}){let{matches:n}=q.useContext(es),{pathname:r}=Di(),i=JSON.stringify(uT(n));return q.useMemo(()=>cT(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function iM(t,e){return ck(t,e)}function ck(t,e,n,r,i){nn(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(Ji),{matches:l}=q.useContext(es),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let Y=g&&g.path||"";hk(f,!g||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let E=Di(),w;if(e){let Y=typeof e=="string"?Sc(e):e;nn(m==="/"||Y.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),w=Y}else w=E;let x=w.pathname||"/",C=x;if(m!=="/"){let Y=m.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(Y.length).join("/")}let I=nk(t,{pathname:C});Xi(g||I!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Xi(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=uM(I&&I.map(Y=>Object.assign({},Y,{params:Object.assign({},h,Y.params),pathname:fa([m,o.encodeLocation?o.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?m:fa([m,o.encodeLocation?o.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),l,n,r,i);return e&&k?q.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function sM(){let t=mM(),e=ZL(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,l)}var aM=q.createElement(sM,null),oM=class extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?q.createElement(es.Provider,{value:this.props.routeContext},q.createElement(hT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lM({routeContext:t,match:e,children:n}){let r=q.useContext(Cc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(es.Provider,{value:t},n)}function uM(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);nn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,h=-1;if(n)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:E}=n,w=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||w){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let E,w=!1,x=null,C=null;n&&(E=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||aM,c&&(h<0&&g===0?(hk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):h===g&&(w=!0,C=m.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,g+1)),k=()=>{let Y;return E?Y=x:w?Y=C:m.route.Component?Y=q.createElement(m.route.Component,null):m.route.element?Y=m.route.element:Y=f,q.createElement(lM,{match:m,routeContext:{outlet:f,matches:I,isDataRoute:n!=null},children:Y})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?q.createElement(oM,{location:n.location,revalidation:n.revalidation,component:x,error:E,children:k(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):k()},null)}function dT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cM(t){let e=q.useContext(Cc);return nn(e,dT(t)),e}function hM(t){let e=q.useContext(Vg);return nn(e,dT(t)),e}function dM(t){let e=q.useContext(es);return nn(e,dT(t)),e}function fT(t){let e=dM(t),n=e.matches[e.matches.length-1];return nn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fM(){return fT("useRouteId")}function mM(){let t=q.useContext(hT),e=hM("useRouteError"),n=fT("useRouteError");return t!==void 0?t:e.errors?.[n]}function pM(){let{router:t}=cM("useNavigate"),e=fT("useNavigate"),n=q.useRef(!1);return lk(()=>{n.current=!0}),q.useCallback(async(i,o={})=>{Xi(n.current,ok),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var SA={};function hk(t,e,n){!e&&!SA[t]&&(SA[t]=!0,Xi(!1,n))}q.memo(gM);function gM({routes:t,future:e,state:n,unstable_onError:r}){return ck(t,void 0,n,r,e)}function yM({to:t,replace:e,state:n,relative:r}){nn(Ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=q.useContext(Ji);Xi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=q.useContext(es),{pathname:l}=Di(),c=ts(),h=cT(t,uT(o),l,r==="path"),f=JSON.stringify(h);return q.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function ir(t){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){nn(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=q.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=Sc(n));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:E="default"}=n,w=q.useMemo(()=>{let x=ya(h,l);return x==null?null:{location:{pathname:x,search:f,hash:m,state:g,key:E},navigationType:r}},[l,h,f,m,g,E,r]);return Xi(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:q.createElement(Ji.Provider,{value:c},q.createElement(sf.Provider,{children:e,value:w}))}function EM({children:t,location:e}){return iM(Y1(t),e)}function Y1(t,e=[]){let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let o=[...e,i];if(r.type===q.Fragment){n.push.apply(n,Y1(r.props.children,o));return}nn(r.type===ir,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Y1(r.props.children,o)),n.push(l)}),n}var Cp="get",Ip="application/x-www-form-urlencoded";function Fg(t){return t!=null&&typeof t.tagName=="string"}function TM(t){return Fg(t)&&t.tagName.toLowerCase()==="button"}function _M(t){return Fg(t)&&t.tagName.toLowerCase()==="form"}function wM(t){return Fg(t)&&t.tagName.toLowerCase()==="input"}function vM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xM(t,e){return t.button===0&&(!e||e==="_self")&&!vM(t)}var op=null;function AM(){if(op===null)try{new FormData(document.createElement("form"),0),op=!1}catch{op=!0}return op}var SM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hb(t){return t!=null&&!SM.has(t)?(Xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ip}"`),null):t}function CM(t,e){let n,r,i,o,l;if(_M(t)){let c=t.getAttribute("action");r=c?ya(c,e):null,n=t.getAttribute("method")||Cp,i=Hb(t.getAttribute("enctype"))||Ip,o=new FormData(t)}else if(TM(t)||wM(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?ya(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Cp,i=Hb(t.getAttribute("formenctype"))||Hb(c.getAttribute("enctype"))||Ip,o=new FormData(c,t),!AM()){let{name:f,type:m,value:g}=t;if(m==="image"){let E=f?`${f}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else f&&o.append(f,g)}}else{if(Fg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cp,r=null,i=Ip,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IM(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ya(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function NM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RM(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await NM(o,n);return l.links?l.links():[]}return[]}));return LM(r.flat(1).filter(kM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function CA(t,e,n,r,i,o){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):o==="data"?e.filter((h,f)=>{let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function DM(t,e,{includeHydrateFallback:n}={}){return OM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function OM(t){return[...new Set(t)]}function PM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LM(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(PM(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function dk(){let t=q.useContext(Cc);return mT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MM(){let t=q.useContext(Vg);return mT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var pT=q.createContext(void 0);pT.displayName="FrameworkContext";function fk(){let t=q.useContext(pT);return mT(t,"You must render this element inside a <HydratedRouter> element"),t}function BM(t,e){let n=q.useContext(pT),[r,i]=q.useState(!1),[o,l]=q.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,E=q.useRef(null);q.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let C=k=>{k.forEach(Y=>{l(Y.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[t]),q.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let w=()=>{i(!0)},x=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:Zh(c,w),onBlur:Zh(h,x),onMouseEnter:Zh(f,w),onMouseLeave:Zh(m,x),onTouchStart:Zh(g,w)}]:[!1,E,{}]}function Zh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UM({page:t,...e}){let{router:n}=dk(),r=q.useMemo(()=>nk(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?q.createElement(VM,{page:t,matches:r,...e}):null}function jM(t){let{manifest:e,routeModules:n}=fk(),[r,i]=q.useState([]);return q.useEffect(()=>{let o=!1;return RM(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function VM({page:t,matches:e,...n}){let r=Di(),{manifest:i,routeModules:o}=fk(),{basename:l}=dk(),{loaderData:c,matches:h}=MM(),f=q.useMemo(()=>CA(t,e,h,i,r,"data"),[t,e,h,i,r]),m=q.useMemo(()=>CA(t,e,h,i,r,"assets"),[t,e,h,i,r]),g=q.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,C=!1;if(e.forEach(k=>{let Y=i.routes[k.route.id];!Y||!Y.hasLoader||(!f.some(F=>F.route.id===k.route.id)&&k.route.id in c&&o[k.route.id]?.shouldRevalidate||Y.hasClientLoader?C=!0:x.add(k.route.id))}),x.size===0)return[];let I=IM(t,l,"data");return C&&x.size>0&&I.searchParams.set("_routes",e.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[I.pathname+I.search]},[l,c,r,i,f,e,t,o]),E=q.useMemo(()=>DM(m,i),[m,i]),w=jM(m);return q.createElement(q.Fragment,null,g.map(x=>q.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),E.map(x=>q.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:C})=>q.createElement("link",{key:x,nonce:n.nonce,...C})))}function FM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mk&&(window.__reactRouterVersion="7.9.4")}catch{}function HM({basename:t,children:e,window:n}){let r=q.useRef();r.current==null&&(r.current=NL({window:n,v5Compat:!0}));let i=r.current,[o,l]=q.useState({action:i.action,location:i.location}),c=q.useCallback(h=>{q.startTransition(()=>l(h))},[l]);return q.useLayoutEffect(()=>i.listen(c),[i,c]),q.createElement(bM,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var pk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=q.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:f,preventScrollReset:m,viewTransition:g,...E},w){let{basename:x}=q.useContext(Ji),C=typeof f=="string"&&pk.test(f),I,k=!1;if(typeof f=="string"&&C&&(I=f,mk))try{let V=new URL(window.location.href),P=f.startsWith("//")?new URL(V.protocol+f):new URL(f),R=ya(P.pathname,x);P.origin===V.origin&&R!=null?f=R+P.search+P.hash:k=!0}catch{Xi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=nM(f,{relative:i}),[F,X,ne]=BM(r,E),K=GM(f,{replace:l,state:c,target:h,preventScrollReset:m,relative:i,viewTransition:g});function B(V){e&&e(V),V.defaultPrevented||K(V)}let O=q.createElement("a",{...E,...ne,href:I||Y,onClick:k||o?e:B,ref:FM(w,X),target:h,"data-discover":!C&&n==="render"?"true":void 0});return F&&!C?q.createElement(q.Fragment,null,O,q.createElement(UM,{page:Y})):O});et.displayName="Link";var zM=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...f},m){let g=af(l,{relative:f.relative}),E=Di(),w=q.useContext(Vg),{navigator:x,basename:C}=q.useContext(Ji),I=w!=null&&XM(g)&&c===!0,k=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,Y=E.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),F=F?F.toLowerCase():null,k=k.toLowerCase()),F&&C&&(F=ya(F,C)||F);const X=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let ne=Y===k||!i&&Y.startsWith(k)&&Y.charAt(X)==="/",K=F!=null&&(F===k||!i&&F.startsWith(k)&&F.charAt(k.length)==="/"),B={isActive:ne,isPending:K,isTransitioning:I},O=ne?e:void 0,V;typeof r=="function"?V=r(B):V=[r,ne?"active":null,K?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(B):o;return q.createElement(et,{...f,"aria-current":O,className:V,ref:m,style:P,to:l,viewTransition:c},typeof h=="function"?h(B):h)});zM.displayName="NavLink";var qM=q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Cp,action:c,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:g,...E},w)=>{let x=QM(),C=WM(c,{relative:f}),I=l.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&pk.test(c),Y=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let X=F.nativeEvent.submitter,ne=X?.getAttribute("formmethod")||l;x(X||F.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:i,state:o,relative:f,preventScrollReset:m,viewTransition:g})};return q.createElement("form",{ref:w,method:I,action:C,onSubmit:r?h:Y,...E,"data-discover":!k&&t==="render"?"true":void 0})});qM.displayName="Form";function YM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gk(t){let e=q.useContext(Cc);return nn(e,YM(t)),e}function GM(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=ts(),h=Di(),f=af(t,{relative:o});return q.useCallback(m=>{if(xM(m,e)){m.preventDefault();let g=n!==void 0?n:Md(h)===Md(f);c(t,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,f,n,r,e,t,i,o,l])}var $M=0,KM=()=>`__${String(++$M)}__`;function QM(){let{router:t}=gk("useSubmit"),{basename:e}=q.useContext(Ji),n=fM();return q.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:h,body:f}=CM(r,e);if(i.navigate===!1){let m=i.fetcherKey||KM();await t.fetch(m,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function WM(t,{relative:e}={}){let{basename:n}=q.useContext(Ji),r=q.useContext(es);nn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...af(t||".",{relative:e})},l=Di();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:fa([n,o.pathname])),Md(o)}function XM(t,{relative:e}={}){let n=q.useContext(ak);nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gk("useViewTransitionState"),i=af(t,{relative:e});if(!n.isTransitioning)return!1;let o=ya(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ya(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $p(i.pathname,l)!=null||$p(i.pathname,o)!=null}const yk=q.createContext();function bk({children:t}){const[e,n]=q.useState([]),r=(h,f=1)=>{!h||!h.id||n(m=>m.find(E=>E.id===h.id)?m.map(E=>E.id===h.id?{...E,cantidad:E.cantidad+f}:E):[...m,{...h,cantidad:f}])},i=h=>{n(f=>f.filter(m=>m.id!==h))},o=(h,f)=>{n(m=>f<=0?m.filter(g=>g.id!==h):m.map(g=>g.id===h?{...g,cantidad:f}:g))},l=()=>n([]),c=q.useMemo(()=>e.reduce((h,f)=>h+f.price*f.cantidad,0),[e]);return T.jsx(yk.Provider,{value:{carrito:e,agregarAlCarrito:r,eliminarDelCarrito:i,actualizarCantidad:o,vaciarCarrito:l,total:c},children:t})}const gT=()=>{const t=q.useContext(yk);if(t===void 0)throw new Error("useCarrito debe usarse dentro de un CarritoProvider");return t};function ZM(){const{pathname:t}=Di();return q.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const yT=q.createContext({});function bT(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const ET=typeof window<"u",Ek=ET?q.useLayoutEffect:q.useEffect,Hg=q.createContext(null);function TT(t,e){t.indexOf(e)===-1&&t.push(e)}function _T(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ba=(t,e,n)=>n>e?e:n<t?t:n;let wT=()=>{};const Ea={},Tk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _k(t){return typeof t=="object"&&t!==null}const wk=t=>/^0[^.\s]+$/u.test(t);function vT(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ii=t=>t,JM=(t,e)=>n=>e(t(n)),of=(...t)=>t.reduce(JM),Bd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class xT{constructor(){this.subscriptions=[]}add(e){return TT(this.subscriptions,e),()=>_T(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ns=t=>t*1e3,Ci=t=>t/1e3;function vk(t,e){return e?t*(1e3/e):0}const xk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,e9=1e-7,t9=12;function n9(t,e,n,r,i){let o,l,c=0;do l=e+(n-e)/2,o=xk(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>e9&&++c<t9);return l}function lf(t,e,n,r){if(t===e&&n===r)return Ii;const i=o=>n9(o,0,1,t,n);return o=>o===0||o===1?o:xk(i(o),e,r)}const Ak=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Sk=t=>e=>1-t(1-e),Ck=lf(.33,1.53,.69,.99),AT=Sk(Ck),Ik=Ak(AT),Nk=t=>(t*=2)<1?.5*AT(t):.5*(2-Math.pow(2,-10*(t-1))),ST=t=>1-Math.sin(Math.acos(t)),kk=Sk(ST),Rk=Ak(ST),r9=lf(.42,0,1,1),i9=lf(0,0,.58,1),Dk=lf(.42,0,.58,1),s9=t=>Array.isArray(t)&&typeof t[0]!="number",Ok=t=>Array.isArray(t)&&typeof t[0]=="number",a9={linear:Ii,easeIn:r9,easeInOut:Dk,easeOut:i9,circIn:ST,circInOut:Rk,circOut:kk,backIn:AT,backInOut:Ik,backOut:Ck,anticipate:Nk},o9=t=>typeof t=="string",IA=t=>{if(Ok(t)){wT(t.length===4);const[e,n,r,i]=t;return lf(e,n,r,i)}else if(o9(t))return a9[t];return t},lp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function l9(t,e){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,g=!1,E=!1)=>{const x=E&&i?n:r;return g&&l.add(m),x.has(m)||x.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(h),n.clear(),i=!1,o&&(o=!1,f.process(m))}};return f}const u9=40;function Pk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=lp.reduce((F,X)=>(F[X]=l9(o),F),{}),{setup:c,read:h,resolveKeyframes:f,preUpdate:m,update:g,preRender:E,render:w,postRender:x}=l,C=()=>{const F=Ea.useManualTiming?i.timestamp:performance.now();n=!1,Ea.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,u9),1)),i.timestamp=F,i.isProcessing=!0,c.process(i),h.process(i),f.process(i),m.process(i),g.process(i),E.process(i),w.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(C))},I=()=>{n=!0,r=!0,i.isProcessing||t(C)};return{schedule:lp.reduce((F,X)=>{const ne=l[X];return F[X]=(K,B=!1,O=!1)=>(n||I(),ne.schedule(K,B,O)),F},{}),cancel:F=>{for(let X=0;X<lp.length;X++)l[lp[X]].cancel(F)},state:i,steps:l}}const{schedule:tn,cancel:So,state:sr,steps:zb}=Pk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ii,!0);let Np;function c9(){Np=void 0}const Vr={now:()=>(Np===void 0&&Vr.set(sr.isProcessing||Ea.useManualTiming?sr.timestamp:performance.now()),Np),set:t=>{Np=t,queueMicrotask(c9)}},Lk=t=>e=>typeof e=="string"&&e.startsWith(t),CT=Lk("--"),h9=Lk("var(--"),IT=t=>h9(t)?d9.test(t.split("/*")[0].trim()):!1,d9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ud={...Nc,transform:t=>ba(0,1,t)},up={...Nc,default:1},pd=t=>Math.round(t*1e5)/1e5,NT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function f9(t){return t==null}const m9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kT=(t,e)=>n=>!!(typeof n=="string"&&m9.test(n)&&n.startsWith(t)||e&&!f9(n)&&Object.prototype.hasOwnProperty.call(n,e)),Mk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(NT);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},p9=t=>ba(0,255,t),qb={...Nc,transform:t=>Math.round(p9(t))},_l={test:kT("rgb","red"),parse:Mk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qb.transform(t)+", "+qb.transform(e)+", "+qb.transform(n)+", "+pd(Ud.transform(r))+")"};function g9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const G1={test:kT("#"),parse:g9,transform:_l.transform},uf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),co=uf("deg"),ks=uf("%"),Ke=uf("px"),y9=uf("vh"),b9=uf("vw"),NA={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},Gu={test:kT("hsl","hue"),parse:Mk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ks.transform(pd(e))+", "+ks.transform(pd(n))+", "+pd(Ud.transform(r))+")"},jn={test:t=>_l.test(t)||G1.test(t)||Gu.test(t),parse:t=>_l.test(t)?_l.parse(t):Gu.test(t)?Gu.parse(t):G1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_l.transform(t):Gu.transform(t),getAnimatableNone:t=>{const e=jn.parse(t);return e.alpha=0,jn.transform(e)}},E9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T9(t){return isNaN(t)&&typeof t=="string"&&(t.match(NT)?.length||0)+(t.match(E9)?.length||0)>0}const Bk="number",Uk="color",_9="var",w9="var(",kA="${}",v9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(v9,h=>(jn.test(h)?(r.color.push(o),i.push(Uk),n.push(jn.parse(h))):h.startsWith(w9)?(r.var.push(o),i.push(_9),n.push(h)):(r.number.push(o),i.push(Bk),n.push(parseFloat(h))),++o,kA)).split(kA);return{values:n,split:c,indexes:r,types:i}}function jk(t){return jd(t).values}function Vk(t){const{split:e,types:n}=jd(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const c=n[l];c===Bk?o+=pd(i[l]):c===Uk?o+=jn.transform(i[l]):o+=i[l]}return o}}const x9=t=>typeof t=="number"?0:jn.test(t)?jn.getAnimatableNone(t):t;function A9(t){const e=jk(t);return Vk(t)(e.map(x9))}const Co={test:T9,parse:jk,createTransformer:Vk,getAnimatableNone:A9};function Yb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function S9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;i=Yb(h,c,t+1/3),o=Yb(h,c,t),l=Yb(h,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Kp(t,e){return n=>n>0?e:t}const ln=(t,e,n)=>t+(e-t)*n,Gb=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},C9=[G1,_l,Gu],I9=t=>C9.find(e=>e.test(t));function RA(t){const e=I9(t);if(!e)return!1;let n=e.parse(t);return e===Gu&&(n=S9(n)),n}const DA=(t,e)=>{const n=RA(t),r=RA(e);if(!n||!r)return Kp(t,e);const i={...n};return o=>(i.red=Gb(n.red,r.red,o),i.green=Gb(n.green,r.green,o),i.blue=Gb(n.blue,r.blue,o),i.alpha=ln(n.alpha,r.alpha,o),_l.transform(i))},$1=new Set(["none","hidden"]);function N9(t,e){return $1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function k9(t,e){return n=>ln(t,e,n)}function RT(t){return typeof t=="number"?k9:typeof t=="string"?IT(t)?Kp:jn.test(t)?DA:O9:Array.isArray(t)?Fk:typeof t=="object"?jn.test(t)?DA:R9:Kp}function Fk(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>RT(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function R9(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=RT(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function D9(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],c=t.values[l]??0;n[i]=c,r[o]++}return n}const O9=(t,e)=>{const n=Co.createTransformer(e),r=jd(t),i=jd(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$1.has(t)&&!i.values.length||$1.has(e)&&!r.values.length?N9(t,e):of(Fk(D9(r,i),i.values),n):Kp(t,e)};function Hk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ln(t,e,n):RT(t)(t,e)}const P9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tn.update(e,n),stop:()=>So(e),now:()=>sr.isProcessing?sr.timestamp:Vr.now()}},zk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Qp=2e4;function DT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Qp;)e+=n,r=t.next(e);return e>=Qp?1/0:e}function L9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(DT(r),Qp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Ci(i)}}const M9=5;function qk(t,e,n){const r=Math.max(e-M9,0);return vk(n-t(r),e-r)}const fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$b=.001;function B9({duration:t=fn.duration,bounce:e=fn.bounce,velocity:n=fn.velocity,mass:r=fn.mass}){let i,o,l=1-e;l=ba(fn.minDamping,fn.maxDamping,l),t=ba(fn.minDuration,fn.maxDuration,Ci(t)),l<1?(i=f=>{const m=f*l,g=m*t,E=m-n,w=K1(f,l),x=Math.exp(-g);return $b-E/w*x},o=f=>{const g=f*l*t,E=g*n+n,w=Math.pow(l,2)*Math.pow(f,2)*t,x=Math.exp(-g),C=K1(Math.pow(f,2),l);return(-i(f)+$b>0?-1:1)*((E-w)*x)/C}):(i=f=>{const m=Math.exp(-f*t),g=(f-n)*t+1;return-$b+m*g},o=f=>{const m=Math.exp(-f*t),g=(n-f)*(t*t);return m*g});const c=5/t,h=j9(i,o,c);if(t=Ns(t),isNaN(h))return{stiffness:fn.stiffness,damping:fn.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const U9=12;function j9(t,e,n){let r=n;for(let i=1;i<U9;i++)r=r-t(r)/e(r);return r}function K1(t,e){return t*Math.sqrt(1-e*e)}const V9=["duration","bounce"],F9=["stiffness","damping","mass"];function OA(t,e){return e.some(n=>t[n]!==void 0)}function H9(t){let e={velocity:fn.velocity,stiffness:fn.stiffness,damping:fn.damping,mass:fn.mass,isResolvedFromDuration:!1,...t};if(!OA(t,F9)&&OA(t,V9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*ba(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:fn.mass,stiffness:i,damping:o}}else{const n=B9(t);e={...e,...n,mass:fn.mass},e.isResolvedFromDuration=!0}return e}function Wp(t=fn.visualDuration,e=fn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:g,velocity:E,isResolvedFromDuration:w}=H9({...n,velocity:-Ci(n.velocity||0)}),x=E||0,C=f/(2*Math.sqrt(h*m)),I=l-o,k=Ci(Math.sqrt(h/m)),Y=Math.abs(I)<5;r||(r=Y?fn.restSpeed.granular:fn.restSpeed.default),i||(i=Y?fn.restDelta.granular:fn.restDelta.default);let F;if(C<1){const ne=K1(k,C);F=K=>{const B=Math.exp(-C*k*K);return l-B*((x+C*k*I)/ne*Math.sin(ne*K)+I*Math.cos(ne*K))}}else if(C===1)F=ne=>l-Math.exp(-k*ne)*(I+(x+k*I)*ne);else{const ne=k*Math.sqrt(C*C-1);F=K=>{const B=Math.exp(-C*k*K),O=Math.min(ne*K,300);return l-B*((x+C*k*I)*Math.sinh(O)+ne*I*Math.cosh(O))/ne}}const X={calculatedDuration:w&&g||null,next:ne=>{const K=F(ne);if(w)c.done=ne>=g;else{let B=ne===0?x:0;C<1&&(B=ne===0?Ns(x):qk(F,ne,K));const O=Math.abs(B)<=r,V=Math.abs(l-K)<=i;c.done=O&&V}return c.value=c.done?l:K,c},toString:()=>{const ne=Math.min(DT(X),Qp),K=zk(B=>X.next(ne*B).value,ne,30);return ne+"ms "+K},toTransition:()=>{}};return X}Wp.applyToOptions=t=>{const e=L9(t,100,Wp);return t.ease=e.ease,t.duration=Ns(e.duration),t.type="keyframes",t};function Q1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:m}){const g=t[0],E={done:!1,value:g},w=O=>c!==void 0&&O<c||h!==void 0&&O>h,x=O=>c===void 0?h:h===void 0||Math.abs(c-O)<Math.abs(h-O)?c:h;let C=n*e;const I=g+C,k=l===void 0?I:l(I);k!==I&&(C=k-g);const Y=O=>-C*Math.exp(-O/r),F=O=>k+Y(O),X=O=>{const V=Y(O),P=F(O);E.done=Math.abs(V)<=f,E.value=E.done?k:P};let ne,K;const B=O=>{w(E.value)&&(ne=O,K=Wp({keyframes:[E.value,x(E.value)],velocity:qk(F,O,E.value),damping:i,stiffness:o,restDelta:f,restSpeed:m}))};return B(0),{calculatedDuration:null,next:O=>{let V=!1;return!K&&ne===void 0&&(V=!0,X(O),B(O)),ne!==void 0&&O>=ne?K.next(O-ne):(!V&&X(O),E)}}}function z9(t,e,n){const r=[],i=n||Ea.mix||Hk,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Ii:e;c=of(h,c)}r.push(c)}return r}function q9(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(wT(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=z9(e,r,i),h=c.length,f=m=>{if(l&&m<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const E=Bd(t[g],t[g+1],m);return c[g](E)};return n?m=>f(ba(t[0],t[o-1],m)):f}function Y9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Bd(0,e,r);t.push(ln(n,1,i))}}function G9(t){const e=[0];return Y9(e,t.length-1),e}function $9(t,e){return t.map(n=>n*e)}function K9(t,e){return t.map(()=>e||Dk).splice(0,t.length-1)}function gd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=s9(r)?r.map(IA):IA(r),o={done:!1,value:e[0]},l=$9(n&&n.length===e.length?n:G9(e),t),c=q9(l,e,{ease:Array.isArray(i)?i:K9(e,i)});return{calculatedDuration:t,next:h=>(o.value=c(h),o.done=h>=t,o)}}const Q9=t=>t!==null;function OT(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(Q9),c=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const W9={decay:Q1,inertia:Q1,tween:gd,keyframes:gd,spring:Wp};function Yk(t){typeof t.type=="string"&&(t.type=W9[t.type])}class PT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const X9=t=>t/100;class LT extends PT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Vr.now()&&this.tick(Vr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Yk(e);const{type:n=gd,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const h=n||gd;h!==gd&&typeof c[0]!="number"&&(this.mixKeyframes=of(X9,Hk(c[0],c[1])),c=[0,100]);const f=h({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=DT(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:g,repeatType:E,repeatDelay:w,type:x,onUpdate:C,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let F=this.currentTime,X=r;if(g){const O=Math.min(this.currentTime,i)/c;let V=Math.floor(O),P=O%1;!P&&O>=1&&(P=1),P===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(E==="reverse"?(P=1-P,w&&(P-=w/c)):E==="mirror"&&(X=l)),F=ba(0,1,P)*c}const ne=Y?{done:!1,value:m[0]}:X.next(F);o&&(ne.value=o(ne.value));let{done:K}=ne;!Y&&h!==null&&(K=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return B&&x!==Q1&&(ne.value=OT(m,this.options,I,this.speed)),C&&C(ne.value),B&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return Ci(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ci(e)}get time(){return Ci(this.currentTime)}set time(e){e=Ns(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ci(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=P9,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Z9(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wl=t=>t*180/Math.PI,W1=t=>{const e=wl(Math.atan2(t[1],t[0]));return X1(e)},J9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:W1,rotateZ:W1,skewX:t=>wl(Math.atan(t[1])),skewY:t=>wl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},X1=t=>(t=t%360,t<0&&(t+=360),t),PA=W1,LA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),MA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),e8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LA,scaleY:MA,scale:t=>(LA(t)+MA(t))/2,rotateX:t=>X1(wl(Math.atan2(t[6],t[5]))),rotateY:t=>X1(wl(Math.atan2(-t[2],t[0]))),rotateZ:PA,rotate:PA,skewX:t=>wl(Math.atan(t[4])),skewY:t=>wl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Z1(t){return t.includes("scale")?1:0}function J1(t,e){if(!t||t==="none")return Z1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=e8,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=J9,i=c}if(!i)return Z1(e);const o=r[e],l=i[1].split(",").map(n8);return typeof o=="function"?o(l):l[o]}const t8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return J1(n,e)};function n8(t){return parseFloat(t.trim())}const kc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rc=new Set(kc),BA=t=>t===Nc||t===Ke,r8=new Set(["x","y","z"]),i8=kc.filter(t=>!r8.has(t));function s8(t){const e=[];return i8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Cl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>J1(e,"x"),y:(t,{transform:e})=>J1(e,"y")};Cl.translateX=Cl.x;Cl.translateY=Cl.y;const Il=new Set;let eE=!1,tE=!1,nE=!1;function Gk(){if(tE){const t=Array.from(Il).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=s8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tE=!1,eE=!1,Il.forEach(t=>t.complete(nE)),Il.clear()}function $k(){Il.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tE=!0)})}function a8(){nE=!0,$k(),Gk(),nE=!1}class MT{constructor(e,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Il.add(this),eE||(eE=!0,tn.read($k),tn.resolveKeyframes(Gk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}Z9(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Il.delete(this)}cancel(){this.state==="scheduled"&&(Il.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const o8=t=>t.startsWith("--");function l8(t,e,n){o8(e)?t.style.setProperty(e,n):t.style[e]=n}const u8=vT(()=>window.ScrollTimeline!==void 0),c8={};function h8(t,e){const n=vT(t);return()=>c8[e]??n()}const Kk=h8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),od=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,UA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:od([0,.65,.55,1]),circOut:od([.55,0,1,.45]),backIn:od([.31,.01,.66,-.59]),backOut:od([.33,1.53,.69,.99])};function Qk(t,e){if(t)return typeof t=="function"?Kk()?zk(t,e):"ease-out":Ok(t)?od(t):Array.isArray(t)?t.map(n=>Qk(n,e)||UA.easeOut):UA[t]}function d8(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:h}={},f=void 0){const m={[e]:n};h&&(m.offset=h);const g=Qk(c,i);Array.isArray(g)&&(m.easing=g);const E={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(E.pseudoElement=f),t.animate(m,E)}function Wk(t){return typeof t=="function"&&"applyToOptions"in t}function f8({type:t,...e}){return Wk(t)&&Kk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class m8 extends PT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,wT(typeof e.type!="string");const f=f8(e);this.animation=d8(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=OT(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):l8(n,r,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ci(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ci(e)}get time(){return Ci(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ns(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&u8()?(this.animation.timeline=e,Ii):n(this)}}const Xk={anticipate:Nk,backInOut:Ik,circInOut:Rk};function p8(t){return t in Xk}function g8(t){typeof t.ease=="string"&&p8(t.ease)&&(t.ease=Xk[t.ease])}const jA=10;class y8 extends m8{constructor(e){g8(e),Yk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new LT({...l,autoplay:!1}),h=Ns(this.finishedTime??this.time);n.setWithVelocity(c.sample(h-jA).value,c.sample(h).value,jA),c.stop()}}const VA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Co.test(t)||t==="0")&&!t.startsWith("url("));function b8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function E8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=VA(i,e),c=VA(o,e);return!l||!c?!1:b8(t)||(n==="spring"||Wk(n))&&r}function rE(t){t.duration=0,t.type="keyframes"}const T8=new Set(["opacity","clipPath","filter","transform"]),_8=vT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function w8(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return _8()&&n&&T8.has(n)&&(n!=="transform"||!f)&&!h&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const v8=40;class x8 extends PT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:h,motionValue:f,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vr.now();const E={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:h,motionValue:f,element:m,...g},w=m?.KeyframeResolver||MT;this.keyframeResolver=new w(c,(x,C,I)=>this.onKeyframesResolved(x,C,E,!I),h,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:h,isHandoff:f,onUpdate:m}=r;this.resolvedAt=Vr.now(),E8(e,o,l,c)||((Ea.instantAnimations||!h)&&m?.(OT(e,r,n)),e[0]=e[e.length-1],rE(r),r.repeat=0);const E={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>v8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!f&&w8(E)?new y8({...E,element:E.motionValue.owner.current}):new LT(E);w.finished.then(()=>this.notifyFinished()).catch(Ii),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),a8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const A8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S8(t){const e=A8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Zk(t,e,n=1){const[r,i]=S8(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return Tk(l)?parseFloat(l):l}return IT(i)?Zk(i,e,n+1):i}function BT(t,e){return t?.[e]??t?.default??t}const Jk=new Set(["width","height","top","left","right","bottom",...kc]),C8={test:t=>t==="auto",parse:t=>t},eR=t=>e=>e.test(t),tR=[Nc,Ke,ks,co,b9,y9,C8],FA=t=>tR.find(eR(t));function I8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wk(t):!0}const N8=new Set(["brightness","contrast","saturate","opacity"]);function k8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(NT)||[];if(!r)return t;const i=n.replace(r,"");let o=N8.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const R8=/\b([a-z-]*)\(.*?\)/gu,iE={...Co,getAnimatableNone:t=>{const e=t.match(R8);return e?e.map(k8).join(" "):t}},HA={...Nc,transform:Math.round},D8={rotate:co,rotateX:co,rotateY:co,rotateZ:co,scale:up,scaleX:up,scaleY:up,scaleZ:up,skew:co,skewX:co,skewY:co,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:Ud,originX:NA,originY:NA,originZ:Ke},UT={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke,...D8,zIndex:HA,fillOpacity:Ud,strokeOpacity:Ud,numOctaves:HA},O8={...UT,color:jn,backgroundColor:jn,outlineColor:jn,fill:jn,stroke:jn,borderColor:jn,borderTopColor:jn,borderRightColor:jn,borderBottomColor:jn,borderLeftColor:jn,filter:iE,WebkitFilter:iE},nR=t=>O8[t];function rR(t,e){let n=nR(t);return n!==iE&&(n=Co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const P8=new Set(["auto","none","0"]);function L8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!P8.has(o)&&jd(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=rR(n,i)}class M8 extends MT{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),IT(f))){const m=Zk(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Jk.has(r)||e.length!==2)return;const[i,o]=e,l=FA(i),c=FA(o);if(l!==c)if(BA(l)&&BA(c))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Cl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||I8(e[i]))&&r.push(i);r.length&&L8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Cl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function B8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const iR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function sR(t){return _k(t)&&"offsetHeight"in t}const zA=30,U8=t=>!isNaN(parseFloat(t));class j8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Vr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=U8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new xT);const r=this.events[e].add(n);return e==="change"?()=>{r(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zA);return vk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uc(t,e){return new j8(t,e)}const{schedule:jT}=Pk(queueMicrotask,!1),$i={x:!1,y:!1};function aR(){return $i.x||$i.y}function V8(t){return t==="x"||t==="y"?$i[t]?null:($i[t]=!0,()=>{$i[t]=!1}):$i.x||$i.y?null:($i.x=$i.y=!0,()=>{$i.x=$i.y=!1})}function oR(t,e){const n=B8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function qA(t){return!(t.pointerType==="touch"||aR())}function F8(t,e,n={}){const[r,i,o]=oR(t,n),l=c=>{if(!qA(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const m=g=>{qA(g)&&(f(g),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const lR=(t,e)=>e?t===e?!0:lR(t,e.parentElement):!1,VT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,H8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z8(t){return H8.has(t.tagName)||t.tabIndex!==-1}const kp=new WeakSet;function YA(t){return e=>{e.key==="Enter"&&t(e)}}function Kb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const q8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=YA(()=>{if(kp.has(n))return;Kb(n,"down");const i=YA(()=>{Kb(n,"up")}),o=()=>Kb(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function GA(t){return VT(t)&&!aR()}function Y8(t,e,n={}){const[r,i,o]=oR(t,n),l=c=>{const h=c.currentTarget;if(!GA(c))return;kp.add(h);const f=e(h,c),m=(w,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",E),kp.has(h)&&kp.delete(h),GA(w)&&typeof f=="function"&&f(w,{success:x})},g=w=>{m(w,h===window||h===document||n.useGlobalTarget||lR(h,w.target))},E=w=>{m(w,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",E,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),sR(c)&&(c.addEventListener("focus",f=>q8(f,i)),!z8(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function uR(t){return _k(t)&&"ownerSVGElement"in t}function G8(t){return uR(t)&&t.tagName==="svg"}const mr=t=>!!(t&&t.getVelocity),$8=[...tR,jn,Co],K8=t=>$8.find(eR(t)),FT=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $A(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Q8(...t){return e=>{let n=!1;const r=t.map(i=>{const o=$A(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():$A(t[i],null)}}}}function W8(...t){return q.useCallback(Q8(...t),t)}class X8 extends q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=sR(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z8({children:t,isPresent:e,anchorX:n,root:r}){const i=q.useId(),o=q.useRef(null),l=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=q.useContext(FT),h=W8(o,t?.ref);return q.useInsertionEffect(()=>{const{width:f,height:m,top:g,left:E,right:w}=l.current;if(e||!o.current||!f||!m)return;const x=n==="left"?`left: ${E}`:`right: ${w}`;o.current.dataset.motionPopId=i;const C=document.createElement("style");c&&(C.nonce=c);const I=r??document.head;return I.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${x}px !important;
            top: ${g}px !important;
          }
        `),()=>{I.contains(C)&&I.removeChild(C)}},[e]),T.jsx(X8,{isPresent:e,childRef:o,sizeRef:l,children:q.cloneElement(t,{ref:h})})}const J8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:h})=>{const f=bT(eB),m=q.useId();let g=!0,E=q.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:w=>{f.set(w,!0);for(const x of f.values())if(!x)return;r&&r()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[n,f,r]);return o&&g&&(E={...E}),q.useMemo(()=>{f.forEach((w,x)=>f.set(x,!1))},[n]),q.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=T.jsx(Z8,{isPresent:n,anchorX:c,root:h,children:t})),T.jsx(Hg.Provider,{value:E,children:t})};function eB(){return new Map}function cR(t=!0){const e=q.useContext(Hg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=q.useId();q.useEffect(()=>{if(t)return i(o)},[t]);const l=q.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const cp=t=>t.key||"";function KA(t){const e=[];return q.Children.forEach(t,n=>{q.isValidElement(n)&&e.push(n)}),e}const Vd=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:h})=>{const[f,m]=cR(l),g=q.useMemo(()=>KA(t),[t]),E=l&&!f?[]:g.map(cp),w=q.useRef(!0),x=q.useRef(g),C=bT(()=>new Map),[I,k]=q.useState(g),[Y,F]=q.useState(g);Ek(()=>{w.current=!1,x.current=g;for(let K=0;K<Y.length;K++){const B=cp(Y[K]);E.includes(B)?C.delete(B):C.get(B)!==!0&&C.set(B,!1)}},[Y,E.length,E.join("-")]);const X=[];if(g!==I){let K=[...g];for(let B=0;B<Y.length;B++){const O=Y[B],V=cp(O);E.includes(V)||(K.splice(B,0,O),X.push(O))}return o==="wait"&&X.length&&(K=X),F(KA(K)),k(g),null}const{forceRender:ne}=q.useContext(yT);return T.jsx(T.Fragment,{children:Y.map(K=>{const B=cp(K),O=l&&!f?!1:g===Y||E.includes(B),V=()=>{if(C.has(B))C.set(B,!0);else return;let P=!0;C.forEach(R=>{R||(P=!1)}),P&&(ne?.(),F(x.current),l&&m?.(),r&&r())};return T.jsx(J8,{isPresent:O,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:h,onExitComplete:O?void 0:V,anchorX:c,children:K},B)})})},hR=q.createContext({strict:!1}),QA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cc={};for(const t in QA)cc[t]={isEnabled:e=>QA[t].some(n=>!!e[n])};function tB(t){for(const e in t)cc[e]={...cc[e],...t[e]}}const nB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nB.has(t)}let dR=t=>!Xp(t);function rB(t){typeof t=="function"&&(dR=e=>e.startsWith("on")?!Xp(e):t(e))}try{rB(require("@emotion/is-prop-valid").default)}catch{}function iB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(dR(i)||n===!0&&Xp(i)||!e&&!Xp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const zg=q.createContext({});function qg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Fd(t){return typeof t=="string"||Array.isArray(t)}const HT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zT=["initial",...HT];function Yg(t){return qg(t.animate)||zT.some(e=>Fd(t[e]))}function fR(t){return!!(Yg(t)||t.variants)}function sB(t,e){if(Yg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Fd(n)?n:void 0,animate:Fd(r)?r:void 0}}return t.inherit!==!1?e:{}}function aB(t){const{initial:e,animate:n}=sB(t,q.useContext(zg));return q.useMemo(()=>({initial:e,animate:n}),[WA(e),WA(n)])}function WA(t){return Array.isArray(t)?t.join(" "):t}const Hd={};function oB(t){for(const e in t)Hd[e]=t[e],CT(e)&&(Hd[e].isCSSVariable=!0)}function mR(t,{layout:e,layoutId:n}){return Rc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hd[t]||t==="opacity")}const lB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uB=kc.length;function cB(t,e,n){let r="",i=!0;for(let o=0;o<uB;o++){const l=kc[o],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const f=iR(c,UT[l]);if(!h){i=!1;const m=lB[l]||l;r+=`${m}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function qT(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const h in e){const f=e[h];if(Rc.has(h)){l=!0;continue}else if(CT(h)){i[h]=f;continue}else{const m=iR(f,UT[h]);h.startsWith("origin")?(c=!0,o[h]=m):r[h]=m}}if(e.transform||(l||n?r.transform=cB(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${f} ${m}`}}const YT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pR(t,e,n){for(const r in e)!mr(e[r])&&!mR(r,n)&&(t[r]=e[r])}function hB({transformTemplate:t},e){return q.useMemo(()=>{const n=YT();return qT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dB(t,e){const n=t.style||{},r={};return pR(r,n,t),Object.assign(r,hB(t,e)),r}function fB(t,e){const n={},r=dB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const mB={offset:"stroke-dashoffset",array:"stroke-dasharray"},pB={offset:"strokeDashoffset",array:"strokeDasharray"};function gB(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?mB:pB;t[o.offset]=Ke.transform(-r);const l=Ke.transform(e),c=Ke.transform(n);t[o.array]=`${l} ${c}`}function gR(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},h,f,m){if(qT(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:E}=t;g.transform&&(E.transform=g.transform,delete g.transform),(E.transform||g.transformOrigin)&&(E.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),E.transform&&(E.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&gB(g,i,o,l,!1)}const yR=()=>({...YT(),attrs:{}}),bR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yB(t,e,n,r){const i=q.useMemo(()=>{const o=yR();return gR(o,e,bR(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};pR(o,t.style,t),i.style={...o,...i.style}}return i}const bB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GT(t){return typeof t!="string"||t.includes("-")?!1:!!(bB.indexOf(t)>-1||/[A-Z]/u.test(t))}function EB(t,e,n,{latestValues:r},i,o=!1){const c=(GT(t)?yB:fB)(e,r,i,t),h=iB(e,typeof t=="string",o),f=t!==q.Fragment?{...h,...c,ref:n}:{},{children:m}=e,g=q.useMemo(()=>mr(m)?m.get():m,[m]);return q.createElement(t,{...f,children:g})}function XA(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $T(t,e,n,r){if(typeof e=="function"){const[i,o]=XA(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=XA(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Rp(t){return mr(t)?t.get():t}function TB({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:_B(n,r,i,t),renderState:e()}}function _B(t,e,n,r){const i={},o=r(t,{});for(const E in o)i[E]=Rp(o[E]);let{initial:l,animate:c}=t;const h=Yg(t),f=fR(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!qg(g)){const E=Array.isArray(g)?g:[g];for(let w=0;w<E.length;w++){const x=$T(t,E[w]);if(x){const{transitionEnd:C,transition:I,...k}=x;for(const Y in k){let F=k[Y];if(Array.isArray(F)){const X=m?F.length-1:0;F=F[X]}F!==null&&(i[Y]=F)}for(const Y in C)i[Y]=C[Y]}}}return i}const ER=t=>(e,n)=>{const r=q.useContext(zg),i=q.useContext(Hg),o=()=>TB(t,e,r,i);return n?o():bT(o)};function KT(t,e,n){const{style:r}=t,i={};for(const o in r)(mr(r[o])||e.style&&mr(e.style[o])||mR(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const wB=ER({scrapeMotionValuesFromProps:KT,createRenderState:YT});function TR(t,e,n){const r=KT(t,e,n);for(const i in t)if(mr(t[i])||mr(e[i])){const o=kc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const vB=ER({scrapeMotionValuesFromProps:TR,createRenderState:yR}),xB=Symbol.for("motionComponentSymbol");function $u(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AB(t,e,n){return q.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$u(n)&&(n.current=r))},[e])}const QT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SB="framerAppearId",_R="data-"+QT(SB),wR=q.createContext({});function CB(t,e,n,r,i){const{visualElement:o}=q.useContext(zg),l=q.useContext(hR),c=q.useContext(Hg),h=q.useContext(FT).reducedMotion,f=q.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,g=q.useContext(wR);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&IB(f.current,n,i,g);const E=q.useRef(!1);q.useInsertionEffect(()=>{m&&E.current&&m.update(n,c)});const w=n[_R],x=q.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return Ek(()=>{m&&(E.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),q.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),x.current=!1),m.enteringChildren=void 0)}),m}function IB(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vR(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&$u(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:f})}function vR(t){if(t)return t.options.allowProjection!==!1?t.projection:vR(t.parent)}function Qb(t,{forwardMotionProps:e=!1}={},n,r){n&&tB(n);const i=GT(t)?vB:wB;function o(c,h){let f;const m={...q.useContext(FT),...c,layoutId:NB(c)},{isStatic:g}=m,E=aB(c),w=i(c,g);if(!g&&ET){kB();const x=RB(m);f=x.MeasureLayout,E.visualElement=CB(t,w,m,r,x.ProjectionNode)}return T.jsxs(zg.Provider,{value:E,children:[f&&E.visualElement?T.jsx(f,{visualElement:E.visualElement,...m}):null,EB(t,c,AB(w,E.visualElement,h),w,g,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=q.forwardRef(o);return l[xB]=t,l}function NB({layoutId:t}){const e=q.useContext(yT).id;return e&&t!==void 0?e+"-"+t:t}function kB(t,e){q.useContext(hR).strict}function RB(t){const{drag:e,layout:n}=cc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function DB(t,e){if(typeof Proxy>"u")return Qb;const n=new Map,r=(o,l)=>Qb(o,l,t,e),i=(o,l)=>r(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,Qb(l,void 0,t,e)),n.get(l))})}function xR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function OB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wb(t){return t===void 0||t===1}function sE({scale:t,scaleX:e,scaleY:n}){return!Wb(t)||!Wb(e)||!Wb(n)}function El(t){return sE(t)||AR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AR(t){return ZA(t.x)||ZA(t.y)}function ZA(t){return t&&t!=="0%"}function Zp(t,e,n){const r=t-n,i=e*r;return n+i}function JA(t,e,n,r,i){return i!==void 0&&(t=Zp(t,i,r)),Zp(t,n,r)+e}function aE(t,e=0,n=1,r,i){t.min=JA(t.min,e,n,r,i),t.max=JA(t.max,e,n,r,i)}function SR(t,{x:e,y:n}){aE(t.x,e.translate,e.scale,e.originPoint),aE(t.y,n.translate,n.scale,n.originPoint)}const eS=.999999999999,tS=1.0000000000001;function LB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qu(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,SR(t,l)),r&&El(o.latestValues)&&Qu(t,o.latestValues))}e.x<tS&&e.x>eS&&(e.x=1),e.y<tS&&e.y>eS&&(e.y=1)}function Ku(t,e){t.min=t.min+e,t.max=t.max+e}function nS(t,e,n,r,i=.5){const o=ln(t.min,t.max,i);aE(t,e,n,o,r)}function Qu(t,e){nS(t.x,e.x,e.scaleX,e.scale,e.originX),nS(t.y,e.y,e.scaleY,e.scale,e.originY)}function CR(t,e){return xR(PB(t.getBoundingClientRect(),e))}function MB(t,e,n){const r=CR(t,n),{scroll:i}=e;return i&&(Ku(r.x,i.offset.x),Ku(r.y,i.offset.y)),r}const rS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wu=()=>({x:rS(),y:rS()}),iS=()=>({min:0,max:0}),Tn=()=>({x:iS(),y:iS()}),oE={current:null},IR={current:!1};function BB(){if(IR.current=!0,!!ET)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>oE.current=t.matches;t.addEventListener("change",e),e()}else oE.current=!1}const UB=new WeakMap;function jB(t,e,n){for(const r in e){const i=e[r],o=n[r];if(mr(i))t.addValue(r,i);else if(mr(o))t.addValue(r,uc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,uc(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const sS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=MT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Vr.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,tn.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Yg(n),this.isVariantNode=fR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in g){const w=g[E];h[E]!==void 0&&mr(w)&&w.set(h[E])}}mount(e){this.current=e,UB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IR.current||BB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oE.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),So(this.notifyUpdate),So(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Rc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&tn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cc){const n=cc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sS.length;r++){const i=sS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=jB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Tk(r)||wk(r))?r=parseFloat(r):!K8(r)&&Co.test(n)&&(r=rR(e,n)),this.setBaseTarget(e,mr(r)?r.get():r)),mr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=$T(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!mr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new xT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){jT.render(this.render)}}class NR extends VB{constructor(){super(...arguments),this.KeyframeResolver=M8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kR(t,{style:e,vars:n},r,i){const o=t.style;let l;for(l in e)o[l]=e[l];i?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function FB(t){return window.getComputedStyle(t)}class HB extends NR{constructor(){super(...arguments),this.type="html",this.renderInstance=kR}readValueFromInstance(e,n){if(Rc.has(n))return this.projection?.isProjecting?Z1(n):t8(e,n);{const r=FB(e),i=(CT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CR(e,n)}build(e,n,r){qT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return KT(e,n,r)}}const RR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zB(t,e,n,r){kR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(RR.has(i)?i:QT(i),e.attrs[i])}class qB extends NR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rc.has(n)){const r=nR(n);return r&&r.default||0}return n=RR.has(n)?n:QT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return TR(e,n,r)}build(e,n,r){gR(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){zB(e,n,r,i)}mount(e){this.isSVGTag=bR(e.tagName),super.mount(e)}}const YB=(t,e)=>GT(t)?new qB(e):new HB(e,{allowProjection:t!==q.Fragment});function Ju(t,e,n){const r=t.getProps();return $T(r,e,n!==void 0?n:r.custom,t)}const lE=t=>Array.isArray(t);function GB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uc(n))}function $B(t){return lE(t)?t[t.length-1]||0:t}function KB(t,e){const n=Ju(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const c=$B(o[l]);GB(t,l,c)}}function QB(t){return!!(mr(t)&&t.add)}function uE(t,e){const n=t.getValue("willChange");if(QB(n))return n.add(e);if(!n&&Ea.WillChange){const r=new Ea.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function DR(t){return t.props[_R]}const WB=t=>t!==null;function XB(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(WB),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const ZB={type:"spring",stiffness:500,damping:25,restSpeed:10},JB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eU={type:"keyframes",duration:.8},tU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nU=(t,{keyframes:e})=>e.length>2?eU:Rc.has(t)?t.startsWith("scale")?JB(e[1]):ZB:tU;function rU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const WT=(t,e,n,r={},i,o)=>l=>{const c=BT(r,t)||{},h=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ns(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:E=>{e.set(E),c.onUpdate&&c.onUpdate(E)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:i};rU(c)||Object.assign(m,nU(t,m)),m.duration&&(m.duration=Ns(m.duration)),m.repeatDelay&&(m.repeatDelay=Ns(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(rE(m),m.delay===0&&(g=!0)),(Ea.instantAnimations||Ea.skipAnimations)&&(g=!0,rE(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!o&&e.get()!==void 0){const E=XB(m.keyframes,c);if(E!==void 0){tn.update(()=>{m.onUpdate(E),m.onComplete()});return}}return c.isSync?new LT(m):new x8(m)};function iU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const g=t.getValue(m,t.latestValues[m]??null),E=c[m];if(E===void 0||f&&iU(f,m))continue;const w={delay:n,...BT(o||{},m)},x=g.get();if(x!==void 0&&!g.isAnimating&&!Array.isArray(E)&&E===x&&!w.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const k=DR(t);if(k){const Y=window.MotionHandoffAnimation(k,m,tn);Y!==null&&(w.startTime=Y,C=!0)}}uE(t,m),g.start(WT(m,g,E,t.shouldReduceMotion&&Jk.has(m)?{type:!1}:w,t,C));const I=g.animation;I&&h.push(I)}return l&&Promise.all(h).then(()=>{tn.update(()=>{l&&KB(t,l)})}),h}function PR(t,e,n,r=0,i=1){const o=Array.from(t).sort((f,m)=>f.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(o,l):i===1?o*r:c-o*r}function cE(t,e,n={}){const r=Ju(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(OR(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=i;return sU(t,e,h,f,m,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,f]=c==="beforeChildren"?[o,l]:[l,o];return h().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function sU(t,e,n=0,r=0,i=0,o=1,l){const c=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),c.push(cE(h,e,{...l,delay:n+(typeof r=="function"?0:r)+PR(t.variantChildren,h,r,i,o)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function aU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>cE(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=cE(t,e,n);else{const i=typeof e=="function"?Ju(t,e,n.custom):e;r=Promise.all(OR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function LR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const oU=zT.length;function MR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oU;n++){const r=zT[n],i=t.props[r];(Fd(i)||i===!1)&&(e[r]=i)}return e}const lU=[...HT].reverse(),uU=HT.length;function cU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>aU(t,n,r)))}function hU(t){let e=cU(t),n=aS(),r=!0;const i=h=>(f,m)=>{const g=Ju(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:E,transitionEnd:w,...x}=g;f={...f,...x,...w}}return f};function o(h){e=h(t)}function l(h){const{props:f}=t,m=MR(t.parent)||{},g=[],E=new Set;let w={},x=1/0;for(let I=0;I<uU;I++){const k=lU[I],Y=n[k],F=f[k]!==void 0?f[k]:m[k],X=Fd(F),ne=k===h?Y.isActive:null;ne===!1&&(x=I);let K=F===m[k]&&F!==f[k]&&X;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),Y.protectedKeys={...w},!Y.isActive&&ne===null||!F&&!Y.prevProp||qg(F)||typeof F=="boolean")continue;const B=dU(Y.prevProp,F);let O=B||k===h&&Y.isActive&&!K&&X||I>x&&X,V=!1;const P=Array.isArray(F)?F:[F];let R=P.reduce(i(k),{});ne===!1&&(R={});const{prevResolvedValues:U={}}=Y,H={...U,...R},he=ce=>{O=!0,E.has(ce)&&(V=!0,E.delete(ce)),Y.needsAnimating[ce]=!0;const Ie=t.getValue(ce);Ie&&(Ie.liveStyle=!1)};for(const ce in H){const Ie=R[ce],Be=U[ce];if(w.hasOwnProperty(ce))continue;let D=!1;lE(Ie)&&lE(Be)?D=!LR(Ie,Be):D=Ie!==Be,D?Ie!=null?he(ce):E.add(ce):Ie!==void 0&&E.has(ce)?he(ce):Y.protectedKeys[ce]=!0}Y.prevProp=F,Y.prevResolvedValues=R,Y.isActive&&(w={...w,...R}),r&&t.blockInitialAnimation&&(O=!1);const J=K&&B;O&&(!J||V)&&g.push(...P.map(ce=>{const Ie={type:k};if(typeof ce=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:Be}=t,D=Ju(Be,ce);if(Be.enteringChildren&&D){const{delayChildren:N}=D.transition||{};Ie.delay=PR(Be.enteringChildren,t,N)}}return{animation:ce,options:Ie}}))}if(E.size){const I={};if(typeof f.initial!="boolean"){const k=Ju(t,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(I.transition=k.transition)}E.forEach(k=>{const Y=t.getBaseTarget(k),F=t.getValue(k);F&&(F.liveStyle=!0),I[k]=Y??null}),g.push({animation:I})}let C=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(g):Promise.resolve()}function c(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(h,f)),n[h].isActive=f;const m=l(h);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=aS()}}}function dU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LR(e,t):!1}function gl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aS(){return{animate:gl(!0),whileInView:gl(),whileHover:gl(),whileTap:gl(),whileDrag:gl(),whileFocus:gl(),exit:gl()}}class Lo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fU extends Lo{constructor(e){super(e),e.animationState||(e.animationState=hU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let mU=0;class pU extends Lo{constructor(){super(...arguments),this.id=mU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gU={animation:{Feature:fU},exit:{Feature:pU}};function zd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function cf(t){return{point:{x:t.pageX,y:t.pageY}}}const yU=t=>e=>VT(e)&&t(e,cf(e));function yd(t,e,n,r){return zd(t,e,yU(n),r)}const BR=1e-4,bU=1-BR,EU=1+BR,UR=.01,TU=0-UR,_U=0+UR;function xr(t){return t.max-t.min}function wU(t,e,n){return Math.abs(t-e)<=n}function oS(t,e,n,r=.5){t.origin=r,t.originPoint=ln(e.min,e.max,t.origin),t.scale=xr(n)/xr(e),t.translate=ln(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bU&&t.scale<=EU||isNaN(t.scale))&&(t.scale=1),(t.translate>=TU&&t.translate<=_U||isNaN(t.translate))&&(t.translate=0)}function bd(t,e,n,r){oS(t.x,e.x,n.x,r?r.originX:void 0),oS(t.y,e.y,n.y,r?r.originY:void 0)}function lS(t,e,n){t.min=n.min+e.min,t.max=t.min+xr(e)}function vU(t,e,n){lS(t.x,e.x,n.x),lS(t.y,e.y,n.y)}function uS(t,e,n){t.min=e.min-n.min,t.max=t.min+xr(e)}function Ed(t,e,n){uS(t.x,e.x,n.x),uS(t.y,e.y,n.y)}function vi(t){return[t("x"),t("y")]}const jR=({current:t})=>t?t.ownerDocument.defaultView:null,cS=(t,e)=>Math.abs(t-e);function xU(t,e){const n=cS(t.x,e.x),r=cS(t.y,e.y);return Math.sqrt(n**2+r**2)}class VR{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Zb(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=xU(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!x)return;const{point:C}=E,{timestamp:I}=sr;this.history.push({...C,timestamp:I});const{onStart:k,onMove:Y}=this.handlers;w||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,E)},this.handlePointerMove=(E,w)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Xb(w,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(E,w)=>{this.end();const{onEnd:x,onSessionEnd:C,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Zb(E.type==="pointercancel"?this.lastMoveEventInfo:Xb(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(E,k),C&&C(E,k)},!VT(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const c=cf(e),h=Xb(c,this.transformPagePoint),{point:f}=h,{timestamp:m}=sr;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Zb(h,this.history)),this.removeListeners=of(yd(this.contextWindow,"pointermove",this.handlePointerMove),yd(this.contextWindow,"pointerup",this.handlePointerUp),yd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),So(this.updatePoint)}}function Xb(t,e){return e?{point:e(t.point)}:t}function hS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zb({point:t},e){return{point:t,delta:hS(t,FR(e)),offset:hS(t,AU(e)),velocity:SU(e,.1)}}function AU(t){return t[0]}function FR(t){return t[t.length-1]}function SU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=FR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ns(e)));)n--;if(!r)return{x:0,y:0};const o=Ci(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function CU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ln(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ln(n,t,r.max):Math.min(t,n)),t}function dS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IU(t,{top:e,left:n,bottom:r,right:i}){return{x:dS(t.x,n,i),y:dS(t.y,e,r)}}function fS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function NU(t,e){return{x:fS(t.x,e.x),y:fS(t.y,e.y)}}function kU(t,e){let n=.5;const r=xr(t),i=xr(e);return i>r?n=Bd(e.min,e.max-r,t.min):r>i&&(n=Bd(t.min,t.max-i,e.min)),ba(0,1,n)}function RU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hE=.35;function DU(t=hE){return t===!1?t=0:t===!0&&(t=hE),{x:mS(t,"left","right"),y:mS(t,"top","bottom")}}function mS(t,e,n){return{min:pS(t,e),max:pS(t,n)}}function pS(t,e){return typeof t=="number"?t:t[e]||0}const OU=new WeakMap;class PU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cf(g).point)},l=(g,E)=>{const{drag:w,dragPropagation:x,onDragStart:C}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=V8(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vi(k=>{let Y=this.getAxisMotionValue(k).get()||0;if(ks.test(Y)){const{projection:F}=this.visualElement;if(F&&F.layout){const X=F.layout.layoutBox[k];X&&(Y=xr(X)*(parseFloat(Y)/100))}}this.originPoint[k]=Y}),C&&tn.postRender(()=>C(g,E)),uE(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},c=(g,E)=>{this.latestPointerEvent=g,this.latestPanInfo=E;const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:C,onDrag:I}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:k}=E;if(x&&this.currentDirection===null){this.currentDirection=LU(k),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",E.point,k),this.updateAxis("y",E.point,k),this.visualElement.render(),I&&I(g,E)},h=(g,E)=>{this.latestPointerEvent=g,this.latestPanInfo=E,this.stop(g,E),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>vi(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new VR(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:jR(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&tn.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hp(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=CU(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&$u(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=IU(r.layoutBox,e):this.constraints=!1,this.elastic=DU(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=RU(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$u(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=MB(r,i.root,this.visualElement.getTransformPagePoint());let l=NU(i.layout.layoutBox,o);if(n){const c=n(OB(l));this.hasMutatedConstraints=!!c,c&&(l=xR(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=vi(m=>{if(!hp(m,n,this.currentDirection))return;let g=h&&h[m]||{};l&&(g={min:0,max:0});const E=i?200:1e6,w=i?40:1e7,x={type:"inertia",velocity:r?e[m]:0,bounceStiffness:E,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,x)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return uE(this.visualElement,e),r.start(WT(e,r,0,n,this.visualElement,!1))}stopAnimation(){vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vi(n=>{const{drag:r}=this.getProps();if(!hp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(e[n]-ln(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$u(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=kU({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vi(l=>{if(!hp(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(ln(h,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;OU.set(this.visualElement,this);const e=this.visualElement.current,n=yd(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();$u(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),tn.read(r);const l=zd(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(vi(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=hE,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function hp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class MU extends Lo{constructor(e){super(e),this.removeGroupControls=Ii,this.removeListeners=Ii,this.controls=new PU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const gS=t=>(e,n)=>{t&&tn.postRender(()=>t(e,n))};class BU extends Lo{constructor(){super(...arguments),this.removePointerDownListener=Ii}onPointerDown(e){this.session=new VR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gS(e),onStart:gS(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&tn.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=yd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ke.test(t))t=parseFloat(t);else return t;const n=yS(t,e.target.x),r=yS(t,e.target.y);return`${n}% ${r}%`}},UU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Co.parse(t);if(i.length>5)return r;const o=Co.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const f=ln(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};let Jb=!1;class jU extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;oB(VU),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),Jb&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Dp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,Jb=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||tn.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Jb=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HR(t){const[e,n]=cR(),r=q.useContext(yT);return T.jsx(jU,{...t,layoutGroup:r,switchLayoutGroup:q.useContext(wR),isPresent:e,safeToRemove:n})}const VU={borderRadius:{...Jh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jh,borderTopRightRadius:Jh,borderBottomLeftRadius:Jh,borderBottomRightRadius:Jh,boxShadow:UU};function FU(t,e,n){const r=mr(t)?t:uc(t);return r.start(WT("",r,e,n)),r.animation}const HU=(t,e)=>t.depth-e.depth;class zU{constructor(){this.children=[],this.isDirty=!1}add(e){TT(this.children,e),this.isDirty=!0}remove(e){_T(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HU),this.isDirty=!1,this.children.forEach(e)}}function qU(t,e){const n=Vr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(So(r),t(o-e))};return tn.setup(r,!0),()=>So(r)}const zR=["TopLeft","TopRight","BottomLeft","BottomRight"],YU=zR.length,bS=t=>typeof t=="string"?parseFloat(t):t,ES=t=>typeof t=="number"||Ke.test(t);function GU(t,e,n,r,i,o){i?(t.opacity=ln(0,n.opacity??1,$U(r)),t.opacityExit=ln(e.opacity??1,0,KU(r))):o&&(t.opacity=ln(e.opacity??1,n.opacity??1,r));for(let l=0;l<YU;l++){const c=`border${zR[l]}Radius`;let h=TS(e,c),f=TS(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||ES(h)===ES(f)?(t[c]=Math.max(ln(bS(h),bS(f),r),0),(ks.test(f)||ks.test(h))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=ln(e.rotate||0,n.rotate||0,r))}function TS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $U=qR(0,.5,kk),KU=qR(.5,.95,Ii);function qR(t,e,n){return r=>r<t?0:r>e?1:n(Bd(t,e,r))}function _S(t,e){t.min=e.min,t.max=e.max}function wi(t,e){_S(t.x,e.x),_S(t.y,e.y)}function wS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vS(t,e,n,r,i){return t-=e,t=Zp(t,1/n,r),i!==void 0&&(t=Zp(t,1/i,r)),t}function QU(t,e=0,n=1,r=.5,i,o=t,l=t){if(ks.test(e)&&(e=parseFloat(e),e=ln(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ln(o.min,o.max,r);t===o&&(c-=e),t.min=vS(t.min,e,n,c,i),t.max=vS(t.max,e,n,c,i)}function xS(t,e,[n,r,i],o,l){QU(t,e[n],e[r],e[i],e.scale,o,l)}const WU=["x","scaleX","originX"],XU=["y","scaleY","originY"];function AS(t,e,n,r){xS(t.x,e,WU,n?n.x:void 0,r?r.x:void 0),xS(t.y,e,XU,n?n.y:void 0,r?r.y:void 0)}function SS(t){return t.translate===0&&t.scale===1}function YR(t){return SS(t.x)&&SS(t.y)}function CS(t,e){return t.min===e.min&&t.max===e.max}function ZU(t,e){return CS(t.x,e.x)&&CS(t.y,e.y)}function IS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function GR(t,e){return IS(t.x,e.x)&&IS(t.y,e.y)}function NS(t){return xr(t.x)/xr(t.y)}function kS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class JU{constructor(){this.members=[]}add(e){TT(this.members,e),e.scheduleRender()}remove(e){if(_T(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e7(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:E,skewX:w,skewY:x}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),E&&(r+=`rotateY(${E}deg) `),w&&(r+=`skewX(${w}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const e1=["","X","Y","Z"],t7=1e3;let n7=0;function t1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function $R(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tn,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&$R(r)}function KR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=n7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s7),this.nodes.forEach(u7),this.nodes.forEach(c7),this.nodes.forEach(a7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new zU)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new xT),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=uR(l)&&!G8(l),this.instance=l;const{layoutId:c,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),t){let m,g=0;const E=()=>this.root.updateBlockedByResize=!1;tn.read(()=>{g=window.innerWidth}),t(l,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,m&&m(),m=qU(E,250),Dp.hasAnimatedSinceResize&&(Dp.hasAnimatedSinceResize=!1,this.nodes.forEach(OS)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:E,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||p7,{onLayoutAnimationStart:C,onLayoutAnimationComplete:I}=f.getProps(),k=!this.targetLayout||!GR(this.targetLayout,w),Y=!g&&E;if(this.options.layoutRoot||this.resumeFrom||Y||g&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...BT(x,"layout"),onPlay:C,onComplete:I};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(m,Y)}else g||OS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),So(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h7),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$R(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(l7),this.nodes.forEach(r7),this.nodes.forEach(i7)):this.nodes.forEach(DS),this.clearAllSnapshots();const c=Vr.now();sr.delta=ba(0,1e3/60,c-sr.timestamp),sr.timestamp=c,sr.isProcessing=!0,zb.update.process(sr),zb.preRender.process(sr),zb.render.process(sr),sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o7),this.sharedNodes.forEach(d7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xr(this.snapshot.measuredBox.x)&&!xr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!YR(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||El(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),g7(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Tn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(y7))){const{scroll:f}=this.root;f&&(Ku(c.x,f.offset.x),Ku(c.y,f.offset.y))}return c}removeElementScroll(l){const c=Tn();if(wi(c,l),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&wi(c,l),Ku(c.x,m.offset.x),Ku(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const h=Tn();wi(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Qu(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),El(m.latestValues)&&Qu(h,m.latestValues)}return El(this.latestValues)&&Qu(h,this.latestValues),h}removeTransform(l){const c=Tn();wi(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!El(f.latestValues))continue;sE(f.latestValues)&&f.updateSnapshot();const m=Tn(),g=f.measurePageBox();wi(m,g),AS(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return El(this.latestValues)&&AS(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=sr.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Ed(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),SR(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Ed(this.relativeTargetOrigin,this.target,E.target),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sE(this.parent.latestValues)||AR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===sr.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;wi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,E=this.treeScale.y;LB(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Tn());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wS(this.prevProjectionDelta.x,this.projectionDelta.x),wS(this.prevProjectionDelta.y,this.projectionDelta.y)),bd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==E||!kS(this.projectionDelta.x,this.prevProjectionDelta.x)||!kS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wu(),this.projectionDelta=Wu(),this.projectionDeltaWithTransform=Wu()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},g=Wu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const E=Tn(),w=h?h.source:void 0,x=this.layout?this.layout.source:void 0,C=w!==x,I=this.getStack(),k=!I||I.members.length<=1,Y=!!(C&&!k&&this.options.crossfade===!0&&!this.path.some(m7));this.animationProgress=0;let F;this.mixTargetDelta=X=>{const ne=X/1e3;PS(g.x,l.x,ne),PS(g.y,l.y,ne),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ed(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f7(this.relativeTarget,this.relativeTargetOrigin,E,ne),F&&ZU(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Tn()),wi(F,this.relativeTarget)),C&&(this.animationValues=m,GU(m,f,this.latestValues,ne,Y,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(So(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{Dp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=uc(0)),this.currentAnimation=FU(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:m}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&QR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Tn();const g=xr(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const E=xr(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+E}wi(c,h),Qu(c,m),bd(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new JU),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&t1("z",l,f,this.animationValues);for(let m=0;m<e1.length;m++)t1(`rotate${e1[m]}`,l,f,this.animationValues),t1(`skew${e1[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Rp(c?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Rp(c?.pointerEvents)||""),this.hasProjected&&!El(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=e7(this.projectionDeltaWithTransform,this.treeScale,m);h&&(g=h(m,g)),l.transform=g;const{x:E,y:w}=this.projectionDelta;l.transformOrigin=`${E.origin*100}% ${w.origin*100}% 0`,f.animationValues?l.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in Hd){if(m[x]===void 0)continue;const{correct:C,applyTo:I,isCSSVariable:k}=Hd[x],Y=g==="none"?m[x]:C(m[x],f);if(I){const F=I.length;for(let X=0;X<F;X++)l[I[X]]=Y}else k?this.options.visualElement.renderState.vars[x]=Y:l[x]=Y}this.options.layoutId&&(l.pointerEvents=f===this?Rp(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(RS),this.root.sharedNodes.clear()}}}function r7(t){t.updateLayout()}function i7(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?vi(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],E=xr(g);g.min=n[m].min,g.max=g.min+E}):QR(i,e.layoutBox,n)&&vi(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],E=xr(n[m]);g.max=g.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+E)});const l=Wu();bd(l,n,e.layoutBox);const c=Wu();o?bd(c,t.applyTransform(r,!0),e.measuredBox):bd(c,n,e.layoutBox);const h=!YR(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:E}=m;if(g&&E){const w=Tn();Ed(w,e.layoutBox,g.layoutBox);const x=Tn();Ed(x,n,E.layoutBox),GR(w,x)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function s7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function o7(t){t.clearSnapshot()}function RS(t){t.clearMeasurements()}function DS(t){t.isLayoutDirty=!1}function l7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function OS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function u7(t){t.resolveTargetDelta()}function c7(t){t.calcProjection()}function h7(t){t.resetSkewAndRotation()}function d7(t){t.removeLeadSnapshot()}function PS(t,e,n){t.translate=ln(e.translate,0,n),t.scale=ln(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LS(t,e,n,r){t.min=ln(e.min,n.min,r),t.max=ln(e.max,n.max,r)}function f7(t,e,n,r){LS(t.x,e.x,n.x,r),LS(t.y,e.y,n.y,r)}function m7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const p7={duration:.45,ease:[.4,0,.1,1]},MS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BS=MS("applewebkit/")&&!MS("chrome/")?Math.round:Ii;function US(t){t.min=BS(t.min),t.max=BS(t.max)}function g7(t){US(t.x),US(t.y)}function QR(t,e,n){return t==="position"||t==="preserve-aspect"&&!wU(NS(e),NS(n),.2)}function y7(t){return t!==t.root&&t.scroll?.wasRoot}const b7=KR({attachResizeListener:(t,e)=>zd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),n1={current:void 0},WR=KR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!n1.current){const t=new b7({});t.mount(window),t.setOptions({layoutScroll:!0}),n1.current=t}return n1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E7={pan:{Feature:BU},drag:{Feature:MU,ProjectionNode:WR,MeasureLayout:HR}};function jS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&tn.postRender(()=>o(e,cf(e)))}class T7 extends Lo{mount(){const{current:e}=this.node;e&&(this.unmount=F8(e,(n,r)=>(jS(this.node,r,"Start"),i=>jS(this.node,i,"End"))))}unmount(){}}class _7 extends Lo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=of(zd(this.node.current,"focus",()=>this.onFocus()),zd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&tn.postRender(()=>o(e,cf(e)))}class w7 extends Lo{mount(){const{current:e}=this.node;e&&(this.unmount=Y8(e,(n,r)=>(VS(this.node,r,"Start"),(i,{success:o})=>VS(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dE=new WeakMap,r1=new WeakMap,v7=t=>{const e=dE.get(t.target);e&&e(t)},x7=t=>{t.forEach(v7)};function A7({root:t,...e}){const n=t||document;r1.has(n)||r1.set(n,{});const r=r1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(x7,{root:t,...e})),r[i]}function S7(t,e,n){const r=A7(e);return dE.set(t,n),r.observe(t),()=>{dE.delete(t),r.unobserve(t)}}const C7={some:0,all:1};class I7 extends Lo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:C7[i]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),E=f?m:g;E&&E(h)};return S7(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(N7(e,n))&&this.startObserver()}unmount(){}}function N7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const k7={inView:{Feature:I7},tap:{Feature:w7},focus:{Feature:_7},hover:{Feature:T7}},R7={layout:{ProjectionNode:WR,MeasureLayout:HR}},D7={...gU,...k7,...E7,...R7},Wt=DB(D7,YB),O7=()=>{};var FS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},ZR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let E=(c&15)<<2|f>>6,w=f&63;h||(w=64,l||(E=64)),r.push(n[m],n[g],n[E],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||g==null)throw new L7;const E=o<<2|c>>4;if(r.push(E),f!==64){const w=c<<4&240|f>>2;if(r.push(w),g!==64){const x=f<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M7=function(t){const e=XR(t);return ZR.encodeByteArray(e,!0)},Jp=function(t){return M7(t).replace(/\./g,"")},JR=function(t){try{return ZR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=()=>B7().__FIREBASE_DEFAULTS__,j7=()=>{if(typeof process>"u"||typeof FS>"u")return;const t=FS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JR(t[1]);return e&&JSON.parse(e)},Gg=()=>{try{return O7()||U7()||j7()||V7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e3=t=>Gg()?.emulatorHosts?.[t],t3=t=>{const e=e3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},n3=()=>Gg()?.config,r3=t=>Gg()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jp(JSON.stringify(n)),Jp(JSON.stringify(l)),""].join(".")}const Td={};function H7(){const t={prod:[],emulator:[]};for(const e of Object.keys(Td))Td[e]?t.emulator.push(e):t.prod.push(e);return t}function z7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let HS=!1;function ZT(t,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||Td[t]===e||Td[t]||HS)return;Td[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=H7().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function f(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{HS=!0,l()},E}function m(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function g(){const E=z7(r),w=n("text"),x=document.getElementById(w)||document.createElement("span"),C=n("learnmore"),I=document.getElementById(C)||document.createElement("a"),k=n("preprendIcon"),Y=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;c(F),m(I,C);const X=f();h(Y,k),F.append(Y,x,I,X),document.body.appendChild(F)}o?(x.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())}function Y7(){const t=Gg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q7(){const t=gr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function W7(){return!Y7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X7(){try{return typeof indexedDB=="object"}catch{return!1}}function Z7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="FirebaseError";class js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J7,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hf.prototype.create)}}class hf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?ej(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new js(i,c,r)}}function ej(t,e){return t.replace(tj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tj=/\{\$([^}]+)}/g;function nj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ta(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(zS(o)&&zS(l)){if(!Ta(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ld(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ud(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rj(t,e){const n=new ij(t,e);return n.subscribe.bind(n)}class ij{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=i1),i.error===void 0&&(i.error=i1),i.complete===void 0&&(i.complete=i1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function i1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class Io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lj(e))try{this.getOrInitializeService({instanceIdentifier:Tl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Tl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tl){return this.instances.has(e)}getOptions(e=Tl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tl){return this.component?this.component.multipleInstances?e:Tl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oj(t){return t===Tl?void 0:t}function lj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const cj={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},hj=pt.INFO,dj={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},fj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class JT{constructor(e){this.name=e,this._logLevel=hj,this._logHandler=fj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const mj=(t,e)=>e.some(n=>t instanceof n);let qS,YS;function pj(){return qS||(qS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gj(){return YS||(YS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s3=new WeakMap,fE=new WeakMap,a3=new WeakMap,s1=new WeakMap,e_=new WeakMap;function yj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(wo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&s3.set(n,t)}).catch(()=>{}),e_.set(e,t),e}function bj(t){if(fE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});fE.set(t,e)}let mE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ej(t){mE=t(mE)}function Tj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(a1(this),e,...n);return a3.set(r,e.sort?e.sort():[e]),wo(r)}:gj().includes(t)?function(...e){return t.apply(a1(this),e),wo(s3.get(this))}:function(...e){return wo(t.apply(a1(this),e))}}function _j(t){return typeof t=="function"?Tj(t):(t instanceof IDBTransaction&&bj(t),mj(t,pj())?new Proxy(t,mE):t)}function wo(t){if(t instanceof IDBRequest)return yj(t);if(s1.has(t))return s1.get(t);const e=_j(t);return e!==t&&(s1.set(t,e),e_.set(e,t)),e}const a1=t=>e_.get(t);function wj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=wo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(wo(l.result),h.oldVersion,h.newVersion,wo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const vj=["get","getKey","getAll","getAllKeys","count"],xj=["put","add","delete","clear"],o1=new Map;function GS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o1.get(e))return o1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vj.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return o1.set(e,o),o}Ej(t=>({...t,get:(e,n,r)=>GS(e,n)||t.get(e,n,r),has:(e,n)=>!!GS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sj(t){return t.getComponent()?.type==="VERSION"}const pE="@firebase/app",$S="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new JT("@firebase/app"),Cj="@firebase/app-compat",Ij="@firebase/analytics-compat",Nj="@firebase/analytics",kj="@firebase/app-check-compat",Rj="@firebase/app-check",Dj="@firebase/auth",Oj="@firebase/auth-compat",Pj="@firebase/database",Lj="@firebase/data-connect",Mj="@firebase/database-compat",Bj="@firebase/functions",Uj="@firebase/functions-compat",jj="@firebase/installations",Vj="@firebase/installations-compat",Fj="@firebase/messaging",Hj="@firebase/messaging-compat",zj="@firebase/performance",qj="@firebase/performance-compat",Yj="@firebase/remote-config",Gj="@firebase/remote-config-compat",$j="@firebase/storage",Kj="@firebase/storage-compat",Qj="@firebase/firestore",Wj="@firebase/ai",Xj="@firebase/firestore-compat",Zj="firebase",Jj="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="[DEFAULT]",eV={[pE]:"fire-core",[Cj]:"fire-core-compat",[Nj]:"fire-analytics",[Ij]:"fire-analytics-compat",[Rj]:"fire-app-check",[kj]:"fire-app-check-compat",[Dj]:"fire-auth",[Oj]:"fire-auth-compat",[Pj]:"fire-rtdb",[Lj]:"fire-data-connect",[Mj]:"fire-rtdb-compat",[Bj]:"fire-fn",[Uj]:"fire-fn-compat",[jj]:"fire-iid",[Vj]:"fire-iid-compat",[Fj]:"fire-fcm",[Hj]:"fire-fcm-compat",[zj]:"fire-perf",[qj]:"fire-perf-compat",[Yj]:"fire-rc",[Gj]:"fire-rc-compat",[$j]:"fire-gcs",[Kj]:"fire-gcs-compat",[Qj]:"fire-fst",[Xj]:"fire-fst-compat",[Wj]:"fire-vertex","fire-js":"fire-js",[Zj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Map,tV=new Map,yE=new Map;function KS(t,e){try{t.container.addComponent(e)}catch(n){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ll(t){const e=t.name;if(yE.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;yE.set(e,t);for(const n of eg.values())KS(n,t);for(const n of tV.values())KS(n,t);return!0}function $g(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new hf("app","Firebase",nV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=Jj;function o3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(n||(n=n3()),!n)throw vo.create("no-options");const o=eg.get(i);if(o){if(Ta(n,o.options)&&Ta(r,o.config))return o;throw vo.create("duplicate-app",{appName:i})}const l=new uj(i);for(const h of yE.values())l.addComponent(h);const c=new rV(n,r,l);return eg.set(i,c),c}function t_(t=gE){const e=eg.get(t);if(!e&&t===gE&&n3())return o3();if(!e)throw vo.create("no-app",{appName:t});return e}function Rs(t,e,n){let r=eV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(l.join(" "));return}Ll(new Io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="firebase-heartbeat-database",sV=1,qd="firebase-heartbeat-store";let l1=null;function l3(){return l1||(l1=wj(iV,sV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qd)}catch(n){console.warn(n)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),l1}async function aV(t){try{const n=(await l3()).transaction(qd),r=await n.objectStore(qd).get(u3(t));return await n.done,r}catch(e){if(e instanceof js)_a.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e?.message});_a.warn(n.message)}}}async function QS(t,e){try{const r=(await l3()).transaction(qd,"readwrite");await r.objectStore(qd).put(e,u3(t)),await r.done}catch(n){if(n instanceof js)_a.warn(n.message);else{const r=vo.create("idb-set",{originalErrorMessage:n?.message});_a.warn(r.message)}}}function u3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=1024,lV=30;class uV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=WS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>lV){const i=dV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_a.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=WS(),{heartbeatsToSend:n,unsentEntries:r}=cV(this._heartbeatsCache.heartbeats),i=Jp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return _a.warn(e),""}}}function WS(){return new Date().toISOString().substring(0,10)}function cV(t,e=oV){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),XS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X7()?Z7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function XS(t){return Jp(JSON.stringify({version:2,heartbeats:t})).length}function dV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){Ll(new Io("platform-logger",e=>new Aj(e),"PRIVATE")),Ll(new Io("heartbeat",e=>new uV(e),"PRIVATE")),Rs(pE,$S,t),Rs(pE,$S,"esm2020"),Rs("fire-js","")}fV("");var mV="firebase",pV="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(mV,pV,"app");var ZS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,c3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,O){function V(){}V.prototype=O.prototype,B.F=O.prototype,B.prototype=new V,B.prototype.constructor=B,B.D=function(P,R,U){for(var H=Array(arguments.length-2),he=2;he<arguments.length;he++)H[he-2]=arguments[he];return O.prototype[R].apply(P,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(B,O,V){V||(V=0);const P=Array(16);if(typeof O=="string")for(var R=0;R<16;++R)P[R]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(R=0;R<16;++R)P[R]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=B.g[0],V=B.g[1],R=B.g[2];let U=B.g[3],H;H=O+(U^V&(R^U))+P[0]+3614090360&4294967295,O=V+(H<<7&4294967295|H>>>25),H=U+(R^O&(V^R))+P[1]+3905402710&4294967295,U=O+(H<<12&4294967295|H>>>20),H=R+(V^U&(O^V))+P[2]+606105819&4294967295,R=U+(H<<17&4294967295|H>>>15),H=V+(O^R&(U^O))+P[3]+3250441966&4294967295,V=R+(H<<22&4294967295|H>>>10),H=O+(U^V&(R^U))+P[4]+4118548399&4294967295,O=V+(H<<7&4294967295|H>>>25),H=U+(R^O&(V^R))+P[5]+1200080426&4294967295,U=O+(H<<12&4294967295|H>>>20),H=R+(V^U&(O^V))+P[6]+2821735955&4294967295,R=U+(H<<17&4294967295|H>>>15),H=V+(O^R&(U^O))+P[7]+4249261313&4294967295,V=R+(H<<22&4294967295|H>>>10),H=O+(U^V&(R^U))+P[8]+1770035416&4294967295,O=V+(H<<7&4294967295|H>>>25),H=U+(R^O&(V^R))+P[9]+2336552879&4294967295,U=O+(H<<12&4294967295|H>>>20),H=R+(V^U&(O^V))+P[10]+4294925233&4294967295,R=U+(H<<17&4294967295|H>>>15),H=V+(O^R&(U^O))+P[11]+2304563134&4294967295,V=R+(H<<22&4294967295|H>>>10),H=O+(U^V&(R^U))+P[12]+1804603682&4294967295,O=V+(H<<7&4294967295|H>>>25),H=U+(R^O&(V^R))+P[13]+4254626195&4294967295,U=O+(H<<12&4294967295|H>>>20),H=R+(V^U&(O^V))+P[14]+2792965006&4294967295,R=U+(H<<17&4294967295|H>>>15),H=V+(O^R&(U^O))+P[15]+1236535329&4294967295,V=R+(H<<22&4294967295|H>>>10),H=O+(R^U&(V^R))+P[1]+4129170786&4294967295,O=V+(H<<5&4294967295|H>>>27),H=U+(V^R&(O^V))+P[6]+3225465664&4294967295,U=O+(H<<9&4294967295|H>>>23),H=R+(O^V&(U^O))+P[11]+643717713&4294967295,R=U+(H<<14&4294967295|H>>>18),H=V+(U^O&(R^U))+P[0]+3921069994&4294967295,V=R+(H<<20&4294967295|H>>>12),H=O+(R^U&(V^R))+P[5]+3593408605&4294967295,O=V+(H<<5&4294967295|H>>>27),H=U+(V^R&(O^V))+P[10]+38016083&4294967295,U=O+(H<<9&4294967295|H>>>23),H=R+(O^V&(U^O))+P[15]+3634488961&4294967295,R=U+(H<<14&4294967295|H>>>18),H=V+(U^O&(R^U))+P[4]+3889429448&4294967295,V=R+(H<<20&4294967295|H>>>12),H=O+(R^U&(V^R))+P[9]+568446438&4294967295,O=V+(H<<5&4294967295|H>>>27),H=U+(V^R&(O^V))+P[14]+3275163606&4294967295,U=O+(H<<9&4294967295|H>>>23),H=R+(O^V&(U^O))+P[3]+4107603335&4294967295,R=U+(H<<14&4294967295|H>>>18),H=V+(U^O&(R^U))+P[8]+1163531501&4294967295,V=R+(H<<20&4294967295|H>>>12),H=O+(R^U&(V^R))+P[13]+2850285829&4294967295,O=V+(H<<5&4294967295|H>>>27),H=U+(V^R&(O^V))+P[2]+4243563512&4294967295,U=O+(H<<9&4294967295|H>>>23),H=R+(O^V&(U^O))+P[7]+1735328473&4294967295,R=U+(H<<14&4294967295|H>>>18),H=V+(U^O&(R^U))+P[12]+2368359562&4294967295,V=R+(H<<20&4294967295|H>>>12),H=O+(V^R^U)+P[5]+4294588738&4294967295,O=V+(H<<4&4294967295|H>>>28),H=U+(O^V^R)+P[8]+2272392833&4294967295,U=O+(H<<11&4294967295|H>>>21),H=R+(U^O^V)+P[11]+1839030562&4294967295,R=U+(H<<16&4294967295|H>>>16),H=V+(R^U^O)+P[14]+4259657740&4294967295,V=R+(H<<23&4294967295|H>>>9),H=O+(V^R^U)+P[1]+2763975236&4294967295,O=V+(H<<4&4294967295|H>>>28),H=U+(O^V^R)+P[4]+1272893353&4294967295,U=O+(H<<11&4294967295|H>>>21),H=R+(U^O^V)+P[7]+4139469664&4294967295,R=U+(H<<16&4294967295|H>>>16),H=V+(R^U^O)+P[10]+3200236656&4294967295,V=R+(H<<23&4294967295|H>>>9),H=O+(V^R^U)+P[13]+681279174&4294967295,O=V+(H<<4&4294967295|H>>>28),H=U+(O^V^R)+P[0]+3936430074&4294967295,U=O+(H<<11&4294967295|H>>>21),H=R+(U^O^V)+P[3]+3572445317&4294967295,R=U+(H<<16&4294967295|H>>>16),H=V+(R^U^O)+P[6]+76029189&4294967295,V=R+(H<<23&4294967295|H>>>9),H=O+(V^R^U)+P[9]+3654602809&4294967295,O=V+(H<<4&4294967295|H>>>28),H=U+(O^V^R)+P[12]+3873151461&4294967295,U=O+(H<<11&4294967295|H>>>21),H=R+(U^O^V)+P[15]+530742520&4294967295,R=U+(H<<16&4294967295|H>>>16),H=V+(R^U^O)+P[2]+3299628645&4294967295,V=R+(H<<23&4294967295|H>>>9),H=O+(R^(V|~U))+P[0]+4096336452&4294967295,O=V+(H<<6&4294967295|H>>>26),H=U+(V^(O|~R))+P[7]+1126891415&4294967295,U=O+(H<<10&4294967295|H>>>22),H=R+(O^(U|~V))+P[14]+2878612391&4294967295,R=U+(H<<15&4294967295|H>>>17),H=V+(U^(R|~O))+P[5]+4237533241&4294967295,V=R+(H<<21&4294967295|H>>>11),H=O+(R^(V|~U))+P[12]+1700485571&4294967295,O=V+(H<<6&4294967295|H>>>26),H=U+(V^(O|~R))+P[3]+2399980690&4294967295,U=O+(H<<10&4294967295|H>>>22),H=R+(O^(U|~V))+P[10]+4293915773&4294967295,R=U+(H<<15&4294967295|H>>>17),H=V+(U^(R|~O))+P[1]+2240044497&4294967295,V=R+(H<<21&4294967295|H>>>11),H=O+(R^(V|~U))+P[8]+1873313359&4294967295,O=V+(H<<6&4294967295|H>>>26),H=U+(V^(O|~R))+P[15]+4264355552&4294967295,U=O+(H<<10&4294967295|H>>>22),H=R+(O^(U|~V))+P[6]+2734768916&4294967295,R=U+(H<<15&4294967295|H>>>17),H=V+(U^(R|~O))+P[13]+1309151649&4294967295,V=R+(H<<21&4294967295|H>>>11),H=O+(R^(V|~U))+P[4]+4149444226&4294967295,O=V+(H<<6&4294967295|H>>>26),H=U+(V^(O|~R))+P[11]+3174756917&4294967295,U=O+(H<<10&4294967295|H>>>22),H=R+(O^(U|~V))+P[2]+718787259&4294967295,R=U+(H<<15&4294967295|H>>>17),H=V+(U^(R|~O))+P[9]+3951481745&4294967295,B.g[0]=B.g[0]+O&4294967295,B.g[1]=B.g[1]+(R+(H<<21&4294967295|H>>>11))&4294967295,B.g[2]=B.g[2]+R&4294967295,B.g[3]=B.g[3]+U&4294967295}r.prototype.v=function(B,O){O===void 0&&(O=B.length);const V=O-this.blockSize,P=this.C;let R=this.h,U=0;for(;U<O;){if(R==0)for(;U<=V;)i(this,B,U),U+=this.blockSize;if(typeof B=="string"){for(;U<O;)if(P[R++]=B.charCodeAt(U++),R==this.blockSize){i(this,P),R=0;break}}else for(;U<O;)if(P[R++]=B[U++],R==this.blockSize){i(this,P),R=0;break}}this.h=R,this.o+=O},r.prototype.A=function(){var B=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);B[0]=128;for(var O=1;O<B.length-8;++O)B[O]=0;O=this.o*8;for(var V=B.length-8;V<B.length;++V)B[V]=O&255,O/=256;for(this.v(B),B=Array(16),O=0,V=0;V<4;++V)for(let P=0;P<32;P+=8)B[O++]=this.g[V]>>>P&255;return B};function o(B,O){var V=c;return Object.prototype.hasOwnProperty.call(V,B)?V[B]:V[B]=O(B)}function l(B,O){this.h=O;const V=[];let P=!0;for(let R=B.length-1;R>=0;R--){const U=B[R]|0;P&&U==O||(V[R]=U,P=!1)}this.g=V}var c={};function h(B){return-128<=B&&B<128?o(B,function(O){return new l([O|0],O<0?-1:0)}):new l([B|0],B<0?-1:0)}function f(B){if(isNaN(B)||!isFinite(B))return g;if(B<0)return I(f(-B));const O=[];let V=1;for(let P=0;B>=V;P++)O[P]=B/V|0,V*=4294967296;return new l(O,0)}function m(B,O){if(B.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(B.charAt(0)=="-")return I(m(B.substring(1),O));if(B.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(O,8));let P=g;for(let U=0;U<B.length;U+=8){var R=Math.min(8,B.length-U);const H=parseInt(B.substring(U,U+R),O);R<8?(R=f(Math.pow(O,R)),P=P.j(R).add(f(H))):(P=P.j(V),P=P.add(f(H)))}return P}var g=h(0),E=h(1),w=h(16777216);t=l.prototype,t.m=function(){if(C(this))return-I(this).m();let B=0,O=1;for(let V=0;V<this.g.length;V++){const P=this.i(V);B+=(P>=0?P:4294967296+P)*O,O*=4294967296}return B},t.toString=function(B){if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(x(this))return"0";if(C(this))return"-"+I(this).toString(B);const O=f(Math.pow(B,6));var V=this;let P="";for(;;){const R=X(V,O).g;V=k(V,R.j(O));let U=((V.g.length>0?V.g[0]:V.h)>>>0).toString(B);if(V=R,x(V))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},t.i=function(B){return B<0?0:B<this.g.length?this.g[B]:this.h};function x(B){if(B.h!=0)return!1;for(let O=0;O<B.g.length;O++)if(B.g[O]!=0)return!1;return!0}function C(B){return B.h==-1}t.l=function(B){return B=k(this,B),C(B)?-1:x(B)?0:1};function I(B){const O=B.g.length,V=[];for(let P=0;P<O;P++)V[P]=~B.g[P];return new l(V,~B.h).add(E)}t.abs=function(){return C(this)?I(this):this},t.add=function(B){const O=Math.max(this.g.length,B.g.length),V=[];let P=0;for(let R=0;R<=O;R++){let U=P+(this.i(R)&65535)+(B.i(R)&65535),H=(U>>>16)+(this.i(R)>>>16)+(B.i(R)>>>16);P=H>>>16,U&=65535,H&=65535,V[R]=H<<16|U}return new l(V,V[V.length-1]&-2147483648?-1:0)};function k(B,O){return B.add(I(O))}t.j=function(B){if(x(this)||x(B))return g;if(C(this))return C(B)?I(this).j(I(B)):I(I(this).j(B));if(C(B))return I(this.j(I(B)));if(this.l(w)<0&&B.l(w)<0)return f(this.m()*B.m());const O=this.g.length+B.g.length,V=[];for(var P=0;P<2*O;P++)V[P]=0;for(P=0;P<this.g.length;P++)for(let R=0;R<B.g.length;R++){const U=this.i(P)>>>16,H=this.i(P)&65535,he=B.i(R)>>>16,J=B.i(R)&65535;V[2*P+2*R]+=H*J,Y(V,2*P+2*R),V[2*P+2*R+1]+=U*J,Y(V,2*P+2*R+1),V[2*P+2*R+1]+=H*he,Y(V,2*P+2*R+1),V[2*P+2*R+2]+=U*he,Y(V,2*P+2*R+2)}for(B=0;B<O;B++)V[B]=V[2*B+1]<<16|V[2*B];for(B=O;B<2*O;B++)V[B]=0;return new l(V,0)};function Y(B,O){for(;(B[O]&65535)!=B[O];)B[O+1]+=B[O]>>>16,B[O]&=65535,O++}function F(B,O){this.g=B,this.h=O}function X(B,O){if(x(O))throw Error("division by zero");if(x(B))return new F(g,g);if(C(B))return O=X(I(B),O),new F(I(O.g),I(O.h));if(C(O))return O=X(B,I(O)),new F(I(O.g),O.h);if(B.g.length>30){if(C(B)||C(O))throw Error("slowDivide_ only works with positive integers.");for(var V=E,P=O;P.l(B)<=0;)V=ne(V),P=ne(P);var R=K(V,1),U=K(P,1);for(P=K(P,2),V=K(V,2);!x(P);){var H=U.add(P);H.l(B)<=0&&(R=R.add(V),U=H),P=K(P,1),V=K(V,1)}return O=k(B,R.j(O)),new F(R,O)}for(R=g;B.l(O)>=0;){for(V=Math.max(1,Math.floor(B.m()/O.m())),P=Math.ceil(Math.log(V)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=f(V),H=U.j(O);C(H)||H.l(B)>0;)V-=P,U=f(V),H=U.j(O);x(U)&&(U=E),R=R.add(U),B=k(B,H)}return new F(R,B)}t.B=function(B){return X(this,B).h},t.and=function(B){const O=Math.max(this.g.length,B.g.length),V=[];for(let P=0;P<O;P++)V[P]=this.i(P)&B.i(P);return new l(V,this.h&B.h)},t.or=function(B){const O=Math.max(this.g.length,B.g.length),V=[];for(let P=0;P<O;P++)V[P]=this.i(P)|B.i(P);return new l(V,this.h|B.h)},t.xor=function(B){const O=Math.max(this.g.length,B.g.length),V=[];for(let P=0;P<O;P++)V[P]=this.i(P)^B.i(P);return new l(V,this.h^B.h)};function ne(B){const O=B.g.length+1,V=[];for(let P=0;P<O;P++)V[P]=B.i(P)<<1|B.i(P-1)>>>31;return new l(V,B.h)}function K(B,O){const V=O>>5;O%=32;const P=B.g.length-V,R=[];for(let U=0;U<P;U++)R[U]=O>0?B.i(U+V)>>>O|B.i(U+V+1)<<32-O:B.i(U+V);return new l(R,B.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,c3=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,xo=l}).apply(typeof ZS<"u"?ZS:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h3,cd,d3,Op,bE,f3,m3,p3;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var v=0;v<p.length;++v){var S=p[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(p,v){if(v)e:{var S=r;p=p.split(".");for(var j=0;j<p.length-1;j++){var re=p[j];if(!(re in S))break e;S=S[re]}p=p[p.length-1],j=S[p],v=v(j),v!=j&&v!=null&&e(S,p,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(v){var S=[],j;for(j in v)Object.prototype.hasOwnProperty.call(v,j)&&S.push([j,v[j]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(p){var v=typeof p;return v=="object"&&p!=null||v=="function"}function h(p,v,S){return p.call.apply(p.bind,arguments)}function f(p,v,S){return f=h,f.apply(null,arguments)}function m(p,v){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),p.apply(this,j)}}function g(p,v){function S(){}S.prototype=v.prototype,p.Z=v.prototype,p.prototype=new S,p.prototype.constructor=p,p.Ob=function(j,re,le){for(var Re=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)Re[nt-2]=arguments[nt];return v.prototype[re].apply(j,Re)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const v=p.length;if(v>0){const S=Array(v);for(let j=0;j<v;j++)S[j]=p[j];return S}return[]}function x(p,v){for(let j=1;j<arguments.length;j++){const re=arguments[j];var S=typeof re;if(S=S!="object"?S:re?Array.isArray(re)?"array":S:"null",S=="array"||S=="object"&&typeof re.length=="number"){S=p.length||0;const le=re.length||0;p.length=S+le;for(let Re=0;Re<le;Re++)p[S+Re]=re[Re]}else p.push(re)}}class C{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(p){l.setTimeout(()=>{throw p},0)}function k(){var p=B;let v=null;return p.g&&(v=p.g,p.g=p.g.next,p.g||(p.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,S){const j=F.get();j.set(v,S),this.h?this.h.next=j:this.g=j,this.h=j}}var F=new C(()=>new X,p=>p.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,K=!1,B=new Y,O=()=>{const p=Promise.resolve(void 0);ne=()=>{p.then(V)}};function V(){for(var p;p=k();){try{p.h.call(p.g)}catch(S){I(S)}var v=F;v.j(p),v.h<100&&(v.h++,p.next=v.g,v.g=p)}K=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(p,v){this.type=p,this.g=this.target=v,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,v=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};l.addEventListener("test",S,v),l.removeEventListener("test",S,v)}catch{}return p})();function H(p){return/^[\s\xa0]*$/.test(p)}function he(p,v){R.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,v)}g(he,R),he.prototype.init=function(p,v){const S=this.type=p.type,j=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=v,v=p.relatedTarget,v||(S=="mouseover"?v=p.fromElement:S=="mouseout"&&(v=p.toElement)),this.relatedTarget=v,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ce(p,v,S,j,re){this.listener=p,this.proxy=null,this.src=v,this.type=S,this.capture=!!j,this.ha=re,this.key=++Z,this.da=this.fa=!1}function Ie(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Be(p,v,S){for(const j in p)v.call(S,p[j],j,p)}function D(p,v){for(const S in p)v.call(void 0,p[S],S,p)}function N(p){const v={};for(const S in p)v[S]=p[S];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,v){let S,j;for(let re=1;re<arguments.length;re++){j=arguments[re];for(S in j)p[S]=j[S];for(let le=0;le<ee.length;le++)S=ee[le],Object.prototype.hasOwnProperty.call(j,S)&&(p[S]=j[S])}}function fe(p){this.src=p,this.g={},this.h=0}fe.prototype.add=function(p,v,S,j,re){const le=p.toString();p=this.g[le],p||(p=this.g[le]=[],this.h++);const Re=_e(p,v,j,re);return Re>-1?(v=p[Re],S||(v.fa=!1)):(v=new ce(v,this.src,le,!!j,re),v.fa=S,p.push(v)),v};function ve(p,v){const S=v.type;if(S in p.g){var j=p.g[S],re=Array.prototype.indexOf.call(j,v,void 0),le;(le=re>=0)&&Array.prototype.splice.call(j,re,1),le&&(Ie(v),p.g[S].length==0&&(delete p.g[S],p.h--))}}function _e(p,v,S,j){for(let re=0;re<p.length;++re){const le=p[re];if(!le.da&&le.listener==v&&le.capture==!!S&&le.ha==j)return re}return-1}var we="closure_lm_"+(Math.random()*1e6|0),ke={};function Pe(p,v,S,j,re){if(Array.isArray(v)){for(let le=0;le<v.length;le++)Pe(p,v[le],S,j,re);return null}return S=Zn(S),p&&p[J]?p.J(v,S,c(j)?!!j.capture:!1,re):Qe(p,v,S,!1,j,re)}function Qe(p,v,S,j,re,le){if(!v)throw Error("Invalid event type");const Re=c(re)?!!re.capture:!!re;let nt=Nt(p);if(nt||(p[we]=nt=new fe(p)),S=nt.add(v,S,j,Re,le),S.proxy)return S;if(j=We(),S.proxy=j,j.src=p,j.listener=S,p.addEventListener)U||(re=Re),re===void 0&&(re=!1),p.addEventListener(v.toString(),j,re);else if(p.attachEvent)p.attachEvent(De(v.toString()),j);else if(p.addListener&&p.removeListener)p.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function We(){function p(S){return v.call(p.src,p.listener,S)}const v=lt;return p}function st(p,v,S,j,re){if(Array.isArray(v))for(var le=0;le<v.length;le++)st(p,v[le],S,j,re);else j=c(j)?!!j.capture:!!j,S=Zn(S),p&&p[J]?(p=p.i,le=String(v).toString(),le in p.g&&(v=p.g[le],S=_e(v,S,j,re),S>-1&&(Ie(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete p.g[le],p.h--)))):p&&(p=Nt(p))&&(v=p.g[v.toString()],p=-1,v&&(p=_e(v,S,j,re)),(S=p>-1?v[p]:null)&&Ye(S))}function Ye(p){if(typeof p!="number"&&p&&!p.da){var v=p.src;if(v&&v[J])ve(v.i,p);else{var S=p.type,j=p.proxy;v.removeEventListener?v.removeEventListener(S,j,p.capture):v.detachEvent?v.detachEvent(De(S),j):v.addListener&&v.removeListener&&v.removeListener(j),(S=Nt(v))?(ve(S,p),S.h==0&&(S.src=null,v[we]=null)):Ie(p)}}}function De(p){return p in ke?ke[p]:ke[p]="on"+p}function lt(p,v){if(p.da)p=!0;else{v=new he(v,this);const S=p.listener,j=p.ha||p.src;p.fa&&Ye(p),p=S.call(j,v)}return p}function Nt(p){return p=p[we],p instanceof fe?p:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zn(p){return typeof p=="function"?p:(p[sn]||(p[sn]=function(v){return p.handleEvent(v)}),p[sn])}function kt(){P.call(this),this.i=new fe(this),this.M=this,this.G=null}g(kt,P),kt.prototype[J]=!0,kt.prototype.removeEventListener=function(p,v,S,j){st(this,p,v,S,j)};function xt(p,v){var S,j=p.G;if(j)for(S=[];j;j=j.G)S.push(j);if(p=p.M,j=v.type||v,typeof v=="string")v=new R(v,p);else if(v instanceof R)v.target=v.target||p;else{var re=v;v=new R(j,p),M(v,re)}re=!0;let le,Re;if(S)for(Re=S.length-1;Re>=0;Re--)le=v.g=S[Re],re=ui(le,j,!0,v)&&re;if(le=v.g=p,re=ui(le,j,!0,v)&&re,re=ui(le,j,!1,v)&&re,S)for(Re=0;Re<S.length;Re++)le=v.g=S[Re],re=ui(le,j,!1,v)&&re}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var p=this.i;for(const v in p.g){const S=p.g[v];for(let j=0;j<S.length;j++)Ie(S[j]);delete p.g[v],p.h--}}this.G=null},kt.prototype.J=function(p,v,S,j){return this.i.add(String(p),v,!1,S,j)},kt.prototype.K=function(p,v,S,j){return this.i.add(String(p),v,!0,S,j)};function ui(p,v,S,j){if(v=p.i.g[String(v)],!v)return!0;v=v.concat();let re=!0;for(let le=0;le<v.length;++le){const Re=v[le];if(Re&&!Re.da&&Re.capture==S){const nt=Re.listener,yn=Re.ha||Re.src;Re.fa&&ve(p.i,Re),re=nt.call(yn,j)!==!1&&re}}return re&&!j.defaultPrevented}function Fo(p,v){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(p,v||0)}function ka(p){p.g=Fo(()=>{p.g=null,p.i&&(p.i=!1,ka(p))},p.l);const v=p.h;p.h=null,p.m.apply(null,v)}class Sn extends P{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ka(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(p){P.call(this),this.h=p,this.g={}}g(Pi,P);var pe=[];function Ne(p){Be(p.g,function(v,S){this.g.hasOwnProperty(S)&&Ye(v)},p),p.g={}}Pi.prototype.N=function(){Pi.Z.N.call(this),Ne(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fe=l.JSON.stringify,tt=l.JSON.parse,bt=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function Cn(){}function Cr(){}var an={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){R.call(this,"d")}g(on,R);function qn(){R.call(this,"c")}g(qn,R);var Et={},Li=null;function ur(){return Li=Li||new kt}Et.Ia="serverreachability";function Bf(p){R.call(this,Et.Ia,p)}g(Bf,R);function rs(p){const v=ur();xt(v,new Bf(v))}Et.STAT_EVENT="statevent";function Ho(p,v){R.call(this,Et.STAT_EVENT,p),this.stat=v}g(Ho,R);function In(p){const v=ur();xt(v,new Ho(v,p))}Et.Ja="timingevent";function is(p,v){R.call(this,Et.Ja,p),this.size=v}g(is,R);function ss(p,v){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},v)}function Mi(){this.g=!0}Mi.prototype.ua=function(){this.g=!1};function j0(p,v,S,j,re,le){p.info(function(){if(p.g)if(le){var Re="",nt=le.split("&");for(let Rt=0;Rt<nt.length;Rt++){var yn=nt[Rt].split("=");if(yn.length>1){const Zt=yn[0];yn=yn[1];const fi=Zt.split("_");Re=fi.length>=2&&fi[1]=="type"?Re+(Zt+"="+yn+"&"):Re+(Zt+"=redacted&")}}}else Re=null;else Re=le;return"XMLHTTP REQ ("+j+") [attempt "+re+"]: "+v+`
`+S+`
`+Re})}function Uf(p,v,S,j,re,le,Re){p.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+re+"]: "+v+`
`+S+`
`+le+" "+Re})}function as(p,v,S,j){p.info(function(){return"XMLHTTP TEXT ("+v+"): "+V0(p,S)+(j?" "+j:"")})}function zo(p,v){p.info(function(){return"TIMEOUT: "+v})}Mi.prototype.info=function(){};function V0(p,v){if(!p.g)return v;if(!v)return null;try{const le=JSON.parse(v);if(le){for(p=0;p<le.length;p++)if(Array.isArray(le[p])){var S=le[p];if(!(S.length<2)){var j=S[1];if(Array.isArray(j)&&!(j.length<1)){var re=j[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Re=1;Re<j.length;Re++)j[Re]=""}}}}return Fe(le)}catch{return v}}var qo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zc;function Yo(){}g(Yo,Cn),Yo.prototype.g=function(){return new XMLHttpRequest},Zc=new Yo;function zs(p){return encodeURIComponent(String(p))}function jf(p){var v=1;p=p.split(":");const S=[];for(;v>0&&p.length;)S.push(p.shift()),v--;return p.length&&S.push(p.join(":")),S}function Bi(p,v,S,j){this.j=p,this.i=v,this.l=S,this.S=j||1,this.V=new Pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ui}function Ui(){this.i=null,this.g="",this.h=!1}var Nn={},Yn={};function os(p,v,S){p.M=1,p.A=Go(Rn(v)),p.u=S,p.R=!0,Jl(p,null)}function Jl(p,v){p.F=Date.now(),ls(p),p.B=Rn(p.A);var S=p.B,j=p.S;Array.isArray(j)||(j=[String(j)]),ru(S.i,"t",j),p.C=0,S=p.j.L,p.h=new Ui,p.g=em(p.j,S?v:null,!p.u),p.P>0&&(p.O=new Sn(f(p.Y,p,p.g),p.P)),v=p.V,S=p.g,j=p.ba;var re="readystatechange";Array.isArray(re)||(re&&(pe[0]=re.toString()),re=pe);for(let le=0;le<re.length;le++){const Re=Pe(S,re[le],j||v.handleEvent,!1,v.h||v);if(!Re)break;v.g[Re.key]=Re}v=p.J?N(p.J):{},p.u?(p.v||(p.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,v)):(p.v="GET",p.g.ea(p.B,p.v,null,v)),rs(),j0(p.i,p.v,p.B,p.l,p.S,p.u)}Bi.prototype.ba=function(p){p=p.target;const v=this.O;v&&Fi(p)==3?v.j():this.Y(p)},Bi.prototype.Y=function(p){try{if(p==this.g)e:{const nt=Fi(this.g),yn=this.g.ya(),Rt=this.g.ca();if(!(nt<3)&&(nt!=3||this.g&&(this.h.h||this.g.la()||Jn(this.g)))){this.K||nt!=4||yn==7||(yn==8||Rt<=0?rs(3):rs(2)),us(this);var v=this.g.ca();this.X=v;var S=F0(this);if(this.o=v==200,Uf(this.i,this.v,this.B,this.l,this.S,nt,v),this.o){if(this.U&&!this.L){t:{if(this.g){var j,re=this.g;if((j=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(j)){var le=j;break t}}le=null}if(p=le)as(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cs(this,p);else{this.o=!1,this.m=3,In(12),Yr(this),ci(this);break e}}if(this.R){p=!0;let Zt;for(;!this.K&&this.C<S.length;)if(Zt=Ff(this,S),Zt==Yn){nt==4&&(this.m=4,In(14),p=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Nn){this.m=4,In(15),as(this.i,this.l,S,"[Invalid Chunk]"),p=!1;break}else as(this.i,this.l,Zt,null),cs(this,Zt);if(Vf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||S.length!=0||this.h.h||(this.m=1,In(16),p=!1),this.o=this.o&&p,!p)as(this.i,this.l,S,"[Invalid Chunked Response]"),Yr(this),ci(this);else if(S.length>0&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.aa&&!Re.P&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),fh(Re),Re.P=!0,In(11))}}else as(this.i,this.l,S,null),cs(this,S);nt==4&&Yr(this),this.o&&!this.K&&(nt==4?Wf(this.j,this):(this.o=!1,ls(this)))}else Ys(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,In(12)):(this.m=0,In(13)),Yr(this),ci(this)}}}catch{}finally{}};function F0(p){if(!Vf(p))return p.g.la();const v=Jn(p.g);if(v==="")return"";let S="";const j=v.length,re=Fi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Yr(p),ci(p),"";p.h.i=new l.TextDecoder}for(let le=0;le<j;le++)p.h.h=!0,S+=p.h.i.decode(v[le],{stream:!(re&&le==j-1)});return v.length=0,p.h.g+=S,p.C=0,p.h.g}function Vf(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Ff(p,v){var S=p.C,j=v.indexOf(`
`,S);return j==-1?Yn:(S=Number(v.substring(S,j)),isNaN(S)?Nn:(j+=1,j+S>v.length?Yn:(v=v.slice(j,j+S),p.C=j+S,v)))}Bi.prototype.cancel=function(){this.K=!0,Yr(this)};function ls(p){p.T=Date.now()+p.H,eu(p,p.H)}function eu(p,v){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ss(f(p.aa,p),v)}function us(p){p.D&&(l.clearTimeout(p.D),p.D=null)}Bi.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(zo(this.i,this.B),this.M!=2&&(rs(),In(17)),Yr(this),this.m=2,ci(this)):eu(this,this.T-p)};function ci(p){p.j.I==0||p.K||Wf(p.j,p)}function Yr(p){us(p);var v=p.O;v&&typeof v.dispose=="function"&&v.dispose(),p.O=null,Ne(p.V),p.g&&(v=p.g,p.g=null,v.abort(),v.dispose())}function cs(p,v){try{var S=p.j;if(S.I!=0&&(S.g==p||ds(S.h,p))){if(!p.L&&ds(S.h,p)&&S.I==3){try{var j=S.Ba.g.parse(v)}catch{j=null}if(Array.isArray(j)&&j.length==3){var re=j;if(re[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<p.F)lu(S),Ua(S);else break e;Jo(S),In(18)}}else S.xa=re[1],0<S.xa-S.K&&re[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=ss(f(S.Va,S),6e3));hs(S.h)<=1&&S.ta&&(S.ta=void 0)}else bs(S,11)}else if((p.L||S.g==p)&&lu(S),!H(v))for(re=S.Ba.g.parse(v),v=0;v<re.length;v++){let Rt=re[v];const Zt=Rt[0];if(!(Zt<=S.K))if(S.K=Zt,Rt=Rt[1],S.I==2)if(Rt[0]=="c"){S.M=Rt[1],S.ba=Rt[2];const fi=Rt[3];fi!=null&&(S.ka=fi,S.j.info("VER="+S.ka));const Es=Rt[4];Es!=null&&(S.za=Es,S.j.info("SVER="+S.za));const Hi=Rt[5];Hi!=null&&typeof Hi=="number"&&Hi>0&&(j=1.5*Hi,S.O=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const zi=p.g;if(zi){const el=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(el){var le=j.h;le.g||el.indexOf("spdy")==-1&&el.indexOf("quic")==-1&&el.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(th(le,le.h),le.h=null))}if(j.G){const uu=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;uu&&(j.wa=uu,Lt(j.J,j.G,uu))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-p.F,S.j.info("Handshake RTT: "+S.T+"ms")),j=S;var Re=p;if(j.na=Jf(j,j.L?j.ba:null,j.W),Re.L){nh(j.h,Re);var nt=Re,yn=j.O;yn&&(nt.H=yn),nt.D&&(us(nt),ls(nt)),j.g=Re}else Kf(j);S.i.length>0&&ys(S)}else Rt[0]!="stop"&&Rt[0]!="close"||bs(S,7);else S.I==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?bs(S,7):hh(S):Rt[0]!="noop"&&S.l&&S.l.qa(Rt),S.A=0)}}rs(4)}catch{}}var kn=class{constructor(p,v){this.g=p,this.map=v}};function Jc(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eh(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function hs(p){return p.h?1:p.g?p.g.size:0}function ds(p,v){return p.h?p.h==v:p.g?p.g.has(v):!1}function th(p,v){p.g?p.g.add(v):p.h=v}function nh(p,v){p.h&&p.h==v?p.h=null:p.g&&p.g.has(v)&&p.g.delete(v)}Jc.prototype.cancel=function(){if(this.i=rh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function rh(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let v=p.i;for(const S of p.g.values())v=v.concat(S.G);return v}return w(p.i)}var Hf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tu(p,v){if(p){p=p.split("&");for(let S=0;S<p.length;S++){const j=p[S].indexOf("=");let re,le=null;j>=0?(re=p[S].substring(0,j),le=p[S].substring(j+1)):re=p[S],v(re,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Gr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;p instanceof Gr?(this.l=p.l,Gn(this,p.j),this.o=p.o,this.g=p.g,Ra(this,p.u),this.h=p.h,ih(this,Gf(p.i)),this.m=p.m):p&&(v=String(p).match(Hf))?(this.l=!1,Gn(this,v[1]||"",!0),this.o=fs(v[2]||""),this.g=fs(v[3]||"",!0),Ra(this,v[4]),this.h=fs(v[5]||"",!0),ih(this,v[6]||"",!0),this.m=fs(v[7]||"")):(this.l=!1,this.i=new Oa(null,this.l))}Gr.prototype.toString=function(){const p=[];var v=this.j;v&&p.push($o(v,nu,!0),":");var S=this.g;return(S||v=="file")&&(p.push("//"),(v=this.o)&&p.push($o(v,nu,!0),"@"),p.push(zs(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&p.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push($o(S,S.charAt(0)=="/"?sh:zf,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",$o(S,qf)),p.join("")},Gr.prototype.resolve=function(p){const v=Rn(this);let S=!!p.j;S?Gn(v,p.j):S=!!p.o,S?v.o=p.o:S=!!p.g,S?v.g=p.g:S=p.u!=null;var j=p.h;if(S)Ra(v,p.u);else if(S=!!p.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var re=v.h.lastIndexOf("/");re!=-1&&(j=v.h.slice(0,re+1)+j)}if(re=j,re==".."||re==".")j="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){j=re.lastIndexOf("/",0)==0,re=re.split("/");const le=[];for(let Re=0;Re<re.length;){const nt=re[Re++];nt=="."?j&&Re==re.length&&le.push(""):nt==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),j&&Re==re.length&&le.push("")):(le.push(nt),j=!0)}j=le.join("/")}else j=re}return S?v.h=j:S=p.i.toString()!=="",S?ih(v,Gf(p.i)):S=!!p.m,S&&(v.m=p.m),v};function Rn(p){return new Gr(p)}function Gn(p,v,S){p.j=S?fs(v,!0):v,p.j&&(p.j=p.j.replace(/:$/,""))}function Ra(p,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);p.u=v}else p.u=null}function ih(p,v,S){v instanceof Oa?(p.i=v,iu(p.i,p.l)):(S||(v=$o(v,Da)),p.i=new Oa(v,p.l))}function Lt(p,v,S){p.i.set(v,S)}function Go(p){return Lt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function fs(p,v){return p?v?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function $o(p,v,S){return typeof p=="string"?(p=encodeURI(p).replace(v,Ir),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ir(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var nu=/[#\/\?@]/g,zf=/[#\?:]/g,sh=/[#\?]/g,Da=/[#\?@]/g,qf=/#/g;function Oa(p,v){this.h=this.g=null,this.i=p||null,this.j=!!v}function Nr(p){p.g||(p.g=new Map,p.h=0,p.i&&tu(p.i,function(v,S){p.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=Oa.prototype,t.add=function(p,v){Nr(this),this.i=null,p=Pa(this,p);let S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(v),this.h+=1,this};function Yf(p,v){Nr(p),v=Pa(p,v),p.g.has(v)&&(p.i=null,p.h-=p.g.get(v).length,p.g.delete(v))}function ah(p,v){return Nr(p),v=Pa(p,v),p.g.has(v)}t.forEach=function(p,v){Nr(this),this.g.forEach(function(S,j){S.forEach(function(re){p.call(v,re,j,this)},this)},this)};function oh(p,v){Nr(p);let S=[];if(typeof v=="string")ah(p,v)&&(S=S.concat(p.g.get(Pa(p,v))));else for(p=Array.from(p.g.values()),v=0;v<p.length;v++)S=S.concat(p[v]);return S}t.set=function(p,v){return Nr(this),this.i=null,p=Pa(this,p),ah(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[v]),this.h+=1,this},t.get=function(p,v){return p?(p=oh(this,p),p.length>0?String(p[0]):v):v};function ru(p,v,S){Yf(p,v),S.length>0&&(p.i=null,p.g.set(Pa(p,v),w(S)),p.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],v=Array.from(this.g.keys());for(let j=0;j<v.length;j++){var S=v[j];const re=zs(S);S=oh(this,S);for(let le=0;le<S.length;le++){let Re=re;S[le]!==""&&(Re+="="+zs(S[le])),p.push(Re)}}return this.i=p.join("&")};function Gf(p){const v=new Oa;return v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),v}function Pa(p,v){return v=String(v),p.j&&(v=v.toLowerCase()),v}function iu(p,v){v&&!p.j&&(Nr(p),p.i=null,p.g.forEach(function(S,j){const re=j.toLowerCase();j!=re&&(Yf(this,j),ru(this,re,S))},p)),p.j=v}function ji(p,v){const S=new Mi;if(l.Image){const j=new Image;j.onload=m(hi,S,"TestLoadImage: loaded",!0,v,j),j.onerror=m(hi,S,"TestLoadImage: error",!1,v,j),j.onabort=m(hi,S,"TestLoadImage: abort",!1,v,j),j.ontimeout=m(hi,S,"TestLoadImage: timeout",!1,v,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=p}else v(!1)}function lh(p,v){const S=new Mi,j=new AbortController,re=setTimeout(()=>{j.abort(),hi(S,"TestPingServer: timeout",!1,v)},1e4);fetch(p,{signal:j.signal}).then(le=>{clearTimeout(re),le.ok?hi(S,"TestPingServer: ok",!0,v):hi(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(re),hi(S,"TestPingServer: error",!1,v)})}function hi(p,v,S,j,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),j(S)}catch{}}function La(){this.g=new bt}function ms(p){this.i=p.Sb||null,this.h=p.ab||!1}g(ms,Cn),ms.prototype.g=function(){return new Ko(this.i,this.h)};function Ko(p,v){kt.call(this),this.H=p,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ko,kt),t=Ko.prototype,t.open=function(p,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=v,this.readyState=1,Vi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(v.body=p),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;su(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function su(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var v=p.value?p.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!p.done}))&&(this.response=this.responseText+=v)}p.done?Ma(this):Vi(this),this.readyState==3&&su(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Ma(this))},t.Na=function(p){this.g&&(this.response=p,Ma(this))},t.ga=function(){this.g&&Ma(this)};function Ma(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Vi(p)}t.setRequestHeader=function(p,v){this.A.append(p,v)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=v.next();return p.join(`\r
`)};function Vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function di(p){let v="";return Be(p,function(S,j){v+=j,v+=":",v+=S,v+=`\r
`}),v}function Qo(p,v,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=di(S),typeof p=="string"?S!=null&&zs(S):Lt(p,v,S))}function Ut(p){kt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ut,kt);var ps=/^https?$/i,uh=["POST","PUT"];t=Ut.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,v,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);v=v?v.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zc.g(),this.g.onreadystatechange=E(f(this.Ca,this));try{this.B=!0,this.g.open(v,String(p),!0),this.B=!1}catch(le){Wo(this,le);return}if(p=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var re in j)S.set(re,j[re]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const le of j.keys())S.set(le,j.get(le));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(le=>le.toLowerCase()=="content-type"),re=l.FormData&&p instanceof l.FormData,!(Array.prototype.indexOf.call(uh,v,void 0)>=0)||j||re||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Re]of S)this.g.setRequestHeader(le,Re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(le){Wo(this,le)}};function Wo(p,v){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=v,p.o=5,ch(p),qs(p)}function ch(p){p.A||(p.A=!0,xt(p,"complete"),xt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,xt(this,"complete"),xt(this,"abort"),qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qs(this,!0)),Ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xo(this):this.Xa())},t.Xa=function(){Xo(this)};function Xo(p){if(p.h&&typeof o<"u"){if(p.v&&Fi(p)==4)setTimeout(p.Ca.bind(p),0);else if(xt(p,"readystatechange"),Fi(p)==4){p.h=!1;try{const le=p.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var j;if(j=le===0){let Re=String(p.D).match(Hf)[1]||null;!Re&&l.self&&l.self.location&&(Re=l.self.location.protocol.slice(0,-1)),j=!ps.test(Re?Re.toLowerCase():"")}S=j}if(S)xt(p,"complete"),xt(p,"success");else{p.o=6;try{var re=Fi(p)>2?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.ca()+"]",ch(p)}}finally{qs(p)}}}}function qs(p,v){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const S=p.g;p.g=null,v||xt(p,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fi(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var v=this.g.responseText;return p&&v.indexOf(p)==0&&(v=v.substring(p.length)),tt(v)}};function Jn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ys(p){const v={};p=(p.g&&Fi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<p.length;j++){if(H(p[j]))continue;var S=jf(p[j]);const re=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const le=v[re]||[];v[re]=le,le.push(S)}D(v,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(p,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||v}function Ba(p){this.za=0,this.i=[],this.j=new Mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gs("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gs("baseRetryDelayMs",5e3,p),this.Za=gs("retryDelaySeedMs",1e4,p),this.Ta=gs("forwardChannelMaxRetries",2,p),this.va=gs("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Jc(p&&p.concurrentRequestLimit),this.Ba=new La,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ba.prototype,t.ka=8,t.I=1,t.connect=function(p,v,S,j){In(0),this.W=p,this.H=v||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.J=Jf(this,null,this.W),ys(this)};function hh(p){if(au(p),p.I==3){var v=p.V++,S=Rn(p.J);if(Lt(S,"SID",p.M),Lt(S,"RID",v),Lt(S,"TYPE","terminate"),Zo(p,S),v=new Bi(p,p.j,v),v.M=2,v.A=Go(Rn(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=v.A,S=!0),S||(v.g=em(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ls(v)}Zf(p)}function Ua(p){p.g&&(fh(p),p.g.cancel(),p.g=null)}function au(p){Ua(p),p.v&&(l.clearTimeout(p.v),p.v=null),lu(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&l.clearTimeout(p.m),p.m=null)}function ys(p){if(!eh(p.h)&&!p.m){p.m=!0;var v=p.Ea;ne||O(),K||(ne(),K=!0),B.add(v,p),p.D=0}}function ou(p,v){return hs(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=v.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ss(f(p.Ea,p,v),Xf(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const re=new Bi(this,this.j,p);let le=this.o;if(this.U&&(le?(le=N(le),M(le,this.U)):le=this.U),this.u!==null||this.R||(re.J=le,le=null),this.S)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(v+=j,v>4096){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=$f(this,re,v),S=Rn(this.J),Lt(S,"RID",p),Lt(S,"CVER",22),this.G&&Lt(S,"X-HTTP-Session-Id",this.G),Zo(this,S),le&&(this.R?v="headers="+zs(di(le))+"&"+v:this.u&&Qo(S,this.u,le)),th(this.h,re),this.Ra&&Lt(S,"TYPE","init"),this.S?(Lt(S,"$req",v),Lt(S,"SID","null"),re.U=!0,os(re,S,null)):os(re,S,v),this.I=2}}else this.I==3&&(p?dh(this,p):this.i.length==0||eh(this.h)||dh(this))};function dh(p,v){var S;v?S=v.l:S=p.V++;const j=Rn(p.J);Lt(j,"SID",p.M),Lt(j,"RID",S),Lt(j,"AID",p.K),Zo(p,j),p.u&&p.o&&Qo(j,p.u,p.o),S=new Bi(p,p.j,S,p.D+1),p.u===null&&(S.J=p.o),v&&(p.i=v.G.concat(p.i)),v=$f(p,S,1e3),S.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),th(p.h,S),os(S,j,v)}function Zo(p,v){p.H&&Be(p.H,function(S,j){Lt(v,j,S)}),p.l&&Be({},function(S,j){Lt(v,j,S)})}function $f(p,v,S){S=Math.min(p.i.length,S);const j=p.l?f(p.l.Ka,p.l,p):null;e:{var re=p.i;let nt=-1;for(;;){const yn=["count="+S];nt==-1?S>0?(nt=re[0].g,yn.push("ofs="+nt)):nt=0:yn.push("ofs="+nt);let Rt=!0;for(let Zt=0;Zt<S;Zt++){var le=re[Zt].g;const fi=re[Zt].map;if(le-=nt,le<0)nt=Math.max(0,re[Zt].g-100),Rt=!1;else try{le="req"+le+"_"||"";try{var Re=fi instanceof Map?fi:Object.entries(fi);for(const[Es,Hi]of Re){let zi=Hi;c(Hi)&&(zi=Fe(Hi)),yn.push(le+Es+"="+encodeURIComponent(zi))}}catch(Es){throw yn.push(le+"type="+encodeURIComponent("_badmap")),Es}}catch{j&&j(fi)}}if(Rt){Re=yn.join("&");break e}}Re=void 0}return p=p.i.splice(0,S),v.G=p,Re}function Kf(p){if(!p.g&&!p.v){p.Y=1;var v=p.Da;ne||O(),K||(ne(),K=!0),B.add(v,p),p.A=0}}function Jo(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ss(f(p.Da,p),Xf(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Qf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ss(f(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,In(10),Ua(this),Qf(this))};function fh(p){p.B!=null&&(l.clearTimeout(p.B),p.B=null)}function Qf(p){p.g=new Bi(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var v=Rn(p.na);Lt(v,"RID","rpc"),Lt(v,"SID",p.M),Lt(v,"AID",p.K),Lt(v,"CI",p.F?"0":"1"),!p.F&&p.ia&&Lt(v,"TO",p.ia),Lt(v,"TYPE","xmlhttp"),Zo(p,v),p.u&&p.o&&Qo(v,p.u,p.o),p.O&&(p.g.H=p.O);var S=p.g;p=p.ba,S.M=1,S.A=Go(Rn(v)),S.u=null,S.R=!0,Jl(S,p)}t.Va=function(){this.C!=null&&(this.C=null,Ua(this),Jo(this),In(19))};function lu(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function Wf(p,v){var S=null;if(p.g==v){lu(p),fh(p),p.g=null;var j=2}else if(ds(p.h,v))S=v.G,nh(p.h,v),j=1;else return;if(p.I!=0){if(v.o)if(j==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var re=p.D;j=ur(),xt(j,new is(j,S)),ys(p)}else Kf(p);else if(re=v.m,re==3||re==0&&v.X>0||!(j==1&&ou(p,v)||j==2&&Jo(p)))switch(S&&S.length>0&&(v=p.h,v.i=v.i.concat(S)),re){case 1:bs(p,5);break;case 4:bs(p,10);break;case 3:bs(p,6);break;default:bs(p,2)}}}function Xf(p,v){let S=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(S*=2),S*v}function bs(p,v){if(p.j.info("Error code "+v),v==2){var S=f(p.bb,p),j=p.Ua;const re=!j;j=new Gr(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gn(j,"https"),Go(j),re?ji(j.toString(),S):lh(j.toString(),S)}else In(2);p.I=0,p.l&&p.l.pa(v),Zf(p),au(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function Zf(p){if(p.I=0,p.ja=[],p.l){const v=rh(p.h);(v.length!=0||p.i.length!=0)&&(x(p.ja,v),x(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Jf(p,v,S){var j=S instanceof Gr?Rn(S):new Gr(S);if(j.g!="")v&&(j.g=v+"."+j.g),Ra(j,j.u);else{var re=l.location;j=re.protocol,v=v?v+"."+re.hostname:re.hostname,re=+re.port;const le=new Gr(null);j&&Gn(le,j),v&&(le.g=v),re&&Ra(le,re),S&&(le.h=S),j=le}return S=p.G,v=p.wa,S&&v&&Lt(j,S,v),Lt(j,"VER",p.ka),Zo(p,j),j}function em(p,v,S){if(v&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=p.Aa&&!p.ma?new Ut(new ms({ab:S})):new Ut(p.ma),v.Fa(p.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tm(){}t=tm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ja(){}ja.prototype.g=function(p,v){return new Tr(p,v)};function Tr(p,v){kt.call(this),this.g=new Ba(v),this.l=p,this.h=v&&v.messageUrlParams||null,p=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(p?p["X-WebChannel-Content-Type"]=v.messageContentType:p={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(p?p["X-WebChannel-Client-Profile"]=v.sa:p={"X-WebChannel-Client-Profile":v.sa}),this.g.U=p,(p=v&&v.Qb)&&!H(p)&&(this.g.u=p),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.G=v,p=this.h,p!==null&&v in p&&(p=this.h,v in p&&delete p[v])),this.j=new Gs(this)}g(Tr,kt),Tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){hh(this.g)},Tr.prototype.o=function(p){var v=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.v&&(S={},S.__data__=Fe(p),p=S);v.i.push(new kn(v.Ya++,p)),v.I==3&&ys(v)},Tr.prototype.N=function(){this.g.l=null,delete this.j,hh(this.g),delete this.g,Tr.Z.N.call(this)};function nm(p){on.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var v=p.__sm__;if(v){e:{for(const S in v){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,v=v!==null&&p in v?v[p]:void 0),this.data=v}else this.data=p}g(nm,on);function rm(){qn.call(this),this.status=1}g(rm,qn);function Gs(p){this.g=p}g(Gs,tm),Gs.prototype.ra=function(){xt(this.g,"a")},Gs.prototype.qa=function(p){xt(this.g,new nm(p))},Gs.prototype.pa=function(p){xt(this.g,new rm)},Gs.prototype.oa=function(){xt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,p3=function(){return new ja},m3=function(){return ur()},f3=Et,bE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,Op=qo,Xc.COMPLETE="complete",d3=Xc,Cr.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",kt.prototype.listen=kt.prototype.J,cd=Cr,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,h3=Ut}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});const JS="@firebase/firestore",eC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new JT("@firebase/firestore");function Fu(){return Ml.logLevel}function Le(t,...e){if(Ml.logLevel<=pt.DEBUG){const n=e.map(n_);Ml.debug(`Firestore (${Dc}): ${t}`,...n)}}function wa(t,...e){if(Ml.logLevel<=pt.ERROR){const n=e.map(n_);Ml.error(`Firestore (${Dc}): ${t}`,...n)}}function hc(t,...e){if(Ml.logLevel<=pt.WARN){const n=e.map(n_);Ml.warn(`Firestore (${Dc}): ${t}`,...n)}}function n_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,g3(t,r,n)}function g3(t,e,n){let r=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wa(r),new Error(r)}function Pt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||g3(e,i,r)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dr.UNAUTHENTICATED)))}shutdown(){}}class yV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bV{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ma,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ma)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt(typeof r.accessToken=="string",31837,{l:r}),new y3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new dr(e)}}class EV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new EV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _V{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pt(this.o===void 0,3512);const r=o=>{o.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function gt(t,e){return t<e?-1:t>e?1:0}function EE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return u1(i)===u1(o)?gt(i,o):u1(i)?1:-1}return gt(t.length,e.length)}const vV=55296,xV=57343;function u1(t){const e=t.charCodeAt(0);return e>=vV&&e<=xV}function dc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="__name__";class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&$e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=As.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return gt(e.length,n.length)}static compareSegments(e,n){const r=As.isNumericId(e),i=As.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?As.extractNumericId(e).compare(As.extractNumericId(n)):EE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xo.fromString(e.substring(4,e.length-2))}}class Gt extends As{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Gt(n)}static emptyPath(){return new Gt([])}}const AV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends As{construct(e,n,r){return new or(e,n,r)}static isValidIdentifier(e){return AV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nC}static keyField(){return new or([nC])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Oe(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Oe(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Oe(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new Oe(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(n)}static emptyPath(){return new or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Gt.fromString(e))}static fromName(e){return new Ve(Gt.fromString(e).popFirst(5))}static empty(){return new Ve(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t,e,n){if(!n)throw new Oe(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SV(t,e,n,r){if(e===!0&&r===!0)throw new Oe(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rC(t){if(!Ve.isDocumentKey(t))throw new Oe(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iC(t){if(Ve.isDocumentKey(t))throw new Oe(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function E3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$e(12329,{type:typeof t})}function Fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kg(t);throw new Oe(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ff(t,e){if(!E3(t))throw new Oe(be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Oe(be.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=-62135596800,aC=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aC);return new Xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sC)throw new Oe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aC}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ff(e,Xt._jsonSchema))return new Xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xt._jsonSchemaVersion="firestore/timestamp/1.0",Xt._jsonSchema={type:Fn("string",Xt._jsonSchemaVersion),seconds:Fn("number"),nanoseconds:Fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Xt(0,0))}static max(){return new Xe(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=-1;function CV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new No(i,Ve.empty(),e)}function IV(t){return new No(t.readTime,t.key,Yd)}class No{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new No(Xe.min(),Ve.empty(),Yd)}static max(){return new No(Xe.max(),Ve.empty(),Yd)}}function NV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:gt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==kV)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Te(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Te.reject(n)}static resolve(e){return new Te(((n,r)=>{n(e)}))}static reject(e){return new Te(((n,r)=>{r(e)}))}static waitFor(e){return new Te(((n,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&n()}),(h=>r(h)))})),l=!0,o===i&&n()}))}static or(e){let n=Te.resolve(!1);for(const r of e)n=n.next((i=>i?Te.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Te(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next((m=>{l[f]=m,++c,c===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Te(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function DV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-1;function Wg(t){return t==null}function tg(t){return t===0&&1/t==-1/0}function OV(t){return typeof t=="number"&&Number.isInteger(t)&&!tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="";function PV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oC(e)),e=LV(t.get(n),e);return oC(e)}function LV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case T3:n+="";break;default:n+=o}}return n}function oC(t){return t+T3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fp(this.root,e,this.comparator,!0)}}class fp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=o??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ar(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uC(this.data.getIterator())}getIteratorFrom(e){return new uC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class uC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new ri([])}unionWith(e){let n=new zn(or.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new w3("Invalid base64 string: "+o):o}})(e);return new lr(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new lr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const MV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(Pt(!!t,39018),typeof t=="string"){let e=0;const n=MV.exec(t);if(Pt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?lr.fromBase64String(t):lr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="server_timestamp",x3="__type__",A3="__previous_value__",S3="__local_write_time__";function s_(t){return(t?.mapValue?.fields||{})[x3]?.stringValue===v3}function Xg(t){const e=t.mapValue.fields[A3];return s_(e)?Xg(e):e}function Gd(t){const e=ko(t.mapValue.fields[S3].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,i,o,l,c,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const ng="(default)";class $d{constructor(e,n){this.projectId=e,this.database=n||ng}static empty(){return new $d("","")}get isDefaultDatabase(){return this.database===ng}isEqual(e){return e instanceof $d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="__type__",UV="__max__",mp={mapValue:{}},I3="__vector__",rg="value";function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s_(t)?4:VV(t)?9007199254740991:jV(t)?10:11:$e(28295,{value:t})}function Bs(t,e){if(t===e)return!0;const n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gd(t).isEqual(Gd(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ko(i.timestampValue),c=ko(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Ro(i.bytesValue).isEqual(Ro(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return wn(i.geoPointValue.latitude)===wn(o.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return wn(i.integerValue)===wn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=wn(i.doubleValue),c=wn(o.doubleValue);return l===c?tg(l)===tg(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(lC(l)!==lC(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Bs(l[h],c[h])))return!1;return!0})(t,e);default:return $e(52216,{left:t})}}function Kd(t,e){return(t.values||[]).find((n=>Bs(n,e)))!==void 0}function fc(t,e){if(t===e)return 0;const n=Do(t),r=Do(e);if(n!==r)return gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=wn(o.integerValue||o.doubleValue),h=wn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return cC(t.timestampValue,e.timestampValue);case 4:return cC(Gd(t),Gd(e));case 5:return EE(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=Ro(o),h=Ro(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=gt(c[f],h[f]);if(m!==0)return m}return gt(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=gt(wn(o.latitude),wn(l.latitude));return c!==0?c:gt(wn(o.longitude),wn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hC(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},h=l.fields||{},f=c[rg]?.arrayValue,m=h[rg]?.arrayValue,g=gt(f?.values?.length||0,m?.values?.length||0);return g!==0?g:hC(f,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===mp.mapValue&&l===mp.mapValue)return 0;if(o===mp.mapValue)return 1;if(l===mp.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let g=0;g<h.length&&g<m.length;++g){const E=EE(h[g],m[g]);if(E!==0)return E;const w=fc(c[h[g]],f[m[g]]);if(w!==0)return w}return gt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw $e(23264,{he:n})}}function cC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return gt(t,e);const n=ko(t),r=ko(e),i=gt(n.seconds,r.seconds);return i!==0?i:gt(n.nanos,r.nanos)}function hC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=fc(n[i],r[i]);if(o)return o}return gt(n.length,r.length)}function mc(t){return TE(t)}function TE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ko(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=TE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${TE(n.fields[l])}`;return i+"}"})(t.mapValue):$e(61005,{value:t})}function Pp(t){switch(Do(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xg(t);return e?16+Pp(e):16;case 5:return 2*t.stringValue.length;case 6:return Ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Pp(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bo(r.fields,((o,l)=>{i+=o.length+Pp(l)})),i})(t.mapValue);default:throw $e(13486,{value:t})}}function dC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _E(t){return!!t&&"integerValue"in t}function a_(t){return!!t&&"arrayValue"in t}function fC(t){return!!t&&"nullValue"in t}function mC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lp(t){return!!t&&"mapValue"in t}function jV(t){return(t?.mapValue?.fields||{})[C3]?.stringValue===I3}function _d(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=_d(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_d(t.arrayValue.values[n]);return e}return{...t}}function VV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===UV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_d(n)}setAll(e){let n=or.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=_d(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Lp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bo(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new jr(_d(this.value))}}function N3(t){const e=[];return Bo(t.fields,((n,r)=>{const i=new or([n]);if(Lp(r)){const o=N3(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new fr(e,0,Xe.min(),Xe.min(),Xe.min(),jr.empty(),0)}static newFoundDocument(e,n,r,i){return new fr(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new fr(e,2,n,Xe.min(),Xe.min(),jr.empty(),0)}static newUnknownDocument(e,n){return new fr(e,3,n,Xe.min(),Xe.min(),jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.position=e,this.inclusive=n}}function pC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Ve.comparator(Ve.fromName(l.referenceValue),n.key):r=fc(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n="asc"){this.field=e,this.dir=n}}function FV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{}class Vn extends k3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zV(e,n,r):n==="array-contains"?new GV(e,r):n==="in"?new $V(e,r):n==="not-in"?new KV(e,r):n==="array-contains-any"?new QV(e,r):new Vn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qV(e,r):new YV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fc(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(fc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends k3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zi(e,n)}matches(e){return R3(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R3(t){return t.op==="and"}function D3(t){return HV(t)&&R3(t)}function HV(t){for(const e of t.filters)if(e instanceof Zi)return!1;return!0}function wE(t){if(t instanceof Vn)return t.field.canonicalString()+t.op.toString()+mc(t.value);if(D3(t))return t.filters.map((e=>wE(e))).join(",");{const e=t.filters.map((n=>wE(n))).join(",");return`${t.op}(${e})`}}function O3(t,e){return t instanceof Vn?(function(r,i){return i instanceof Vn&&r.op===i.op&&r.field.isEqual(i.field)&&Bs(r.value,i.value)})(t,e):t instanceof Zi?(function(r,i){return i instanceof Zi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&O3(l,i.filters[c])),!0):!1})(t,e):void $e(19439)}function P3(t){return t instanceof Vn?(function(n){return`${n.field.canonicalString()} ${n.op} ${mc(n.value)}`})(t):t instanceof Zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(P3).join(" ,")+"}"})(t):"Filter"}class zV extends Vn{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class qV extends Vn{constructor(e,n){super(e,"in",n),this.keys=L3("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YV extends Vn{constructor(e,n){super(e,"not-in",n),this.keys=L3("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function L3(t,e){return(e.arrayValue?.values||[]).map((n=>Ve.fromName(n.referenceValue)))}class GV extends Vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a_(n)&&Kd(n.arrayValue,this.value)}}class $V extends Vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kd(this.value.arrayValue,n)}}class KV extends Vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kd(this.value.arrayValue,n)}}class QV extends Vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function yC(t,e=null,n=[],r=[],i=null,o=null,l=null){return new WV(t,e,n,r,i,o,l)}function o_(t){const e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>wE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Wg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mc(r))).join(",")),e.Te=n}return e.Te}function l_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!O3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gC(t.startAt,e.startAt)&&gC(t.endAt,e.endAt)}function vE(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XV(t,e,n,r,i,o,l,c){return new Lc(t,e,n,r,i,o,l,c)}function Zg(t){return new Lc(t)}function bC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M3(t){return t.collectionGroup!==null}function wd(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new zn(or.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Qd(o,r))})),n.has(or.keyField().canonicalString())||e.Ie.push(new Qd(or.keyField(),r))}return e.Ie}function Ds(t){const e=Je(t);return e.Ee||(e.Ee=ZV(e,wd(t))),e.Ee}function ZV(t,e){if(t.limitType==="F")return yC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Qd(i.field,o)}));const n=t.endAt?new ig(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ig(t.startAt.position,t.startAt.inclusive):null;return yC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xE(t,e){const n=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function AE(t,e,n){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jg(t,e){return l_(Ds(t),Ds(e))&&t.limitType===e.limitType}function B3(t){return`${o_(Ds(t))}|lt:${t.limitType}`}function Hu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>P3(i))).join(", ")}]`),Wg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>mc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>mc(i))).join(",")),`Target(${r})`})(Ds(t))}; limitType=${t.limitType})`}function e0(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of wd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=pC(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,wd(r),i)||r.endAt&&!(function(l,c,h){const f=pC(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,wd(r),i))})(t,e)}function JV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function U3(t){return(e,n)=>{let r=!1;for(const i of wd(t)){const o=eF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function eF(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?fc(h,f):$e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return _3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new un(Ve.comparator);function va(){return tF}const j3=new un(Ve.comparator);function hd(...t){let e=j3;for(const n of t)e=e.insert(n.key,n);return e}function V3(t){let e=j3;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function vl(){return vd()}function F3(){return vd()}function vd(){return new Yl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const nF=new un(Ve.comparator),rF=new zn(Ve.comparator);function yt(...t){let e=rF;for(const n of t)e=e.add(n);return e}const iF=new zn(gt);function sF(){return iF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function H3(t){return{integerValue:""+t}}function aF(t,e){return OV(e)?H3(e):u_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this._=void 0}}function oF(t,e,n){return t instanceof Wd?(function(i,o){const l={fields:{[x3]:{stringValue:v3},[S3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&s_(o)&&(o=Xg(o)),o&&(l.fields[A3]=o),{mapValue:l}})(n,e):t instanceof pc?q3(t,e):t instanceof gc?Y3(t,e):(function(i,o){const l=z3(i,o),c=EC(l)+EC(i.Ae);return _E(l)&&_E(i.Ae)?H3(c):u_(i.serializer,c)})(t,e)}function lF(t,e,n){return t instanceof pc?q3(t,e):t instanceof gc?Y3(t,e):n}function z3(t,e){return t instanceof sg?(function(r){return _E(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Wd extends t0{}class pc extends t0{constructor(e){super(),this.elements=e}}function q3(t,e){const n=G3(e);for(const r of t.elements)n.some((i=>Bs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class gc extends t0{constructor(e){super(),this.elements=e}}function Y3(t,e){let n=G3(e);for(const r of t.elements)n=n.filter((i=>!Bs(i,r)));return{arrayValue:{values:n}}}class sg extends t0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function EC(t){return wn(t.integerValue||t.doubleValue)}function G3(t){return a_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.field=e,this.transform=n}}function uF(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof pc&&i instanceof pc||r instanceof gc&&i instanceof gc?dc(r.elements,i.elements,Bs):r instanceof sg&&i instanceof sg?Bs(r.Ae,i.Ae):r instanceof Wd&&i instanceof Wd})(t.transform,e.transform)}class cF{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class n0{}function $3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h_(t.key,Ni.none()):new mf(t.key,t.data,Ni.none());{const n=t.data,r=jr.empty();let i=new zn(or.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Uo(t.key,r,new ri(i.toArray()),Ni.none())}}function hF(t,e,n){t instanceof mf?(function(i,o,l){const c=i.value.clone(),h=_C(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Uo?(function(i,o,l){if(!Mp(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=_C(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(K3(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function xd(t,e,n,r){return t instanceof mf?(function(o,l,c,h){if(!Mp(o.precondition,l))return c;const f=o.value.clone(),m=wC(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Uo?(function(o,l,c,h){if(!Mp(o.precondition,l))return c;const f=wC(o.fieldTransforms,h,l),m=l.data;return m.setAll(K3(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(o,l,c){return Mp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function dF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=z3(r.transform,i||null);o!=null&&(n===null&&(n=jr.empty()),n.set(r.field,o))}return n||null}function TC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dc(r,i,((o,l)=>uF(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mf extends n0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends n0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function K3(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function _C(t,e,n){const r=new Map;Pt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,lF(l,c,n[i]))}return r}function wC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,oF(o,l,e))}return r}class h_ extends n0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fF extends n0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&hF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=F3();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const h=$3(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),yt())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,((n,r)=>TC(n,r)))&&dc(this.baseMutations,e.baseMutations,((n,r)=>TC(n,r)))}}class d_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return nF})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new d_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,_t;function yF(t){switch(t){case be.OK:return $e(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return $e(15467,{code:t})}}function Q3(t){if(t===void 0)return wa("GRPC error has no .code"),be.UNKNOWN;switch(t){case Mn.OK:return be.OK;case Mn.CANCELLED:return be.CANCELLED;case Mn.UNKNOWN:return be.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return be.INTERNAL;case Mn.UNAVAILABLE:return be.UNAVAILABLE;case Mn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Mn.NOT_FOUND:return be.NOT_FOUND;case Mn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Mn.ABORTED:return be.ABORTED;case Mn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Mn.DATA_LOSS:return be.DATA_LOSS;default:return $e(39323,{code:t})}}(_t=Mn||(Mn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=new xo([4294967295,4294967295],0);function vC(t){const e=bF().encode(t),n=new c3;return n.update(e),new Uint8Array(n.digest())}function xC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,o],0)]}class f_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dd(`Invalid padding: ${n}`);if(r<0)throw new dd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(EF)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=vC(e),[r,i]=xC(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new f_(o,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=vC(e),[r,i]=xC(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new r0(Xe.min(),i,new un(gt),va(),yt())}}class pf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pf(r,n,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class W3{constructor(e,n){this.targetId=e,this.Ce=n}}class X3{constructor(e,n,r=lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class AC{constructor(){this.ve=0,this.Fe=SC(),this.Me=lr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yt(),n=yt(),r=yt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$e(38017,{changeType:o})}})),new pf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=SC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TF{constructor(e){this.Ge=e,this.ze=new Map,this.je=va(),this.Je=pp(),this.He=pp(),this.Ye=new un(gt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(vE(o))if(r===0){const l=new Ve(o.path);this.et(n,l,fr.newNoDocument(l,Xe.min()))}else Pt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=Ro(r).toUint8Array()}catch(h){if(h instanceof w3)return hc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new f_(l,i,o)}catch(h){return hc(h instanceof dd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&vE(c.target)){const h=new Ve(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,fr.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=yt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new r0(e,n,this.Ye,this.je,r);return this.je=va(),this.Je=pp(),this.He=pp(),this.Ye=new un(gt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new AC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zn(gt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zn(gt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function pp(){return new un(Ve.comparator)}function SC(){return new un(Ve.comparator)}const _F={asc:"ASCENDING",desc:"DESCENDING"},wF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vF={and:"AND",or:"OR"};class xF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function SE(t,e){return t.useProto3Json||Wg(e)?e:{value:e}}function ag(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AF(t,e){return ag(t,e.toTimestamp())}function Os(t){return Pt(!!t,49232),Xe.fromTimestamp((function(n){const r=ko(n);return new Xt(r.seconds,r.nanos)})(t))}function m_(t,e){return CE(t,e).canonicalString()}function CE(t,e){const n=(function(i){return new Gt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function J3(t){const e=Gt.fromString(t);return Pt(i6(e),10190,{key:e.toString()}),e}function IE(t,e){return m_(t.databaseId,e.path)}function c1(t,e){const n=J3(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(t6(n))}function e6(t,e){return m_(t.databaseId,e)}function SF(t){const e=J3(t);return e.length===4?Gt.emptyPath():t6(e)}function NE(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t6(t){return Pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function CC(t,e,n){return{name:IE(t,e),fields:n.value.mapValue.fields}}function CF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:$e(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,m){return f.useProto3Json?(Pt(m===void 0||typeof m=="string",58123),lr.fromBase64String(m||"")):(Pt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),lr.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?be.UNKNOWN:Q3(f.code);return new Oe(m,f.message||"")})(l);n=new X3(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=c1(t,r.document.name),o=Os(r.document.updateTime),l=r.document.createTime?Os(r.document.createTime):Xe.min(),c=new jr({mapValue:{fields:r.document.fields}}),h=fr.newFoundDocument(i,o,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Bp(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=c1(t,r.document),o=r.readTime?Os(r.readTime):Xe.min(),l=fr.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Bp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=c1(t,r.document),o=r.removedTargetIds||[];n=new Bp([],o,i,null)}else{if(!("filter"in e))return $e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new gF(i,o),c=r.targetId;n=new W3(c,l)}}return n}function IF(t,e){let n;if(e instanceof mf)n={update:CC(t,e.key,e.value)};else if(e instanceof h_)n={delete:IE(t,e.key)};else if(e instanceof Uo)n={update:CC(t,e.key,e.data),updateMask:BF(e.fieldMask)};else{if(!(e instanceof fF))return $e(16599,{Vt:e.type});n={verify:IE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Wd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof gc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sg)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw $e(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:AF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$e(27497)})(t,e.precondition)),n}function NF(t,e){return t&&t.length>0?(Pt(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?Os(i.updateTime):Os(o);return l.isEqual(Xe.min())&&(l=Os(o)),new cF(l,i.transformResults||[])})(n,e)))):[]}function kF(t,e){return{documents:[e6(t,e.path)]}}function RF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=e6(t,i);const o=(function(f){if(f.length!==0)return r6(Zi.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((m=>(function(E){return{field:zu(E.field),direction:PF(E.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=SE(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function DF(t){let e=SF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(g){const E=n6(g);return E instanceof Zi&&D3(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((E=>(function(x){return new Qd(qu(x.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(E)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let E;return E=typeof g=="object"?g.value:g,Wg(E)?null:E})(n.limit));let h=null;n.startAt&&(h=(function(g){const E=!!g.before,w=g.values||[];return new ig(w,E)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const E=!g.before,w=g.values||[];return new ig(w,E)})(n.endAt)),XV(e,i,l,o,c,"F",h,f)}function OF(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function n6(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qu(n.unaryFilter.field);return Vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qu(n.unaryFilter.field);return Vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qu(n.unaryFilter.field);return Vn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=qu(n.unaryFilter.field);return Vn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Vn.create(qu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Zi.create(n.compositeFilter.filters.map((r=>n6(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(n.compositeFilter.op))})(t):$e(30097,{filter:t})}function PF(t){return _F[t]}function LF(t){return wF[t]}function MF(t){return vF[t]}function zu(t){return{fieldPath:t.canonicalString()}}function qu(t){return or.fromServerFormat(t.fieldPath)}function r6(t){return t instanceof Vn?(function(n){if(n.op==="=="){if(mC(n.value))return{unaryFilter:{field:zu(n.field),op:"IS_NAN"}};if(fC(n.value))return{unaryFilter:{field:zu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mC(n.value))return{unaryFilter:{field:zu(n.field),op:"IS_NOT_NAN"}};if(fC(n.value))return{unaryFilter:{field:zu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zu(n.field),op:LF(n.op),value:n.value}}})(t):t instanceof Zi?(function(n){const r=n.getFilters().map((i=>r6(i)));return r.length===1?r[0]:{compositeFilter:{op:MF(n.op),filters:r}}})(t):$e(54877,{filter:t})}function BF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function i6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,i,o=Xe.min(),l=Xe.min(),c=lr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.yt=e}}function jF(t){const e=DF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?AE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.Cn=new FF}addToCollectionParentIndex(e,n){return this.Cn.add(n),Te.resolve()}getCollectionParents(e,n){return Te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Te.resolve()}deleteFieldIndex(e,n){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,n){return Te.resolve()}getDocumentsMatchingTarget(e,n){return Te.resolve(null)}getIndexType(e,n){return Te.resolve(0)}getFieldIndexes(e,n){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,n){return Te.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return Te.resolve(No.min())}updateCollectionGroup(e,n,r){return Te.resolve()}updateIndexEntries(e,n){return Te.resolve()}}class FF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zn(Gt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s6=41943040;class Br{static withCacheSize(e){return new Br(e,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(s6,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yc(0)}static cr(){return new yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="LruGarbageCollector",HF=1048576;function kC([t,e],[n,r]){const i=gt(t,n);return i===0?gt(e,r):i}class zF{constructor(e){this.Ir=e,this.buffer=new zn(kC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(NC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pc(n)?Le(NC,"Ignoring IndexedDB error during garbage collection: ",n):await Oc(n)}await this.Vr(3e5)}))}}class YF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Te.resolve(Qg.ce);const r=new zF(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(IC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,c,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(o=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),Fu()<=pt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g}))))}}function GF(t,e){return new YF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.changes=new Yl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&xd(r.mutation,i,ri.empty(),Xt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,yt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=yt()){const i=vl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=hd();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=vl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,yt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let o=va();const l=vd(),c=(function(){return vd()})();return n.forEach(((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Uo)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),xd(m.mutation,f,m.mutation.getFieldMask(),Xt.now())):l.set(f.key,ri.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new KF(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=vd();let i=new un(((l,c)=>l-c)),o=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||ri.empty();m=c.applyToLocalView(f,m),r.set(h,m);const g=(i.get(c.batchId)||yt()).add(h);i=i.insert(c.batchId,g)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,g=F3();m.forEach((E=>{if(!o.has(E)){const w=$3(n.get(E),r.get(E));w!==null&&g.set(E,w),o=o.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return Te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Te.resolve(vl());let c=Yd,h=o;return l.next((f=>Te.forEach(f,((m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?Te.resolve():this.remoteDocumentCache.getEntry(e,m).next((E=>{h=h.insert(m,E)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,yt()))).next((m=>({batchId:c,changes:V3(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((r=>{let i=hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=hd();return this.indexManager.getCollectionParents(e,o).next((c=>Te.forEach(c,(h=>{const f=(function(g,E){return new Lc(E,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((g,E)=>{l=l.insert(g,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,fr.newInvalidDocument(m)))}));let c=hd();return l.forEach(((h,f)=>{const m=o.get(h);m!==void 0&&xd(m.mutation,f,ri.empty(),Xt.now()),e0(n,f)&&(c=c.insert(h,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Os(i.createTime)}})(n)),Te.resolve()}getNamedQuery(e,n){return Te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:jF(i.bundledQuery),readTime:Os(i.readTime)}})(n)),Te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.overlays=new un(Ve.comparator),this.qr=new Map}getOverlay(e,n){return Te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vl();return Te.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Te.resolve()}getOverlaysForCollection(e,n,r){const i=vl(),o=n.length+1,l=new Ve(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new un(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=vl(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=vl(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Te.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new pF(n,r));let o=this.qr.get(n);o===void 0&&(o=yt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this.sessionToken=lr.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.Qr=new zn(Qn.$r),this.Ur=new zn(Qn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Qn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Qn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ve(new Gt([])),r=new Qn(n,e),i=new Qn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ve(new Gt([])),r=new Qn(n,e),i=new Qn(n,e+1);let o=yt();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Qn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ve.comparator(e.key,n.key)||gt(e.Yr,n.Yr)}static Kr(e,n){return gt(e.Yr,n.Yr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zn(Qn.$r)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new mF(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Qn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Te.resolve(l)}lookupMutationBatch(e,n){return Te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?i_:this.tr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qn(n,0),i=new Qn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),Te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(gt);return n.forEach((i=>{const o=new Qn(i,0),l=new Qn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),Te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ve.isDocumentKey(o)||(o=o.child(""));const l=new Qn(new Ve(o),0);let c=new zn(gt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),Te.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Pt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Te.forEach(n.mutations,(i=>{const o=new Qn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Qn(n,0),i=this.Zr.firstAfterOrEqual(r);return Te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e){this.ri=e,this.docs=(function(){return new un(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Te.resolve(r?r.document.mutableCopy():fr.newInvalidDocument(n))}getEntries(e,n){let r=va();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fr.newInvalidDocument(i))})),Te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=va();const l=n.path,c=new Ve(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||NV(IV(m),r)<=0||(i.has(m.key)||e0(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){$e(9500)}ii(e,n){return Te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new tH(this)}getSize(e){return Te.resolve(this.size)}}class tH extends $F{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.persistence=e,this.si=new Yl((n=>o_(n)),l_),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new p_,this.targetCount=0,this.ai=yc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Te.resolve()}updateTargetData(e,n){return this.Pr(n),Te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Te.waitFor(o).next((()=>i))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),Te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Te.resolve(r)}containsKey(e,n){return Te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qg(0),this.li=!1,this.li=!0,this.hi=new ZF,this.referenceDelegate=e(this),this.Pi=new nH(this),this.indexManager=new VF,this.remoteDocumentCache=(function(i){return new eH(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new UF(n),this.Ii=new WF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new JF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new rH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class rH extends RV{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Ri=new p_,this.Vi=null}static mi(e){return new g_(e)}get fi(){if(this.Vi)return this.Vi;throw $e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(r=>{const i=Ve.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,Xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Te.or([()=>Te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class og{constructor(e,n){this.persistence=e,this.pi=new Yl((r=>PV(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=GF(this,n)}static mi(e,n){return new og(e,n)}Ei(){}di(e){return Te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Te.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Te.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,Xe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pp(e.data.value)),n}br(e,n,r){return Te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=yt(),i=yt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new y_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return W7()?8:DV(gr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new iH;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Fu()<=pt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(Fu()<=pt.DEBUG&&Le("QueryEngine","Query:",Hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Fu()<=pt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ds(n))):Te.resolve())}ys(e,n){if(bC(n))return Te.resolve(null);let r=Ds(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=AE(n,null,"F"),r=Ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=yt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(e,AE(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return bC(n)||i.isEqual(Xe.min())?Te.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?Te.resolve(null):(Fu()<=pt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hu(n)),this.vs(e,l,n,CV(i,Yd)).next((c=>c)))}))}Ds(e,n){let r=new zn(U3(e));return n.forEach(((i,o)=>{e0(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Fu()<=pt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Hu(n)),this.ps.getDocumentsMatchingQuery(e,n,No.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="LocalStore",aH=3e8;class oH{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new un(gt),this.xs=new Yl((o=>o_(o)),l_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function lH(t,e,n,r){return new oH(t,e,n,r)}async function o6(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=yt();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function uH(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,m){const g=f.batch,E=g.keys();let w=Te.resolve();return E.forEach((x=>{w=w.next((()=>m.getEntry(h,x))).next((C=>{const I=f.docVersions.get(x);Pt(I!==null,48541),C.version.compareTo(I)<0&&(g.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),m.addEntry(C)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(h,g)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=yt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function l6(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function cH(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,g)=>{const E=i.get(g);if(!E)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,g))));let w=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(lr.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),i=i.insert(g,w),(function(C,I,k){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=aH?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(E,w,m)&&c.push(n.Pi.updateTargetData(o,w))}));let h=va(),f=yt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(hH(o,l,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!r.isEqual(Xe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((g=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return Te.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(n.Ms=i,o)))}function hH(t,e,n){let r=yt(),i=yt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=va();return n.forEach(((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Xe.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Le(b_,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function dH(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=i_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fH(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Te.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new bo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function kE(t,e,n){const r=Je(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Pc(l))throw l;Le(b_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function RC(t,e,n){const r=Je(t);let i=Xe.min(),o=yt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,m){const g=Je(h),E=g.xs.get(m);return E!==void 0?Te.resolve(g.Ms.get(E)):g.Pi.getTargetData(f,m)})(r,l,Ds(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Xe.min(),n?o:yt()))).next((c=>(mH(r,JV(e),c),{documents:c,Qs:o})))))}function mH(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class DC{constructor(){this.activeTargetIds=sF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pH{constructor(){this.Mo=new DC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="ConnectivityMonitor";class PC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(OC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(OC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp=null;function RE(){return gp===null?gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():gp++,"0x"+gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="RestConnection",yH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ng?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=RE(),c=this.zo(e,n.toUriEncodedString());Le(h1,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:f}=new URL(c),m=Mo(f);return this.Jo(e,c,h,r,m).then((g=>(Le(h1,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw hc(h1,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=yH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class TH extends bH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=RE();return new Promise(((c,h)=>{const f=new h3;f.setWithCredentials(!0),f.listenOnce(d3.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Op.NO_ERROR:const g=f.getResponseJson();Le(hr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Op.TIMEOUT:Le(hr,`RPC '${e}' ${l} timed out`),h(new Oe(be.DEADLINE_EXCEEDED,"Request time out"));break;case Op.HTTP_ERROR:const E=f.getStatus();if(Le(hr,`RPC '${e}' ${l} failed with status:`,E,"response text:",f.getResponseText()),E>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w?.error;if(x&&x.status&&x.message){const C=(function(k){const Y=k.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(Y)>=0?Y:be.UNKNOWN})(x.status);h(new Oe(C,x.message))}else h(new Oe(be.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Oe(be.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Le(hr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);Le(hr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=RE(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=p3(),c=m3(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");Le(hr,`Creating RPC '${e}' stream ${i}: ${m}`,h);const g=l.createWebChannel(m,h);this.I_(g);let E=!1,w=!1;const x=new EH({Yo:I=>{w?Le(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(E||(Le(hr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),E=!0),Le(hr,`RPC '${e}' stream ${i} sending:`,I),g.send(I))},Zo:()=>g.close()}),C=(I,k,Y)=>{I.listen(k,(F=>{try{Y(F)}catch(X){setTimeout((()=>{throw X}),0)}}))};return C(g,cd.EventType.OPEN,(()=>{w||(Le(hr,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),C(g,cd.EventType.CLOSE,(()=>{w||(w=!0,Le(hr,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(g))})),C(g,cd.EventType.ERROR,(I=>{w||(w=!0,hc(hr,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),x.a_(new Oe(be.UNAVAILABLE,"The operation could not be completed")))})),C(g,cd.EventType.MESSAGE,(I=>{if(!w){const k=I.data[0];Pt(!!k,16349);const Y=k,F=Y?.error||Y[0]?.error;if(F){Le(hr,`RPC '${e}' stream ${i} received error:`,F);const X=F.status;let ne=(function(O){const V=Mn[O];if(V!==void 0)return Q3(V)})(X),K=F.message;ne===void 0&&(ne=be.INTERNAL,K="Unknown error status: "+X+" with message "+F.message),w=!0,x.a_(new Oe(ne,K)),g.close()}else Le(hr,`RPC '${e}' stream ${i} received:`,k),x.u_(k)}})),C(c,f3.STAT_EVENT,(I=>{I.stat===bE.PROXY?Le(hr,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===bE.NOPROXY&&Le(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function d1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){return new xF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="PersistentStream";class c6{constructor(e,n,r,i,o,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(wa(n.toString()),wa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Oe(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(LC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Le(LC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _H extends c6{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CF(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Xe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Xe.min():l.readTime?Os(l.readTime):Xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=NE(this.serializer),n.addTarget=(function(o,l){let c;const h=l.target;if(c=vE(h)?{documents:kF(o,h)}:{query:RF(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Z3(o,l.resumeToken);const f=SE(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Xe.min())>0){c.readTime=ag(o,l.snapshotVersion.toTimestamp());const f=SE(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=OF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=NE(this.serializer),n.removeTarget=e,this.q_(n)}}class wH extends c6{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NF(e.writeResults,e.commitTime),r=Os(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=NE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>IF(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{}class xH extends vH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Oe(be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,CE(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(be.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,CE(n,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Oe(be.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wa(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="RemoteStore";class SH{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Gl(this)&&(Le(Bl,"Restarting streams for network reachability change."),await(async function(h){const f=Je(h);f.Ea.add(4),await gf(f),f.Ra.set("Unknown"),f.Ea.delete(4),await s0(f)})(this))}))})),this.Ra=new AH(r,i)}}async function s0(t){if(Gl(t))for(const e of t.da)await e(!0)}async function gf(t){for(const e of t.da)await e(!1)}function h6(t,e){const n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),w_(n)?__(n):Mc(n).O_()&&T_(n,e))}function E_(t,e){const n=Je(t),r=Mc(n);n.Ia.delete(e),r.O_()&&d6(n,e),n.Ia.size===0&&(r.O_()?r.L_():Gl(n)&&n.Ra.set("Unknown"))}function T_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mc(t).Y_(e)}function d6(t,e){t.Va.Ue(e),Mc(t).Z_(e)}function __(t){t.Va=new TF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Mc(t).start(),t.Ra.ua()}function w_(t){return Gl(t)&&!Mc(t).x_()&&t.Ia.size>0}function Gl(t){return Je(t).Ea.size===0}function f6(t){t.Va=void 0}async function CH(t){t.Ra.set("Online")}async function IH(t){t.Ia.forEach(((e,n)=>{T_(t,e)}))}async function NH(t,e){f6(t),w_(t)?(t.Ra.ha(e),__(t)):t.Ra.set("Unknown")}async function kH(t,e,n){if(t.Ra.set("Online"),e instanceof X3&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){Le(Bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lg(t,r)}else if(e instanceof Bp?t.Va.Ze(e):e instanceof W3?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await l6(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(lr.EMPTY_BYTE_STRING,m.snapshotVersion)),d6(o,h);const g=new bo(m.target,h,f,m.sequenceNumber);T_(o,g)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Le(Bl,"Failed to raise snapshot:",r),await lg(t,r)}}async function lg(t,e,n){if(!Pc(e))throw e;t.Ea.add(1),await gf(t),t.Ra.set("Offline"),n||(n=()=>l6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Le(Bl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await s0(t)}))}function m6(t,e){return e().catch((n=>lg(t,n,e)))}async function a0(t){const e=Je(t),n=Oo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:i_;for(;RH(e);)try{const i=await dH(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,DH(e,i)}catch(i){await lg(e,i)}p6(e)&&g6(e)}function RH(t){return Gl(t)&&t.Ta.length<10}function DH(t,e){t.Ta.push(e);const n=Oo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function p6(t){return Gl(t)&&!Oo(t).x_()&&t.Ta.length>0}function g6(t){Oo(t).start()}async function OH(t){Oo(t).ra()}async function PH(t){const e=Oo(t);for(const n of t.Ta)e.ea(n.mutations)}async function LH(t,e,n){const r=t.Ta.shift(),i=d_.from(r,e,n);await m6(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await a0(t)}async function MH(t,e){e&&Oo(t).X_&&await(async function(r,i){if((function(l){return yF(l)&&l!==be.ABORTED})(i.code)){const o=r.Ta.shift();Oo(r).B_(),await m6(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await a0(r)}})(t,e),p6(t)&&g6(t)}async function MC(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Le(Bl,"RemoteStore received new credentials");const r=Gl(n);n.Ea.add(3),await gf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await s0(n)}async function BH(t,e){const n=Je(t);e?(n.Ea.delete(2),await s0(n)):e||(n.Ea.add(2),await gf(n),n.Ra.set("Unknown"))}function Mc(t){return t.ma||(t.ma=(function(n,r,i){const o=Je(n);return o.sa(),new _H(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:CH.bind(null,t),t_:IH.bind(null,t),r_:NH.bind(null,t),H_:kH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),w_(t)?__(t):t.Ra.set("Unknown")):(await t.ma.stop(),f6(t))}))),t.ma}function Oo(t){return t.fa||(t.fa=(function(n,r,i){const o=Je(n);return o.sa(),new wH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:OH.bind(null,t),r_:MH.bind(null,t),ta:PH.bind(null,t),na:LH.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await a0(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(Bl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new v_(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x_(t,e){if(wa("AsyncQueue",`${e}: ${t}`),Pc(t))return new Oe(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{static emptySet(e){return new ec(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=hd(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.ga=new un(Ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):$e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class bc{constructor(e,n,r,i,o,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new bc(e,n,ec.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jH{constructor(){this.queries=UC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Je(n),o=i.queries;i.queries=UC(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new Oe(be.ABORTED,"Firestore shutting down"))}}function UC(){return new Yl((t=>B3(t)),Jg)}async function A_(t,e){const n=Je(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new UH,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=x_(l,`Initialization of query '${Hu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&C_(n)}async function S_(t,e){const n=Je(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VH(t,e){const n=Je(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&C_(n)}function FH(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function C_(t){t.Ca.forEach((e=>{e.next()}))}var DE,jC;(jC=DE||(DE={})).Ma="default",jC.Cache="cache";class I_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==DE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.key=e}}class b6{constructor(e){this.key=e}}class HH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yt(),this.mutatedKeys=yt(),this.eu=U3(e),this.tu=new ec(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new BC,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const E=i.get(m),w=e0(this.query,g)?g:null,x=!!E&&this.mutatedKeys.has(E.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;E&&w?E.data.isEqual(w.data)?x!==C&&(r.track({type:3,doc:w}),I=!0):this.su(E,w)||(r.track({type:2,doc:w}),I=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(c=!0)):!E&&w?(r.track({type:0,doc:w}),I=!0):E&&!w&&(r.track({type:1,doc:E}),I=!0,(h||f)&&(c=!0)),I&&(w?(l=l.add(w),o=C?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,g)=>(function(w,x){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Rt:I})}};return C(w)-C(x)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new bc(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new b6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new y6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=yt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const N_="SyncEngine";class zH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qH{constructor(e){this.key=e,this.hu=!1}}class YH{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Yl((c=>B3(c)),Jg),this.Iu=new Map,this.Eu=new Set,this.du=new un(Ve.comparator),this.Au=new Map,this.Ru=new p_,this.Vu={},this.mu=new Map,this.fu=yc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GH(t,e,n=!0){const r=x6(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await E6(r,e,n,!0),i}async function $H(t,e){const n=x6(t);await E6(n,e,!0,!1)}async function E6(t,e,n,r){const i=await fH(t.localStore,Ds(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await KH(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&h6(t.remoteStore,i),c}async function KH(t,e,n,r,i){t.pu=(g,E,w)=>(async function(C,I,k,Y){let F=I.view.ru(k);F.Cs&&(F=await RC(C.localStore,I.query,!1).then((({documents:B})=>I.view.ru(B,F))));const X=Y&&Y.targetChanges.get(I.targetId),ne=Y&&Y.targetMismatches.get(I.targetId)!=null,K=I.view.applyChanges(F,C.isPrimaryClient,X,ne);return FC(C,I.targetId,K.au),K.snapshot})(t,g,E,w);const o=await RC(t.localStore,e,!0),l=new HH(e,o.Qs),c=l.ru(o.documents),h=pf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,h);FC(t,n,f.au);const m=new zH(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function QH(t,e,n){const r=Je(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!Jg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&E_(r.remoteStore,i.targetId),OE(r,i.targetId)})).catch(Oc)):(OE(r,i.targetId),await kE(r.localStore,i.targetId,!0))}async function WH(t,e){const n=Je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),E_(n.remoteStore,r.targetId))}async function XH(t,e,n){const r=iz(t);try{const i=await(function(l,c){const h=Je(l),f=Xt.now(),m=c.reduce(((w,x)=>w.add(x.key)),yt());let g,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let x=va(),C=yt();return h.Ns.getEntries(w,m).next((I=>{x=I,x.forEach(((k,Y)=>{Y.isValidDocument()||(C=C.add(k))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,x))).next((I=>{g=I;const k=[];for(const Y of c){const F=dF(Y,g.get(Y.key).overlayedDocument);F!=null&&k.push(new Uo(Y.key,F,N3(F.value.mapValue),Ni.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,k,c)})).next((I=>{E=I;const k=I.applyToLocalDocumentSet(g,C);return h.documentOverlayCache.saveOverlays(w,I.batchId,k)}))})).then((()=>({batchId:E.batchId,changes:V3(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new un(gt)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await yf(r,i.changes),await a0(r.remoteStore)}catch(i){const o=x_(i,"Failed to persist write");n.reject(o)}}async function T6(t,e){const n=Je(t);try{const r=await cH(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(Pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Pt(l.hu,14607):i.removedDocuments.size>0&&(Pt(l.hu,42227),l.hu=!1))})),await yf(n,r,e)}catch(r){await Oc(r)}}function VC(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=Je(l);h.onlineState=c;let f=!1;h.queries.forEach(((m,g)=>{for(const E of g.Sa)E.va(c)&&(f=!0)})),f&&C_(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZH(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new un(Ve.comparator);l=l.insert(o,fr.newNoDocument(o,Xe.min()));const c=yt().add(o),h=new r0(Xe.min(),new Map,new un(gt),l,c);await T6(r,h),r.du=r.du.remove(o),r.Au.delete(e),k_(r)}else await kE(r.localStore,e,!1).then((()=>OE(r,e,n))).catch(Oc)}async function JH(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await uH(n.localStore,e);w6(n,r,null),_6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yf(n,i)}catch(i){await Oc(i)}}async function ez(t,e,n){const r=Je(t);try{const i=await(function(l,c){const h=Je(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next((g=>(Pt(g!==null,37113),m=g.keys(),h.mutationQueue.removeMutationBatch(f,g)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);w6(r,e,n),_6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yf(r,i)}catch(i){await Oc(i)}}function _6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function w6(t,e,n){const r=Je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function OE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||v6(t,r)}))}function v6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(E_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),k_(t))}function FC(t,e,n){for(const r of n)r instanceof y6?(t.Ru.addReference(r.key,e),tz(t,r)):r instanceof b6?(Le(N_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||v6(t,r.key)):$e(19791,{wu:r})}function tz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le(N_,"New document in limbo: "+n),t.Eu.add(r),k_(t))}function k_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(Gt.fromString(e)),r=t.fu.next();t.Au.set(r,new qH(n)),t.du=t.du.insert(n,r),h6(t.remoteStore,new bo(Ds(Zg(n.path)),r,"TargetPurposeLimboResolution",Qg.ce))}}async function yf(t,e,n){const r=Je(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){i.push(f);const m=y_.As(h.targetId,f);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const m=Je(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Te.forEach(f,(E=>Te.forEach(E.Es,(w=>m.persistence.referenceDelegate.addReference(g,E.targetId,w))).next((()=>Te.forEach(E.ds,(w=>m.persistence.referenceDelegate.removeReference(g,E.targetId,w)))))))))}catch(g){if(!Pc(g))throw g;Le(b_,"Failed to update sequence numbers: "+g)}for(const g of f){const E=g.targetId;if(!g.fromCache){const w=m.Ms.get(E),x=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(x);m.Ms=m.Ms.insert(E,C)}}})(r.localStore,o))}async function nz(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Le(N_,"User change. New user:",e.toKey());const r=await o6(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new Oe(be.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yf(n,r.Ls)}}function rz(t,e){const n=Je(t),r=n.Au.get(e);if(r&&r.hu)return yt().add(r.key);{let i=yt();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function x6(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZH.bind(null,e),e.Pu.H_=VH.bind(null,e.eventManager),e.Pu.yu=FH.bind(null,e.eventManager),e}function iz(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ez.bind(null,e),e}class ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=i0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lH(this.persistence,new sH,e.initialUser,this.serializer)}Cu(e){return new a6(g_.mi,this.serializer)}Du(e){return new pH}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ug.provider={build:()=>new ug};class sz extends ug{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Pt(this.persistence.referenceDelegate instanceof og,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Br.withCacheSize(this.cacheSizeBytes):Br.DEFAULT;return new a6((r=>og.mi(r,n)),this.serializer)}}class PE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nz.bind(null,this.syncEngine),await BH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jH})()}createDatastore(e){const n=i0(e.databaseInfo.databaseId),r=(function(o){return new TH(o)})(e.databaseInfo);return(function(o,l,c,h){return new xH(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,c){return new SH(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>VC(this.syncEngine,n,0)),(function(){return PC.v()?new PC:new gH})())}createSyncEngine(e,n){return(function(i,o,l,c,h,f,m){const g=new YH(i,o,l,c,h,f);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Je(n);Le(Bl,"RemoteStore shutting down."),r.Ea.add(5),await gf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}PE.provider={build:()=>new PE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="FirestoreClient";class az{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dr.UNAUTHENTICATED,this.clientId=r_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Le(Po,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Le(Po,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function f1(t,e){t.asyncQueue.verifyOperationInProgress(),Le(Po,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await o6(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function HC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oz(t);Le(Po,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>MC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>MC(e.remoteStore,i))),t._onlineComponents=e}async function oz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(Po,"Using user provided OfflineComponentProvider");try{await f1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;hc("Error using user provided cache. Falling back to memory cache: "+n),await f1(t,new ug)}}else Le(Po,"Using default OfflineComponentProvider"),await f1(t,new sz(void 0));return t._offlineComponents}async function A6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(Po,"Using user provided OnlineComponentProvider"),await HC(t,t._uninitializedComponentsProvider._online)):(Le(Po,"Using default OnlineComponentProvider"),await HC(t,new PE))),t._onlineComponents}function lz(t){return A6(t).then((e=>e.syncEngine))}async function cg(t){const e=await A6(t),n=e.eventManager;return n.onListen=GH.bind(null,e.syncEngine),n.onUnlisten=QH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$H.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WH.bind(null,e.syncEngine),n}function uz(t,e,n={}){const r=new ma;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,f){const m=new R_({next:E=>{m.Nu(),l.enqueueAndForget((()=>S_(o,g)));const w=E.docs.has(c);!w&&E.fromCache?f.reject(new Oe(be.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&h&&h.source==="server"?f.reject(new Oe(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),g=new I_(Zg(c.path),m,{includeMetadataChanges:!0,qa:!0});return A_(o,g)})(await cg(t),t.asyncQueue,e,n,r))),r.promise}function cz(t,e,n={}){const r=new ma;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,f){const m=new R_({next:E=>{m.Nu(),l.enqueueAndForget((()=>S_(o,g))),E.fromCache&&h.source==="server"?f.reject(new Oe(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),g=new I_(c,m,{includeMetadataChanges:!0,qa:!0});return A_(o,g)})(await cg(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="firestore.googleapis.com",qC=!0;class YC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C6,this.ssl=qC}else this.host=e.host,this.ssl=e.ssl??qC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HF)throw new Oe(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Oe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class o0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gV;switch(r.type){case"firstParty":return new TV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=zC.get(n);r&&(Le("ComponentProvider","Removing Datastore"),zC.delete(n),r.terminate())})(this),Promise.resolve()}}function hz(t,e,n,r={}){t=Fr(t,o0);const i=Mo(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(XT(`https://${c}`),ZT("Firestore",!0)),o.host!==C6&&o.host!==c&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:i,emulatorOptions:r};if(!Ta(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=dr.MOCK_USER;else{f=i3(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Oe(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new dr(g)}t._authCredentials=new yV(new y3(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jo(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ff(n,mn._jsonSchema))return new mn(e,r||null,new Ve(Gt.fromString(n.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:Fn("string",mn._jsonSchemaVersion),referencePath:Fn("string")};class Ao extends jo{constructor(e,n,r){super(e,n,Zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Ve(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function Hr(t,e,...n){if(t=rn(t),b3("collection","path",e),t instanceof o0){const r=Gt.fromString(e,...n);return iC(r),new Ao(t,null,r)}{if(!(t instanceof mn||t instanceof Ao))throw new Oe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return iC(r),new Ao(t.firestore,null,r)}}function vn(t,e,...n){if(t=rn(t),arguments.length===1&&(e=r_.newId()),b3("doc","path",e),t instanceof o0){const r=Gt.fromString(e,...n);return rC(r),new mn(t,null,new Ve(r))}{if(!(t instanceof mn||t instanceof Ao))throw new Oe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return rC(r),new mn(t.firestore,t instanceof Ao?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="AsyncQueue";class $C{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u6(this,"async_queue_retry"),this._c=()=>{const r=d1();r&&Le(GC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=d1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=d1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pc(e))throw e;Le(GC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,wa("INTERNAL UNHANDLED ERROR: ",KC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=v_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&$e(47125,{Pc:KC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function KC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class xa extends o0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $C,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $C(e),this._firestoreClient=void 0,await e}}}function dz(t,e){const n=typeof t=="object"?t:t_(),r=typeof t=="string"?t:ng,i=$g(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=t3("firestore");o&&hz(i,...o)}return i}function l0(t){if(t._terminated)throw new Oe(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fz(t),t._firestoreClient}function fz(t){const e=t._freezeSettings(),n=(function(i,o,l,c){return new BV(i,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,S6(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new az(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Si(lr.fromBase64String(e))}catch(n){throw new Oe(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Si(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ff(e,Si._jsonSchema))return Si.fromBase64String(e.bytes)}}Si._jsonSchemaVersion="firestore/bytes/1.0",Si._jsonSchema={type:Fn("string",Si._jsonSchemaVersion),bytes:Fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ps._jsonSchemaVersion}}static fromJSON(e){if(ff(e,Ps._jsonSchema))return new Ps(e.latitude,e.longitude)}}Ps._jsonSchemaVersion="firestore/geoPoint/1.0",Ps._jsonSchema={type:Fn("string",Ps._jsonSchemaVersion),latitude:Fn("number"),longitude:Fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ff(e,Ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ls(e.vectorValues);throw new Oe(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ls._jsonSchemaVersion="firestore/vectorValue/1.0",Ls._jsonSchema={type:Fn("string",Ls._jsonSchemaVersion),vectorValues:Fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=/^__.*__$/;class pz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new mf(e,this.data,n,this.fieldTransforms)}}class I6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function N6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ac:t})}}class c0{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new c0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(N6(this.Ac)&&mz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||i0(e)}Cc(e,n,r,i=!1){return new c0({Ac:e,methodName:n,Dc:r,path:or.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h0(t){const e=t._freezeSettings(),n=i0(t._databaseId);return new gz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k6(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);L_("Data must be an object, but it was:",l,r);const c=D6(r,l);let h,f;if(o.merge)h=new ri(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const E=LE(e,g,n);if(!l.contains(E))throw new Oe(be.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);P6(m,E)||m.push(E)}h=new ri(m),f=l.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,f=l.fieldTransforms;return new pz(new jr(c),h,f)}class d0 extends Bc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof d0}}function R6(t,e,n){return new c0({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class D_ extends Bc{_toFieldTransform(e){return new c_(e.path,new Wd)}isEqual(e){return e instanceof D_}}class O_ extends Bc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=R6(this,e,!0),r=this.vc.map((o=>$l(o,n))),i=new pc(r);return new c_(e.path,i)}isEqual(e){return e instanceof O_&&Ta(this.vc,e.vc)}}class P_ extends Bc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=R6(this,e,!0),r=this.vc.map((o=>$l(o,n))),i=new gc(r);return new c_(e.path,i)}isEqual(e){return e instanceof P_&&Ta(this.vc,e.vc)}}function yz(t,e,n,r){const i=t.Cc(1,e,n);L_("Data must be an object, but it was:",i,r);const o=[],l=jr.empty();Bo(r,((h,f)=>{const m=M_(e,h,n);f=rn(f);const g=i.yc(m);if(f instanceof d0)o.push(m);else{const E=$l(f,g);E!=null&&(o.push(m),l.set(m,E))}}));const c=new ri(o);return new I6(l,c,i.fieldTransforms)}function bz(t,e,n,r,i,o){const l=t.Cc(1,e,n),c=[LE(e,r,n)],h=[i];if(o.length%2!=0)throw new Oe(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(LE(e,o[E])),h.push(o[E+1]);const f=[],m=jr.empty();for(let E=c.length-1;E>=0;--E)if(!P6(f,c[E])){const w=c[E];let x=h[E];x=rn(x);const C=l.yc(w);if(x instanceof d0)f.push(w);else{const I=$l(x,C);I!=null&&(f.push(w),m.set(w,I))}}const g=new ri(f);return new I6(m,g,l.fieldTransforms)}function Ez(t,e,n,r=!1){return $l(n,t.Cc(r?4:3,e))}function $l(t,e){if(O6(t=rn(t)))return L_("Unsupported field value:",e,t),D6(t,e);if(t instanceof Bc)return(function(r,i){if(!N6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let h=$l(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Xt.fromDate(r);return{timestampValue:ag(i.serializer,o)}}if(r instanceof Xt){const o=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ag(i.serializer,o)}}if(r instanceof Ps)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Si)return{bytesValue:Z3(i.serializer,r._byteString)};if(r instanceof mn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:m_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ls)return(function(l,c){return{mapValue:{fields:{[C3]:{stringValue:I3},[rg]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return u_(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Kg(r)}`)})(t,e)}function D6(t,e){const n={};return _3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(t,((r,i)=>{const o=$l(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function O6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof Ps||t instanceof Si||t instanceof mn||t instanceof Bc||t instanceof Ls)}function L_(t,e,n){if(!O6(n)||!E3(n)){const r=Kg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function LE(t,e,n){if((e=rn(e))instanceof u0)return e._internalPath;if(typeof e=="string")return M_(t,e);throw hg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tz=new RegExp("[~\\*/\\[\\]]");function M_(t,e,n){if(e.search(Tz)>=0)throw hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new u0(...e.split("."))._internalPath}catch{throw hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hg(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Oe(be.INVALID_ARGUMENT,c+t+h)}function P6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _z extends L6{data(){return super.data()}}function f0(t,e){return typeof e=="string"?M_(t,e):e instanceof u0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B_{}class B6 extends B_{}function Xd(t,e,...n){let r=[];e instanceof B_&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((h=>h instanceof U_)).length,c=o.filter((h=>h instanceof m0)).length;if(l>1||l>0&&c>0)throw new Oe(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class m0 extends B6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new m0(e,n,r)}_apply(e){const n=this._parse(e);return U6(e._query,n),new jo(e.firestore,e.converter,xE(e._query,n))}_parse(e){const n=h0(e.firestore);return(function(o,l,c,h,f,m,g){let E;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Oe(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){XC(g,m);const x=[];for(const C of g)x.push(WC(h,o,C));E={arrayValue:{values:x}}}else E=WC(h,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||XC(g,m),E=Ez(c,l,g,m==="in"||m==="not-in");return Vn.create(f,m,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ME(t,e,n){const r=e,i=f0("where",t);return m0._create(i,r,n)}class U_ extends B_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Zi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)U6(l,h),l=xE(l,h)})(e._query,n),new jo(e.firestore,e.converter,xE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j_ extends B6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new j_(e,n)}_apply(e){const n=(function(i,o,l){if(i.startAt!==null)throw new Oe(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Oe(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qd(o,l)})(e._query,this._field,this._direction);return new jo(e.firestore,e.converter,(function(i,o){const l=i.explicitOrderBy.concat([o]);return new Lc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function V_(t,e="asc"){const n=e,r=f0("orderBy",t);return j_._create(r,n)}function WC(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new Oe(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M3(e)&&n.indexOf("/")!==-1)throw new Oe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!Ve.isDocumentKey(r))throw new Oe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dC(t,new Ve(r))}if(n instanceof mn)return dC(t,n._key);throw new Oe(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kg(n)}.`)}function XC(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U6(t,e){const n=(function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Oe(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wz{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bo(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[rg].arrayValue?.values?.map((r=>wn(r.doubleValue)));return new Ls(n)}convertGeoPoint(e){return new Ps(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gd(e));default:return null}}convertTimestamp(e){const n=ko(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Pt(i6(r),9688,{name:e});const i=new $d(r.get(1),r.get(3)),o=new Ve(r.popFirst(5));return i.isEqual(n)||wa(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class fd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nl extends L6{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(f0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nl._jsonSchema={type:Fn("string",Nl._jsonSchemaVersion),bundleSource:Fn("string","DocumentSnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class Up extends Nl{data(e={}){return super.data(e)}}class kl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Up(this._firestore,this._userDataWriter,r.key,r,new fd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new Up(i._firestore,i._userDataWriter,c.doc.key,c.doc,new fd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new Up(i._firestore,i._userDataWriter,c.doc.key,c.doc,new fd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:vz(c.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=r_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){t=Fr(t,mn);const e=Fr(t.firestore,xa);return uz(l0(e),t._key).then((n=>V6(e,t,n)))}kl._jsonSchemaVersion="firestore/querySnapshot/1.0",kl._jsonSchema={type:Fn("string",kl._jsonSchemaVersion),bundleSource:Fn("string","QuerySnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class F_ extends wz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function dg(t){t=Fr(t,jo);const e=Fr(t.firestore,xa),n=l0(e),r=new F_(e);return M6(t._query),cz(n,t._query).then((i=>new kl(e,r,t,i)))}function Rl(t,e,n){t=Fr(t,mn);const r=Fr(t.firestore,xa),i=j6(t.converter,e,n);return g0(r,[k6(h0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ni.none())])}function Ec(t,e,n,...r){t=Fr(t,mn);const i=Fr(t.firestore,xa),o=h0(i);let l;return l=typeof(e=rn(e))=="string"||e instanceof u0?bz(o,"updateDoc",t._key,e,n,r):yz(o,"updateDoc",t._key,e),g0(i,[l.toMutation(t._key,Ni.exists(!0))])}function p0(t){return g0(Fr(t.firestore,xa),[new h_(t._key,Ni.none())])}function bf(t,e){const n=Fr(t.firestore,xa),r=vn(t),i=j6(t.converter,e);return g0(n,[k6(h0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ni.exists(!1))]).then((()=>r))}function Ef(t,...e){t=rn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||QC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(QC(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,l,c;if(t instanceof mn)l=Fr(t.firestore,xa),c=Zg(t._key.path),o={next:h=>{e[r]&&e[r](V6(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Fr(t,jo);l=Fr(h.firestore,xa),c=h._query;const f=new F_(l);o={next:m=>{e[r]&&e[r](new kl(l,f,h,m))},error:e[r+1],complete:e[r+2]},M6(t._query)}return(function(f,m,g,E){const w=new R_(E),x=new I_(m,w,g);return f.asyncQueue.enqueueAndForget((async()=>A_(await cg(f),x))),()=>{w.Nu(),f.asyncQueue.enqueueAndForget((async()=>S_(await cg(f),x)))}})(l0(l),c,i,o)}function g0(t,e){return(function(r,i){const o=new ma;return r.asyncQueue.enqueueAndForget((async()=>XH(await lz(r),i,o))),o.promise})(l0(t),e)}function V6(t,e,n){const r=n.docs.get(e._key),i=new F_(t);return new Nl(t,i,e._key,r,new fd(n.hasPendingWrites,n.fromCache),e.converter)}function ca(){return new D_("serverTimestamp")}function ZC(...t){return new O_("arrayUnion",t)}function xz(...t){return new P_("arrayRemove",t)}(function(e,n=!0){(function(i){Dc=i})(ql),Ll(new Io("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new xa(new bV(r.getProvider("auth-internal")),new _V(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(f.options.projectId,m)})(l,i),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Rs(JS,eC,e),Rs(JS,eC,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="firebasestorage.googleapis.com",H6="storageBucket",Az=120*1e3,Sz=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn extends js{constructor(e,n,r=0){super(m1(e),`Firebase Storage: ${n} (${m1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return m1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pn||(pn={}));function m1(t){return"storage/"+t}function H_(){const t="An unknown error occurred, please check the error payload for server response.";return new gn(pn.UNKNOWN,t)}function Cz(t){return new gn(pn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Iz(t){return new gn(pn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Nz(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gn(pn.UNAUTHENTICATED,t)}function kz(){return new gn(pn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Rz(t){return new gn(pn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Dz(){return new gn(pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Oz(){return new gn(pn.CANCELED,"User canceled the upload/download.")}function Pz(t){return new gn(pn.INVALID_URL,"Invalid URL '"+t+"'.")}function Lz(t){return new gn(pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Mz(){return new gn(pn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+H6+"' property when initializing the app?")}function Bz(){return new gn(pn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Uz(){return new gn(pn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jz(t){return new gn(pn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function BE(t){return new gn(pn.INVALID_ARGUMENT,t)}function z6(){return new gn(pn.APP_DELETED,"The Firebase app was deleted.")}function Vz(t){return new gn(pn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ad(t,e){return new gn(pn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ed(t){throw new gn(pn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ii.makeFromUrl(e,n)}catch{return new ii(e,"")}if(r.path==="")return r;throw Lz(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function f(X){X.path_=decodeURIComponent(X.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${m}/b/${i}/o${E}`,"i"),x={bucket:1,path:3},C=n===F6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",k=new RegExp(`^https?://${C}/${i}/${I}`,"i"),F=[{regex:c,indices:h,postModify:o},{regex:w,indices:x,postModify:f},{regex:k,indices:{bucket:1,path:2},postModify:f}];for(let X=0;X<F.length;X++){const ne=F[X],K=ne.regex.exec(e);if(K){const B=K[ne.indices.bucket];let O=K[ne.indices.path];O||(O=""),r=new ii(B,O),ne.postModify(r);break}}if(r==null)throw Pz(e);return r}}class Fz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t,e,n){let r=1,i=null,o=null,l=!1,c=0;function h(){return c===2}let f=!1;function m(...I){f||(f=!0,e.apply(null,I))}function g(I){i=setTimeout(()=>{i=null,t(w,h())},I)}function E(){o&&clearTimeout(o)}function w(I,...k){if(f){E();return}if(I){E(),m.call(null,I,...k);return}if(h()||l){E(),m.call(null,I,...k);return}r<64&&(r*=2);let F;c===1?(c=2,F=0):F=(r+Math.random())*1e3,g(F)}let x=!1;function C(I){x||(x=!0,E(),!f&&(i!==null?(I||(c=2),clearTimeout(i),g(0)):I||(c=1)))}return g(0),o=setTimeout(()=>{l=!0,C(!0)},n),C}function zz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t){return t!==void 0}function Yz(t){return typeof t=="object"&&!Array.isArray(t)}function z_(t){return typeof t=="string"||t instanceof String}function JC(t){return q_()&&t instanceof Blob}function q_(){return typeof Blob<"u"}function eI(t,e,n,r){if(r<e)throw BE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw BE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function q6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Dl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dl||(Dl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,n,r,i,o,l,c,h,f,m,g,E=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=g,this.retry=E,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,C)=>{this.resolve_=x,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new yp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Dl.NO_ERROR,h=o.getStatus();if(!c||Gz(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Dl.ABORT;r(!1,new yp(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new yp(f,o))})},n=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());qz(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=H_();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?z6():Oz();l(h)}else{const h=Dz();l(h)}};this.canceled_?n(!1,new yp(!1,null,!0)):this.backoffId_=Hz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Kz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Qz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Wz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Xz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Zz(t,e,n,r,i,o,l=!0,c=!1){const h=q6(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return Wz(m,e),Kz(m,n),Qz(m,o),Xz(m,r),new $z(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eq(...t){const e=Jz();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(q_())return new Blob(t);throw new gn(pn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t){if(typeof atob>"u")throw jz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class p1{constructor(e,n){this.data=e,this.contentType=n||null}}function rq(t,e){switch(t){case Is.RAW:return new p1(Y6(e));case Is.BASE64:case Is.BASE64URL:return new p1(G6(t,e));case Is.DATA_URL:return new p1(sq(e),aq(e))}throw H_()}function Y6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function iq(t){let e;try{e=decodeURIComponent(t)}catch{throw Ad(Is.DATA_URL,"Malformed data URL.")}return Y6(e)}function G6(t,e){switch(t){case Is.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ad(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Is.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ad(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nq(e)}catch(i){throw i.message.includes("polyfill")?i:Ad(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ad(Is.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=oq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function sq(t){const e=new $6(t);return e.base64?G6(Is.BASE64,e.rest):iq(e.rest)}function aq(t){return new $6(t).contentType}function oq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){let r=0,i="";JC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(JC(this.data_)){const r=this.data_,i=tq(r,e,n);return i===null?null:new mo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new mo(r,!0)}}static getBlob(...e){if(q_()){const n=e.map(r=>r instanceof mo?r.data_:r);return new mo(eq.apply(null,n))}else{const n=e.map(l=>z_(l)?rq(Is.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new mo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){let e;try{e=JSON.parse(t)}catch{return null}return Yz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Q6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t,e){return e}class wr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||cq}}let bp=null;function hq(t){return!z_(t)||t.length<2?t:Q6(t)}function W6(){if(bp)return bp;const t=[];t.push(new wr("bucket")),t.push(new wr("generation")),t.push(new wr("metageneration")),t.push(new wr("name","fullPath",!0));function e(o,l){return hq(l)}const n=new wr("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const i=new wr("size");return i.xform=r,t.push(i),t.push(new wr("timeCreated")),t.push(new wr("updated")),t.push(new wr("md5Hash",null,!0)),t.push(new wr("cacheControl",null,!0)),t.push(new wr("contentDisposition",null,!0)),t.push(new wr("contentEncoding",null,!0)),t.push(new wr("contentLanguage",null,!0)),t.push(new wr("contentType",null,!0)),t.push(new wr("metadata","customMetadata",!0)),bp=t,bp}function dq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new ii(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function fq(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return dq(r,t),r}function X6(t,e,n){const r=K6(e);return r===null?null:fq(t,r,n)}function mq(t,e,n,r){const i=K6(e);if(i===null||!z_(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,g=t.fullPath,E="/b/"+l(m)+"/o/"+l(g),w=Y_(E,n,r),x=q6({alt:"media",token:f});return w+x})[0]}function pq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Z6{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){if(!t)throw H_()}function gq(t,e){function n(r,i){const o=X6(t,i,e);return J6(o!==null),o}return n}function yq(t,e){function n(r,i){const o=X6(t,i,e);return J6(o!==null),mq(o,i,t.host,t._protocol)}return n}function eD(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=kz():i=Nz():n.getStatus()===402?i=Iz(t.bucket):n.getStatus()===403?i=Rz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function bq(t){const e=eD(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Cz(t.path)),o.serverResponse=i.serverResponse,o}return n}function Eq(t,e,n){const r=e.fullServerUrl(),i=Y_(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new Z6(i,o,yq(t,n),l);return c.errorHandler=bq(e),c}function Tq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _q(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Tq(null,e)),r}function wq(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let F="";for(let X=0;X<2;X++)F=F+Math.random().toString().slice(2);return F}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const f=_q(e,r,i),m=pq(f,n),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,E=`\r
--`+h+"--",w=mo.getBlob(g,r,E);if(w===null)throw Bz();const x={name:f.fullPath},C=Y_(o,t.host,t._protocol),I="POST",k=t.maxUploadRetryTime,Y=new Z6(C,I,gq(t,n),k);return Y.urlParams=x,Y.headers=l,Y.body=w.uploadData(),Y.errorHandler=eD(e),Y}class vq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw ed("cannot .send() more than once");if(Mo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ed("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ed("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ed("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ed("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xq extends vq{initXhr(){this.xhr_.responseType="text"}}function tD(){return new xq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this._service=e,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ul(e,n)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Q6(this._location.path)}get storage(){return this._service}get parent(){const e=lq(this._location.path);if(e===null)return null;const n=new ii(this._location.bucket,e);return new Ul(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Vz(e)}}function Aq(t,e,n){t._throwIfRoot("uploadBytes");const r=wq(t.storage,t._location,W6(),new mo(e,!0),n);return t.storage.makeRequestWithTokens(r,tD).then(i=>({metadata:i,ref:t}))}function Sq(t){t._throwIfRoot("getDownloadURL");const e=Eq(t.storage,t._location,W6());return t.storage.makeRequestWithTokens(e,tD).then(n=>{if(n===null)throw Uz();return n})}function Cq(t,e){const n=uq(t._location.path,e),r=new ii(t._location.bucket,n);return new Ul(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){return/^[A-Za-z]+:\/\//.test(t)}function Nq(t,e){return new Ul(t,e)}function nD(t,e){if(t instanceof G_){const n=t;if(n._bucket==null)throw Mz();const r=new Ul(n,n._bucket);return e!=null?nD(r,e):r}else return e!==void 0?Cq(t,e):t}function kq(t,e){if(e&&Iq(e)){if(t instanceof G_)return Nq(t,e);throw BE("To use ref(service, url), the first argument must be a Storage instance.")}else return nD(t,e)}function tI(t,e){const n=e?.[H6];return n==null?null:ii.makeFromBucketSpec(n,t)}function Rq(t,e,n,r={}){t.host=`${e}:${n}`;const i=Mo(e);i&&(XT(`https://${t.host}/b`),ZT("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:i3(o,t.app.options.projectId))}class G_{constructor(e,n,r,i,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=F6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Az,this._maxUploadRetryTime=Sz,this._requests=new Set,i!=null?this._bucket=ii.makeFromBucketSpec(i,this._host):this._bucket=tI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=tI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ul(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Fz(z6());{const l=Zz(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const nI="@firebase/storage",rI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="storage";function iI(t,e,n){return t=rn(t),Aq(t,e,n)}function sI(t){return t=rn(t),Sq(t)}function aI(t,e){return t=rn(t),kq(t,e)}function Dq(t=t_(),e){t=rn(t);const r=$g(t,rD).getImmediate({identifier:e}),i=t3("storage");return i&&Oq(r,...i),r}function Oq(t,e,n,r={}){Rq(t,e,n,r)}function Pq(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new G_(n,r,i,e,ql)}function Lq(){Ll(new Io(rD,Pq,"PUBLIC").setMultipleInstances(!0)),Rs(nI,rI,""),Rs(nI,rI,"esm2020")}Lq();function iD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mq=iD,sD=new hf("auth","Firebase",iD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new JT("@firebase/auth");function Bq(t,...e){fg.logLevel<=pt.WARN&&fg.warn(`Auth (${ql}): ${t}`,...e)}function jp(t,...e){fg.logLevel<=pt.ERROR&&fg.error(`Auth (${ql}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,...e){throw K_(t,...e)}function Qi(t,...e){return K_(t,...e)}function $_(t,e,n){const r={...Mq(),[e]:n};return new hf("auth","Firebase",r).create(e,{appName:t.name})}function pa(t){return $_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ki(t,"argument-error"),$_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sD.create(t,...e)}function Ge(t,e,...n){if(!t)throw K_(e,...n)}function ha(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jp(e),new Error(e)}function Aa(t,e){t||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof self<"u"&&self.location?.href||""}function jq(){return oI()==="http:"||oI()==="https:"}function oI(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jq()||$7()||"connection"in navigator)?navigator.onLine:!0}function Fq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Aa(n>e,"Short delay should be less than long delay!"),this.isMobile=q7()||K7()}get(){return Vq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){Aa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qq=new Tf(3e4,6e4);function Sa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vs(t,e,n,r,i={}){return oD(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=df({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return G7()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Mo(t.emulatorConfig.host)&&(f.credentials="include"),aD.fetch()(await lD(t,t.config.apiHost,n,c),f)})}async function oD(t,e,n){t._canInitEmulator=!1;const r={...Hq,...e};try{const i=new Gq(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ep(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ep(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Ep(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Ep(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw $_(t,m,f);ki(t,m)}}catch(i){if(i instanceof js)throw i;ki(t,"network-request-failed",{message:String(i)})}}async function _f(t,e,n,r,i={}){const o=await Vs(t,e,n,r,i);return"mfaPendingCredential"in o&&ki(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function lD(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?Q_(t.config,i):`${t.config.apiScheme}://${i}`;return zq.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function Yq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),qq.get())})}}function Ep(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qi(t,e,r);return i.customData._tokenResponse=n,i}function lI(t){return t!==void 0&&t.enterprise!==void 0}class $q{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Yq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kq(t,e){return Vs(t,"GET","/v2/recaptchaConfig",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qq(t,e){return Vs(t,"POST","/v1/accounts:delete",e)}async function mg(t,e){return Vs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wq(t,e=!1){const n=rn(t),r=await n.getIdToken(e),i=W_(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Sd(g1(i.auth_time)),issuedAtTime:Sd(g1(i.iat)),expirationTime:Sd(g1(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function g1(t){return Number(t)*1e3}function W_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const i=JR(n);return i?JSON.parse(i):(jp("Failed to decode base64 JWT payload"),null)}catch(i){return jp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uI(t){const e=W_(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof js&&Xq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Xq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sd(this.lastLoginAt),this.creationTime=Sd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(t){const e=t.auth,n=await t.getIdToken(),r=await Tc(t,mg(e,{idToken:n}));Ge(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?uD(i.providerUserInfo):[],l=eY(t.providerData,o),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=c?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new jE(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function Jq(t){const e=rn(t);await pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tY(t,e){const n=await oD(t,{},async()=>{const r=df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await lD(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&Mo(t.emulatorConfig.host)&&(h.credentials="include"),aD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nY(t,e){return Vs(t,"POST","/v2/accounts:revokeToken",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=uI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await tY(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new nc;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ki{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Zq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Tc(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Wq(this,e)}reload(){return Jq(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await Tc(this,Qq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:E,isAnonymous:w,providerData:x,stsTokenManager:C}=n;Ge(g&&C,e,"internal-error");const I=nc.fromJSON(this.name,C);Ge(typeof g=="string",e,"internal-error"),lo(r,e.name),lo(i,e.name),Ge(typeof E=="boolean",e,"internal-error"),Ge(typeof w=="boolean",e,"internal-error"),lo(o,e.name),lo(l,e.name),lo(c,e.name),lo(h,e.name),lo(f,e.name),lo(m,e.name);const k=new Ki({uid:g,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:I,createdAt:f,lastLoginAt:m});return x&&Array.isArray(x)&&(k.providerData=x.map(Y=>({...Y}))),h&&(k._redirectEventId=h),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new nc;i.updateFromServerResponse(n);const o=new Ki({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pg(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?uD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new nc;c.updateFromIdToken(r);const h=new Ki({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Map;function da(t){Aa(t instanceof Function,"Expected a class definition");let e=cI.get(t);return e?(Aa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cD.type="NONE";const hI=cD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t,e,n){return`firebase:${t}:${e}:${n}`}class rc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Vp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mg(this.auth,{idToken:e}).catch(()=>{});return n?Ki._fromGetAccountInfoResponse(this.auth,n,e):null}return Ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rc(da(hI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||da(hI);const l=Vp(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let g;if(typeof m=="string"){const E=await mg(e,{idToken:m}).catch(()=>{});if(!E)break;g=await Ki._fromGetAccountInfoResponse(e,E,m)}else g=Ki._fromJSON(e,m);f!==o&&(c=g),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new rc(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new rc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gD(e))return"Blackberry";if(yD(e))return"Webos";if(dD(e))return"Safari";if((e.includes("chrome/")||fD(e))&&!e.includes("edge/"))return"Chrome";if(pD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function hD(t=gr()){return/firefox\//i.test(t)}function dD(t=gr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fD(t=gr()){return/crios\//i.test(t)}function mD(t=gr()){return/iemobile/i.test(t)}function pD(t=gr()){return/android/i.test(t)}function gD(t=gr()){return/blackberry/i.test(t)}function yD(t=gr()){return/webos/i.test(t)}function X_(t=gr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rY(t=gr()){return X_(t)&&!!window.navigator?.standalone}function iY(){return Q7()&&document.documentMode===10}function bD(t=gr()){return X_(t)||pD(t)||yD(t)||gD(t)||/windows phone/i.test(t)||mD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e=[]){let n;switch(t){case"Browser":n=dI(gr());break;case"Worker":n=`${dI(gr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ql}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(t,e={}){return Vs(t,"GET","/v2/passwordPolicy",Sa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=6;class lY{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fI(this),this.idTokenSubscription=new fI(this),this.beforeStateQueue=new sY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=da(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mg(this,{idToken:e}),r=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ur(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(pa(this));const n=e?rn(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aY(this),n=new lY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nY(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&da(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ED(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Bq(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ca(t){return rn(t)}class fI{constructor(e){this.auth=e,this.observer=null,this.addObserver=rj(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cY(t){y0=t}function TD(t){return y0.loadJS(t)}function hY(){return y0.recaptchaEnterpriseScript}function dY(){return y0.gapiScript}function fY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mY{constructor(){this.enterprise=new pY}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pY{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gY="recaptcha-enterprise",_D="NO_RECAPTCHA";class yY{constructor(e){this.type=gY,this.auth=Ca(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{Kq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new $q(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;lI(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(_D)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mY().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&lI(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=hY();h.length!==0&&(h+=c),TD(h).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function mI(t,e,n,r=!1,i=!1){const o=new yY(t);let l;if(i)l=_D;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function gg(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await mI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await mI(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(t,e){const n=$g(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ta(o,e??{}))return i;ki(i,"already-initialized")}return n.initialize({options:e})}function EY(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(da);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function TY(t,e,n){const r=Ca(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=wD(e),{host:l,port:c}=_Y(e),h=c===null?"":`:${c}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(Ta(f,r.config.emulator)&&Ta(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Mo(l)?(XT(`${o}//${l}${h}`),ZT("Auth",!0)):wY()}function wD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _Y(t){const e=wD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:pI(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:pI(l)}}}function pI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,n){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function vY(t,e){return Vs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xY(t,e){return _f(t,"POST","/v1/accounts:signInWithPassword",Sa(t,e))}async function AY(t,e){return Vs(t,"POST","/v1/accounts:sendOobCode",Sa(t,e))}async function SY(t,e){return AY(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CY(t,e){return _f(t,"POST","/v1/accounts:signInWithEmailLink",Sa(t,e))}async function IY(t,e){return _f(t,"POST","/v1/accounts:signInWithEmailLink",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends Z_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,n,"signInWithPassword",xY);case"emailLink":return CY(e,{email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,r,"signUpPassword",vY);case"emailLink":return IY(e,{idToken:n,email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e){return _f(t,"POST","/v1/accounts:signInWithIdp",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY="http://localhost";class jl extends Z_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new jl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ic(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ic(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ic(e,n)}buildRequest(){const e={requestUri:NY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RY(t){const e=ld(ud(t)).link,n=e?ld(ud(e)).deep_link_id:null,r=ld(ud(t)).deep_link_id;return(r?ld(ud(r)).link:null)||r||n||e||t}class J_{constructor(e){const n=ld(ud(e)),r=n.apiKey??null,i=n.oobCode??null,o=kY(n.mode??null);Ge(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=RY(e);try{return new J_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this.providerId=Uc.PROVIDER_ID}static credential(e,n){return Zd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=J_.parseLink(n);return Ge(r,"argument-error"),Zd._fromEmailAndCode(e,r.code,r.tenantId)}}Uc.PROVIDER_ID="password";Uc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends e2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends wf{constructor(){super("facebook.com")}static credential(e){return jl._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jl._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return la.credential(n,r)}catch{return null}}}la.GOOGLE_SIGN_IN_METHOD="google.com";la.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends wf{constructor(){super("github.com")}static credential(e){return jl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.GITHUB_SIGN_IN_METHOD="github.com";go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends wf{constructor(){super("twitter.com")}static credential(e,n){return jl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yo.credential(n,r)}catch{return null}}}yo.TWITTER_SIGN_IN_METHOD="twitter.com";yo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DY(t,e){return _f(t,"POST","/v1/accounts:signUp",Sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ki._fromIdTokenResponse(e,r,i),l=gI(r);return new Vl({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gI(r);return new Vl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends js{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yg(e,n,r,i)}}function vD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(t,o,e,r):o})}async function OY(t,e,n=!1){const r=await Tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PY(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(pa(r));const i="reauthenticate";try{const o=await Tc(t,vD(r,i,e,t),n);Ge(o.idToken,r,"internal-error");const l=W_(o.idToken);Ge(l,r,"internal-error");const{sub:c}=l;return Ge(t.uid===c,r,"user-mismatch"),Vl._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ki(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e,n=!1){if(Ur(t.app))return Promise.reject(pa(t));const r="signIn",i=await vD(t,r,e),o=await Vl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function LY(t,e){return xD(Ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t){const e=Ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MY(t,e,n){const r=Ca(t);await gg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",SY)}async function BY(t,e,n){if(Ur(t.app))return Promise.reject(pa(t));const r=Ca(t),l=await gg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DY).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&AD(t),h}),c=await Vl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function UY(t,e,n){return Ur(t.app)?Promise.reject(pa(t)):LY(rn(t),Uc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AD(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jY(t,e){return Vs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=rn(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Tc(r,jY(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function VY(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function FY(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function jc(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}function t2(t){return rn(t).signOut()}const bg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bg,"1"),this.storage.removeItem(bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY=1e3,zY=10;class CD extends SD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);iY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CD.type="LOCAL";const qY=CD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID extends SD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ID.type="SESSION";const ND=ID;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new b0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await YY(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}b0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=n2("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const E=g;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function $Y(t){Ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function KY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QY(){return navigator?.serviceWorker?.controller||null}function WY(){return kD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebaseLocalStorageDb",XY=1,Eg="firebaseLocalStorage",DD="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function E0(t,e){return t.transaction([Eg],e?"readwrite":"readonly").objectStore(Eg)}function ZY(){const t=indexedDB.deleteDatabase(RD);return new vf(t).toPromise()}function VE(){const t=indexedDB.open(RD,XY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eg,{keyPath:DD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eg)?e(r):(r.close(),await ZY(),e(await VE()))})})}async function yI(t,e,n){const r=E0(t,!0).put({[DD]:e,value:n});return new vf(r).toPromise()}async function JY(t,e){const n=E0(t,!1).get(e),r=await new vf(n).toPromise();return r===void 0?null:r.value}function bI(t,e){const n=E0(t,!0).delete(e);return new vf(n).toPromise()}const eG=800,tG=3;class OD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=b0._getInstance(WY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KY(),!this.activeServiceWorker)return;this.sender=new GY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await VE();return await yI(e,bg,"1"),await bI(e,bg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=E0(i,!1).getAll();return new vf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OD.type="LOCAL";const nG=OD;new Tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e){return e?da(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends Z_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rG(t){return xD(t.auth,new r2(t),t.bypassAuthState)}function iG(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),PY(n,new r2(t),t.bypassAuthState)}async function sG(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),OY(n,new r2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rG;case"linkViaPopup":case"linkViaRedirect":return sG;case"reauthViaPopup":case"reauthViaRedirect":return iG;default:ki(this.auth,"internal-error")}}resolve(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG=new Tf(2e3,1e4);async function T0(t,e,n){if(Ur(t.app))return Promise.reject(Qi(t,"operation-not-supported-in-this-environment"));const r=Ca(t);Uq(t,e,e2);const i=PD(r,n);return new xl(r,"signInViaPopup",e,i).executeNotNull()}class xl extends LD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Aa(this.filter.length===1,"Popup operations only handle one event");const e=n2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aG.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG="pendingRedirect",Fp=new Map;class lG extends LD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fp.get(this.auth._key());if(!e){try{const r=await uG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fp.set(this.auth._key(),e)}return this.bypassAuthState||Fp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uG(t,e){const n=dG(e),r=hG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cG(t,e){Fp.set(t._key(),e)}function hG(t){return da(t._redirectPersistence)}function dG(t){return Vp(oG,t.config.apiKey,t.name)}async function fG(t,e,n=!1){if(Ur(t.app))return Promise.reject(pa(t));const r=Ca(t),i=PD(r,e),l=await new lG(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG=600*1e3;class pG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mG&&this.cachedEventUids.clear(),this.cachedEventUids.has(EI(e))}saveEventToCache(e){this.cachedEventUids.add(EI(e)),this.lastProcessedEventTime=Date.now()}}function EI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yG(t,e={}){return Vs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EG=/^https?/;async function TG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yG(t);for(const n of e)try{if(_G(n))return}catch{}ki(t,"unauthorized-domain")}function _G(t){const e=UE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!EG.test(n))return!1;if(bG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=new Tf(3e4,6e4);function TI(){const t=Ms().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vG(t){return new Promise((e,n)=>{function r(){TI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TI(),n(Qi(t,"network-request-failed"))},timeout:wG.get()})}if(Ms().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ms().gapi?.load)r();else{const i=fY("iframefcb");return Ms()[i]=()=>{gapi.load?r():n(Qi(t,"network-request-failed"))},TD(`${dY()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Hp=null,e})}let Hp=null;function xG(t){return Hp=Hp||vG(t),Hp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=new Tf(5e3,15e3),SG="__/auth/iframe",CG="emulator/auth/iframe",IG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kG(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Q_(e,CG):`https://${t.config.authDomain}/${SG}`,r={apiKey:e.apiKey,appName:t.name,v:ql},i=NG.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${df(r).slice(1)}`}async function RG(t){const e=await xG(t),n=Ms().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:kG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IG,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Qi(t,"network-request-failed"),c=Ms().setTimeout(()=>{o(l)},AG.get());function h(){Ms().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OG=500,PG=600,LG="_blank",MG="http://localhost";class _I{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BG(t,e,n,r=OG,i=PG){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...DG,width:r.toString(),height:i.toString(),top:o,left:l},f=gr().toLowerCase();n&&(c=fD(f)?LG:n),hD(f)&&(e=e||MG,h.scrollbars="yes");const m=Object.entries(h).reduce((E,[w,x])=>`${E}${w}=${x},`,"");if(rY(f)&&c!=="_self")return UG(e||"",c),new _I(null);const g=window.open(e||"",c,m);Ge(g,t,"popup-blocked");try{g.focus()}catch{}return new _I(g)}function UG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG="__/auth/handler",VG="emulator/auth/handler",FG=encodeURIComponent("fac");async function wI(t,e,n,r,i,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ql,eventId:i};if(e instanceof e2){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",nj(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof wf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${FG}=${encodeURIComponent(h)}`:"";return`${HG(t)}?${df(c).slice(1)}${f}`}function HG({config:t}){return t.emulator?Q_(t,VG):`https://${t.authDomain}/${jG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="webStorageSupport";class zG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ND,this._completeRedirectFn=fG,this._overrideRedirectResult=cG}async _openPopup(e,n,r,i){Aa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await wI(e,n,r,UE(),i);return BG(e,o,n2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await wI(e,n,r,UE(),i);return $Y(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Aa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RG(e),r=new pG(e);return n.register("authEvent",i=>(Ge(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(b1,{type:b1},i=>{const o=i?.[0]?.[b1];o!==void 0&&n(!!o),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bD()||dD()||X_()}}const qG=zG;var vI="@firebase/auth",xI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $G(t){Ll(new Io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ge(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ED(t)},f=new uY(r,i,o,h);return EY(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new Io("auth-internal",e=>{const n=Ca(e.getProvider("auth").getImmediate());return(r=>new YG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(vI,xI,GG(t)),Rs(vI,xI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG=300,QG=r3("authIdTokenMaxAge")||KG;let AI=null;const WG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QG)return;const i=n?.token;AI!==i&&(AI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function i2(t=t_()){const e=$g(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bY(t,{popupRedirectResolver:qG,persistence:[nG,qY,ND]}),r=r3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=WG(o.toString());FY(n,l,()=>l(n.currentUser)),VY(n,c=>l(c))}}const i=e3("auth");return i&&TY(n,`http://${i}`),n}function XG(){return document.getElementsByTagName("head")?.[0]??document}cY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Qi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",XG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$G("Browser");const ZG={apiKey:"AIzaSyBqkQYQiIzCYFOZkqrNFJWiSDABHS_Y6O4",authDomain:"novaglow-498e9.firebaseapp.com",projectId:"novaglow-498e9",storageBucket:"novaglow-498e9.firebasestorage.app",messagingSenderId:"167294777917",appId:"1:167294777917:web:1b27387755e68e0349c854"},s2=o3(ZG),wt=dz(s2),SI=Dq(s2),At=i2(s2),_0=new la,JG=["valchinininmayhuasca@crackthecode.la","fundadora@novaglow.com","hylromeroduran@crackthecode.la","editor@novaglow.com","s@gmail.com"];console.log("Firebase inicializado correctamente");const BD=q.createContext(),e$=({children:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState(!0),o=async(w,x)=>(await UY(At,w,x)).user,l=o,c=async(w,x,C,I=null,k="usuario")=>{const F=(await BY(At,w,x)).user;let X="";if(I){const ne=aI(SI,`usuarios/${F.uid}/${I.name}`);await iI(ne,I),X=await sI(ne)}return await y1(F,{displayName:C,photoURL:X||""}),await Rl(vn(wt,"usuarios",F.uid),{uid:F.uid,nombre:C,email:F.email,foto:X||null,role:k,rol:k,creadoEn:ca()}),n({uid:F.uid,email:F.email,displayName:C,foto:X||null,role:k,rol:k}),F},h=async()=>{const x=(await T0(At,_0)).user,C=vn(wt,"usuarios",x.uid),I=await tc(C);let k={};return I.exists()?k=I.data():(k={uid:x.uid,nombre:x.displayName||x.email.split("@")[0],email:x.email,foto:x.photoURL||null,role:"usuario",rol:"usuario",creadoEn:ca()},await Rl(C,k)),n({uid:x.uid,email:x.email,displayName:x.displayName||x.email.split("@")[0],foto:x.photoURL||null,role:k.role||k.rol||"usuario",rol:k.role||k.rol||"usuario"}),x},f=async w=>{if(!At.currentUser)return null;const x=At.currentUser.uid,C=aI(SI,`usuarios/${x}/perfil.jpg`);await iI(C,w);const I=await sI(C);return await y1(At.currentUser,{photoURL:I}),await Ec(vn(wt,"usuarios",x),{foto:I}),n(k=>({...k,foto:I})),I},m=async({nombre:w,foto:x})=>{if(!At.currentUser)return;const C=At.currentUser.uid;await y1(At.currentUser,{displayName:w??At.currentUser.displayName,photoURL:x!==void 0?x:At.currentUser.photoURL}),await Ec(vn(wt,"usuarios",C),{nombre:w??At.currentUser.displayName,foto:x!==void 0?x:At.currentUser.photoURL});const I=await tc(vn(wt,"usuarios",C)),k=I.exists()?I.data():{};n({uid:C,email:At.currentUser.email,displayName:k?.nombre||At.currentUser.displayName||"Usuario",foto:k?.foto??null,role:k?.role||k?.rol||"usuario"})},g=async()=>{await t2(At),n(null)},E=w=>MY(At,w);return q.useEffect(()=>{const w=jc(At,async x=>{if(!x){n(null),i(!1);return}const C=vn(wt,"usuarios",x.uid),I=await tc(C),k=I.exists()?I.data():{};n({uid:x.uid,email:x.email,displayName:k?.nombre||x.displayName||"Usuario",foto:k?.foto??x.photoURL??null,role:k?.role||k?.rol||"usuario",rol:k?.role||k?.rol||"usuario"}),i(!1)});return()=>w()},[]),T.jsx(BD.Provider,{value:{usuario:e,cargando:r,login:o,loginConEmail:l,registrarUsuario:c,loginGoogle:h,logout:g,resetPassword:E,updateUserProfile:m,subirFotoPerfil:f},children:t})},Ia=()=>q.useContext(BD);function t$({items:t=["Chaqueta acolchada","Suter de punto","Pantaln cargo","Vestido midi"],onClaim:e=()=>{},onClose:n=()=>{},delay:r=2500}){const{usuario:i,cargando:o}=Ia(),l=ts(),[c,h]=q.useState(!0),[f,m]=q.useState(!1),[g,E]=q.useState(!1),[w,x]=q.useState(null),[C,I]=q.useState(""),k="PRIMERA20";q.useEffect(()=>{if(o)return;(async()=>{if(i)try{const K=vn(wt,"cuponesReclamados",i.uid);(await tc(K)).exists()&&(E(!0),h(!1))}catch(K){console.error("Error verificando cupn:",K)}})();let ne;return ne=setTimeout(()=>{c&&(h(!1),g||m(!0))},r),()=>{ne&&clearTimeout(ne)}},[i,r,o,c,g]);const Y=async()=>{if(!w){I("Por favor, selecciona un producto para aplicar el descuento.");return}if(I(""),o){alert("Estamos verificando tu sesin. Intntalo de nuevo en un momento.");return}if(!i){localStorage.setItem("redirectAfterLogin",window.location.pathname),l("/login");return}try{await Rl(vn(wt,"cuponesReclamados",i.uid),{uid:i.uid,email:i.email,fecha:new Date().toISOString(),cupon:k,productoReclamado:w,estado:"reclamado"});const X=` Cupn Reclamado con xito! 

Cdigo: ${k}
El descuento del 20% aplica para la prenda: "${w}".

Revisa tu correo (${i.email}) para ms detalles.`;alert(X),E(!0),e(),n()}catch(X){const ne=` Hubo un error al reclamar el cupn.

Verifica tu conexin e intenta de nuevo. (Detalles: ${X.message})`;alert(ne)}},F=X=>{x(X),I("")};return o?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur",children:T.jsx("div",{className:"text-white text-xl font-bold",children:"Cargando..."})}):g?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur",children:T.jsxs(Wt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/90 p-8 rounded-2xl shadow-xl max-w-md text-center border border-pink-200",children:[T.jsx("h2",{className:"text-3xl font-bold text-pink-600 mb-3",children:"Cupn ya reclamado!"}),T.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Revisa tu correo para ms detalles o explora nuestra tienda para ms ofertas exclusivas."}),T.jsx("button",{onClick:n,className:"mt-6 bg-pink-600 hover:bg-pink-700 text-white px-6 py-2 rounded-xl shadow font-medium",children:"Cerrar"})]})}):T.jsxs(Vd,{children:[T.jsxs(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8,ease:"easeInOut"},className:"fixed inset-0 z-50 bg-linear-to-br from-pink-700/90 via-purple-900/90 to-black/90 backdrop-blur-md flex items-center justify-center",children:[c&&T.jsxs(Wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.2,ease:"easeInOut"},className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:[T.jsxs("div",{className:"absolute inset-0",children:[T.jsx("div",{className:"nova-bg absolute inset-0"}),T.jsx("div",{className:"nova-ring absolute -top-24 -left-24 w-240 h-240"}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[T.jsx("div",{className:"spark",style:{top:"20%",left:"10%"}}),T.jsx("div",{className:"spark",style:{top:"40%",left:"80%"}}),T.jsx("div",{className:"spark",style:{top:"70%",left:"50%"}}),T.jsx("div",{className:"spark",style:{top:"25%",left:"60%"}}),T.jsx("div",{className:"spark",style:{top:"55%",left:"20%"}})]})]}),T.jsxs(Wt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.9,ease:"anticipate"},className:"relative z-10 text-center px-6",children:[T.jsx("h2",{className:"text-4xl md:text-6xl font-extrabold tracking-tight text-white drop-shadow-lg",children:" NOVAGLOW "}),T.jsx("p",{className:"mt-3 text-sm md:text-base text-pink-100/90",children:"Un brillo especial para tu primera compra..."})]})]},"cinematic"),f&&T.jsx(Wt.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9},transition:{duration:.6,ease:"easeOut"},className:"relative z-20 w-full max-w-2xl mx-4",children:T.jsxs("div",{className:"mx-auto bg-linear-to-br from-white/95 to-pink-50/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-100/60 overflow-hidden",children:[T.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800",children:"Felicidades!"}),T.jsx("p",{className:"text-xs text-gray-500 mt-1 uppercase tracking-wide",children:"Cupn por primera compra"})]}),T.jsx("div",{className:"text-right",children:T.jsxs("div",{className:"inline-flex items-baseline space-x-2",children:[T.jsx("span",{className:"text-3xl md:text-4xl font-extrabold text-pink-600",children:"20%"}),T.jsx("span",{className:"text-sm text-gray-500",children:"descuento"})]})})]}),T.jsx("div",{className:"px-6 py-6 md:py-8 text-center",children:T.jsx(Vd,{mode:"wait",children:T.jsxs(Wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[T.jsxs("p",{className:"text-sm md:text-base text-gray-700 leading-relaxed",children:["OBTUVO UN DESCUENTO DEL"," ",T.jsx("span",{className:"font-semibold",children:"20%"})," EN PRENDAS SELECCIONADAS POR SU PRIMERA COMPRA.",T.jsx("br",{}),"**Selecciona una prenda para activar tu descuento!**"]}),T.jsx("div",{className:"mt-5 grid grid-cols-1 sm:grid-cols-2 gap-3",children:t.map((X,ne)=>{const K=w===X,B=K?"bg-pink-100/90 border-pink-500 ring-2 ring-pink-500 scale-[1.02]":"bg-white/80 border-gray-100 hover:bg-pink-50/70";return T.jsxs("button",{onClick:()=>F(X),className:`flex items-center space-x-3 rounded-xl p-3 border shadow-sm transition transform text-left w-full ${B}`,children:[T.jsx("div",{className:`w-10 h-10 rounded-md bg-linear-to-br flex items-center justify-center font-semibold text-sm ${K?"from-pink-500 to-pink-600 text-white":"from-pink-100 to-pink-50 text-pink-600"}`,children:ne+1}),T.jsx("div",{className:"text-sm text-gray-800",children:X})]},ne)})}),C&&T.jsx("p",{className:"mt-3 text-sm font-medium text-red-600 animate-pulse",children:C}),T.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Aplica solo en la prenda seleccionada. Ver trminos en la tienda."}),T.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[T.jsxs("div",{className:"flex gap-3 justify-center sm:justify-start",children:[T.jsx("button",{onClick:Y,className:"bg-pink-600 hover:bg-pink-700 text-white px-4 py-2 rounded-xl font-medium shadow-md transition",children:"Reclamar descuento"}),T.jsx("button",{onClick:n,className:"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-xl font-medium transition shadow-sm",children:"Cerrar"})]}),T.jsxs("div",{className:"text-right text-xs text-gray-500",children:[T.jsxs("div",{children:["Cdigo:"," ",T.jsx("span",{className:"font-semibold text-gray-700",children:k})]}),T.jsx("div",{className:"mt-1",children:"Vlido: 30 das desde la recepcin"})]})]})]},"coupon-form")})})]})},"coupon")]},"modal-overlay"),T.jsx("style",{children:` 
        .nova-bg {
          background:
            radial-gradient(20rem 20rem at 10% 30%, rgba(255,182,193,0.25), transparent 15%),
            radial-gradient(18rem 18rem at 80% 70%, rgba(255,105,180,0.18), transparent 12%),
            linear-gradient(135deg, rgba(255,240,245,0.05), rgba(255,230,240,0.02));
          animation: nova-shift 3.2s ease-in-out infinite alternate;
          filter: blur(18px) contrast(1.05);
        }
        .nova-ring {
          background: conic-gradient(from 90deg at 50% 50%, rgba(255,105,180,0.06), rgba(99,102,241,0.06), rgba(59,130,246,0.06));
          transform: rotate(12deg);
          filter: blur(28px) saturate(120%);
          animation: ring-rotate 5s linear infinite;
          opacity: 0.95;
          border-radius: 50%;
        }
        @keyframes nova-shift {
          0% { transform: translateY(0) scale(1); opacity: 1; }
          100% { transform: translateY(-10px) scale(1.02); opacity: 0.95; }
        }
        @keyframes ring-rotate {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        .spark {
          position: absolute;
          width: 10px;
          height: 10px;
          border-radius: 50%;
          box-shadow: 0 0 18px 6px rgba(255, 182, 193, 0.6);
          background: radial-gradient(circle at 40% 30%, white 0%, rgba(255,255,255,0.9) 10%, rgba(255,192,203,0.6) 45%, transparent 60%);
          opacity: 0;
          animation: sparkle 1.6s linear infinite;
          transform: translate(-50%, -50%) scale(0.8);
        }
        .spark:nth-child(1) { animation-delay: 0.05s; }
        .spark:nth-child(2) { animation-delay: 0.35s; }
        .spark:nth-child(3) { animation-delay: 0.7s; }
        .spark:nth-child(4) { animation-delay: 1.0s; }
        .spark:nth-child(5) { animation-delay: 1.4s; }
        @keyframes sparkle {
          0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5) rotate(0deg); }
          20% { opacity: 1; transform: translate(-50%, -50%) scale(1.2) rotate(10deg); }
          60% { opacity: 0.8; transform: translate(-50%, -50%) scale(0.9) rotate(40deg); }
          100% { opacity: 0; transform: translate(-50%, -50%) scale(0.4) rotate(80deg); }
        }
      `},"styles")]})}const CI=()=>{const[t,e]=q.useState(!1),n=()=>e(!0),r=()=>e(!1),i=()=>{console.log("Cupn reclamado"),r()};return T.jsxs(T.Fragment,{children:[T.jsxs("section",{className:"relative flex items-center justify-center min-h-screen overflow-hidden bg-linear-to-br from-rose-50 via-white to-pink-100 text-center",children:[T.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_30%,rgba(255,192,203,0.35),transparent_60%)]"}),T.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_80%_70%,rgba(255,182,193,0.25),transparent_60%)]"}),T.jsxs("div",{className:"relative z-10 max-w-4xl px-6 space-y-8 animate-fadeIn",children:[T.jsxs("h1",{className:"text-6xl sm:text-7xl font-extrabold text-gray-900 leading-tight",children:["Destella con"," ",T.jsx("span",{className:"bg-linear-to-r from-rose-400 via-pink-400 to-rose-500 text-transparent bg-clip-text animate-pulse",children:"Nova Glow"})]}),T.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Moda luminosa, delicada y chic. Prendas que reflejan tu luz interior con elegancia y sutileza."}),T.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[T.jsx(et,{to:"/productos",className:"bg-linear-to-r from-rose-400 to-pink-500 hover:from-rose-500 hover:to-pink-600 text-white text-lg sm:text-xl font-bold py-4 px-10 rounded-full shadow-lg transition-transform hover:scale-105",children:"Ver Catlogo Completo"}),T.jsx("button",{onClick:n,className:"bg-white/90 text-rose-500 border border-rose-300 hover:bg-rose-50 font-bold py-4 px-10 rounded-full shadow-md backdrop-blur-md transition-transform hover:scale-105",children:" Reclamar Oferta Secreta!"})]})]})]}),T.jsxs("section",{className:"bg-white py-24 text-center px-6",children:[T.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Tu Brillo. Nuestra Inspiracin."}),T.jsxs("p",{className:"text-gray-600 max-w-3xl mx-auto text-lg leading-relaxed",children:["En ",T.jsx("span",{className:"text-rose-500 font-semibold",children:"Nova Glow"})," creemos que la moda es ms que vestir bien: es una forma de expresin, un lenguaje visual y una manera de iluminar cada espacio al que llegas."]}),T.jsx("div",{className:"mt-16 grid md:grid-cols-3 gap-10 max-w-6xl mx-auto",children:[{titulo:"Diseo Contemporneo",desc:"Inspirados en las ltimas tendencias internacionales, fusionamos elegancia y suavidad en cada pieza."},{titulo:"Detalles que Encantan",desc:"Telas satinadas, tonos ros y acabados que resaltan tu esencia ms femenina."},{titulo:"Brilla con Propsito",desc:"Cada prenda se elabora con materiales responsables y procesos ticos que respetan el entorno."}].map((o,l)=>T.jsxs("div",{className:"p-8 bg-linear-to-b from-white to-rose-50 rounded-3xl shadow-lg hover:shadow-rose-200 transition-transform hover:-translate-y-2",children:[T.jsx("h3",{className:"text-2xl font-semibold text-rose-600 mb-3",children:o.titulo}),T.jsx("p",{className:"text-gray-600",children:o.desc})]},l))})]}),T.jsxs("section",{className:"relative py-24 bg-linear-to-br from-rose-50 via-white to-rose-100 text-center",children:[T.jsxs("h2",{className:"text-4xl font-bold text-gray-800 mb-8",children:["Coleccin ",T.jsx("span",{className:"text-rose-600",children:"Glow Season 2025"})]}),T.jsx("p",{className:"text-gray-600 mb-12 max-w-2xl mx-auto text-lg",children:"Diseada para mujeres que aman destacar con delicadeza: cortes fluidos, brillos sutiles y una energa elegante."}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 max-w-6xl mx-auto px-6",children:["img/conjunto1.jpg","img/conjunto2.jpg","img/conjunto3.jpg","img/conjunto4.jpg","img/conjunto5.jpg","img/conjunto6.jpg"].map((o,l)=>T.jsxs("div",{className:"group relative rounded-2xl overflow-hidden shadow-md hover:shadow-rose-200 transition-all duration-500",children:[T.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition"}),T.jsx("img",{src:o,alt:`Producto Nova Glow ${l+1}`,className:"w-full aspect-4/5 object-cover group-hover:scale-105 transition-transform duration-700"})]},l))}),T.jsx("div",{className:"mt-14",children:T.jsx(et,{to:"/productos",className:"inline-block bg-linear-to-r from-rose-400 to-pink-500 hover:from-rose-500 hover:to-pink-600 text-white font-bold py-4 px-10 rounded-full shadow-lg hover:scale-105 transition",children:"Explorar Coleccin Completa"})})]}),T.jsxs("section",{className:"bg-linear-to-r from-rose-100 via-pink-50 to-white py-24 text-center",children:[T.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-12",children:" Voces que Brillan "}),T.jsx("div",{className:"grid md:grid-cols-3 gap-10 max-w-6xl mx-auto px-6",children:[{texto:"Me sent empoderada y radiante en mi gala. Nova Glow fue mi mejor eleccin.",nombre:"Camila R."},{texto:"El detalle y la calidad son incomparables. Se nota el amor detrs de cada prenda.",nombre:"Valeria G."},{texto:"Compr un vestido para mi cumpleaos y fue un sueo. Brillaba toda la noche!",nombre:"Sofa L."}].map((o,l)=>T.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-md hover:shadow-rose-200 transition-transform hover:-translate-y-2",children:[T.jsx("p",{className:"text-gray-700 italic mb-4",children:o.texto}),T.jsx("h4",{className:"font-semibold text-rose-600",children:o.nombre})]},l))})]}),T.jsxs("section",{className:"bg-white text-center py-24 relative overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(255,182,193,0.15),transparent_70%)]"}),T.jsxs("div",{className:"relative z-10",children:[T.jsx("h2",{className:"text-5xl font-extrabold mb-6 text-rose-500",children:"S la Luz del Evento "}),T.jsx("p",{className:"text-lg mb-8 max-w-2xl mx-auto text-gray-600",children:"nete a la comunidad Nova Glow y descubre lo que significa vestir con confianza, elegancia y energa positiva."}),T.jsx(et,{to:"/productos",className:"inline-block bg-white border-2 border-rose-400 text-rose-500 font-bold py-4 px-10 rounded-full shadow-md hover:bg-rose-50 hover:shadow-rose-100 transition-transform hover:scale-105 duration-300",children:"Brillar Ahora"})]})]}),t&&T.jsx(t$,{onClose:r,onClaim:i})]})};function n$({categorias:t,onFilter:e}){const[n,r]=q.useState({categoria:"",precioMin:"",precioMax:"",nombre:"",orden:""}),i=o=>{const{name:l,value:c}=o.target,h={...n,[l]:c};r(h),e(h)};return T.jsxs("aside",{className:"w-64 bg-white p-4 shadow rounded-2xl",children:[T.jsx("h2",{className:"text-lg font-bold mb-2 text-pink-600",children:"Filtrar productos"}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-semibold",children:"Categora"}),T.jsxs("select",{name:"categoria",className:"w-full border p-2 rounded",onChange:i,children:[T.jsx("option",{value:"",children:"Todas"}),t.map(o=>T.jsx("option",{children:o},o))]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-semibold",children:"Rango de precio"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{name:"precioMin",type:"number",placeholder:"Mn",className:"w-1/2 border p-2 rounded",onChange:i}),T.jsx("input",{name:"precioMax",type:"number",placeholder:"Mx",className:"w-1/2 border p-2 rounded",onChange:i})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-semibold",children:"Buscar por nombre"}),T.jsx("input",{name:"nombre",type:"text",placeholder:"Buscar...",className:"w-full border p-2 rounded",onChange:i})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-semibold",children:"Ordenar por"}),T.jsxs("select",{name:"orden",className:"w-full border p-2 rounded",onChange:i,children:[T.jsx("option",{value:"",children:"Sin orden"}),T.jsx("option",{value:"asc",children:"Precio: menor a mayor"}),T.jsx("option",{value:"desc",children:"Precio: mayor a menor"})]})]})]})]})}var UD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},II=Sl.createContext&&Sl.createContext(UD),r$=["attr","size","title"];function i$(t,e){if(t==null)return{};var n=s$(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s$(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){a$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a$(t,e,n){return e=o$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=l$(t,"string");return typeof e=="symbol"?e:e+""}function l$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jD(t){return t&&t.map((e,n)=>Sl.createElement(e.tag,_g({key:n},e.attr),jD(e.child)))}function u$(t){return e=>Sl.createElement(c$,Tg({attr:_g({},t.attr)},e),jD(t.child))}function c$(t){var e=n=>{var{attr:r,size:i,title:o}=t,l=i$(t,r$),c=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Sl.createElement("svg",Tg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:_g(_g({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Sl.createElement("title",null,o),t.children)};return II!==void 0?Sl.createElement(II.Consumer,null,n=>e(n)):e(UD)}function h$(t){return u$({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}const Cd=[{id:1,name:"Vestido Corto 'NovaGlow'",category:"Ropa",description:"Un elegante vestido de corte A con encaje delicado y un brillo sutil. Perfecto para eventos formales o una salida especial.",price:129.99,discount:15,rating:4.5,image:"https://media.falabella.com/falabellaPE/21114789_1/w=1500,h=1500,fit=pad",gallery:["https://media.falabella.com/falabellaPE/21114789_2/w=1500,h=1500,fit=pad","https://media.falabella.com/falabellaPE/21114789_3/w=1500,h=1500,fit=pad","https://media.falabella.com/falabellaPE/21114789_2/w=1500,h=1500,fit=pad"],colors:["Dorado"],sizes:["S","M","L","XL"],stock:10},{id:2,name:"Blazer Satinado ",category:"Ropa",description:"Blazer moderno. Ideal para combinar con pantalones o faldas elegantes.",price:89.99,discount:10,rating:4.2,image:"https://media.falabella.com/falabellaPE/883521907_1/w=1500,h=1500,fit=pad",gallery:["https://media.falabella.com/falabellaPE/883521907_3/w=1500,h=1500,fit=pad","https://media.falabella.com/falabellaPE/883521907_5/w=1500,h=1500,fit=pad"],colors:["Dorado","Beige","Negro"],sizes:["S","M","L"],stock:5},{id:3,name:"Vestido Largo",category:"Ropa",description:"Pantaln de cuero sinttico ajustado con cintura alta. Perfecto para un look atrevido y moderno.",price:74.99,discount:5,rating:4.7,image:"https://media.falabella.com/falabellaPE/883509213_1/w=1500,h=1500,fit=pad",gallery:["https://media.falabella.com/falabellaPE/883509214_1/w=1500,h=1500,fit=pad","https://media.falabella.com/falabellaPE/883509215_1/w=1500,h=1500,fit=pad"],colors:["Negro"],sizes:["XS","S","M","L"],stock:40},{id:4,category:"Ropa",name:"Vestido Corto Blanco",description:"Top romntico con encaje floral, ideal para ocasiones especiales o looks casuales elegantes.",price:49.99,discount:0,rating:4.3,image:"https://media.falabella.com/falabellaPE/883511274_1/w=1500,h=1500,fit=pad",gallery:["https://media.falabella.com/falabellaPE/883511274_3/w=1500,h=1500,fit=pad","https://media.falabella.com/falabellaPE/883511274_2/w=1500,h=1500,fit=pad"],colors:["Blanco","Crema"],sizes:["S","M","L"],stock:60},{id:5,name:"Conjunto 'NovaGlow'",category:"Ropa",description:"Un elegante vestido con encaje delicado y un brillo sutil. Perfecto para eventos formales o una salida especial.",price:129.99,discount:15,rating:4.5,image:"https://media.falabella.com/falabellaPE/21114642_1/w=1500,h=1500,fit=pad",gallery:["https://media.falabella.com/falabellaPE/21114642_2/w=1500,h=1500,fit=pad","https://media.falabella.com/falabellaPE/21114642_4/w=1500,h=1500,fit=pad"],colors:["Dorado"],sizes:["S","M","L","XL"],stock:10},{id:6,name:"Vestido",category:"Ropa",description:"Blazer moderno con acabado satinado. Ideal para combinar con pantalones o faldas elegantes.",price:89.99,discount:10,rating:4.2,image:"https://rimage.ripley.com.pe/home.ripley/Attachment/MKP/3467/PMP20000376817/full_image-3.jpeg",gallery:["https://rimage.ripley.com.pe/home.ripley/Attachment/MKP/3467/PMP20000376817/imagen3-3.jpeg"],colors:["Dorado","Beige","Negro"],sizes:["S","M","L"],stock:35},{id:7,name:"Pantaln de Cuero Negro",category:"Ropa",description:"Pantaln de cuero sinttico ajustado con cintura alta. Perfecto para un look atrevido y moderno.",price:74.99,discount:5,rating:4.7,image:"https://media.falabella.com/falabellaPE/883443097_1/w=1500,h=1500,fit=pad",colors:["Negro"],sizes:["XS","S","M","L"],stock:40},{id:8,name:"Top de Encaje Blanco",category:"Ropa",description:"Top romntico con encaje floral, ideal para ocasiones especiales o looks casuales elegantes.",price:49.99,discount:0,rating:4.3,image:"https://media.falabella.com/falabellaPE/21169555_1/w=1500,h=1500,fit=pad",colors:["Blanco","Crema"],sizes:["S","M","L"],stock:60},{id:9,name:"Vestido Corto 'NovaGlow'",category:"Ropa",description:"Un elegante vestido con encaje delicado y un brillo sutil. Perfecto para eventos formales o una salida especial.",price:129.99,discount:15,rating:4.5,image:"https://media.falabella.com/falabellaPE/21114756_1/w=1500,h=1500,fit=pad",colors:["Dorado"],sizes:["S","M","L","XL"],stock:10},{id:10,name:"Pantaln de Cuero Negro",category:"Ropa",description:"Pantaln de cuero sinttico ajustado con cintura alta. Perfecto para un look atrevido y moderno.",price:74.99,discount:5,rating:4.7,image:"https://media.falabella.com/falabellaPE/21114673_1/w=1500,h=1500,fit=pad",colors:["Negro"],sizes:["XS","S","M","L"],stock:40},{id:11,name:"Top de Encaje Blanco",category:"Ropa",description:"Top romntico con encaje floral, ideal para ocasiones especiales o looks casuales elegantes.",price:49.99,discount:0,rating:4.3,image:"https://media.falabella.com/falabellaPE/21114778_1/w=1500,h=1500,fit=pad",colors:["Blanco","Crema"],sizes:["S","M","L"],stock:60},{id:12,category:"Maquillaje",name:"Labial Brillante",price:74.99,discount:5,rating:4.7,image:"https://media.falabella.com/falabellaPE/19806318_1/w=1500,h=1500,fit=pad",stock:40},{id:13,name:"Corector Lquido",category:"Maquillaje",price:49.99,discount:0,rating:4.3,image:"https://media.falabella.com/falabellaPE/13179967_10/w=1500,h=1500,fit=pad",stock:60},{id:14,name:"Labial Mate",category:"Maquillaje",price:49.99,discount:0,rating:4.3,image:"https://media.falabella.com/falabellaPE/20990522_1/w=1500,h=1500,fit=pad",stock:60},{id:15,name:"Bene Tint",category:"Maquillaje",price:49.99,discount:0,rating:4.3,image:"https://media.falabella.com/falabellaPE/883010378_1/w=1500,h=1500,fit=pad",stock:60},{id:16,name:"Labial rosa nude",category:"Maquillaje",price:12.99,discount:0,description:"Labial rosa nude hidratante para un look natural.",image:"https://i.pinimg.com/736x/ca/b8/29/cab8294334fe8a3d1bdcd72b3b57b25d.jpg",gallery:[],colors:["Rosa"],sizes:[],rating:4.5,stock:20},{id:17,name:"Sombras tonos clidos",category:"Maquillaje",price:18.99,discount:5,description:"Paleta de sombras con tonos clidos y verstiles.",image:"https://i.pinimg.com/736x/7b/ca/82/7bca82b43809c4cb08e19748c7a64a92.jpg",gallery:[],colors:[],sizes:[],rating:4.7,stock:15},{id:18,name:"Iluminador dorado",category:"Maquillaje",price:15.49,discount:0,description:"Iluminador dorado para resaltar tu belleza natural.",image:"https://i.pinimg.com/736x/72/76/9c/72769c8635a64eff714c4a5904c6cd4f.jpg",gallery:[],colors:[],sizes:[],rating:4.6,stock:18},{id:19,name:"Rmel volumen total",category:"Maquillaje",price:13.99,discount:0,description:"Rmel para pestaas largas y voluminosas.",image:"https://i.pinimg.com/736x/3f/f8/43/3ff843f98b18b7b4a84ad27889ec34b2.jpg",gallery:[],colors:[],sizes:[],rating:4.4,stock:30},{id:20,name:"Rmel volumen total",category:"Accesorios",price:13.99,discount:0,description:"Rmel para pestaas largas y voluminosas.",image:"https://media.falabella.com/falabellaPE/142795724_01/w=1500,h=1500,fit=pad",gallery:[],colors:[],sizes:[],rating:4.4,stock:30},{id:21,name:"Rmel volumen total",category:"Accesorios",price:13.99,discount:0,description:"Rmel para pestaas largas y voluminosas.",image:"https://media.falabella.com/falabellaPE/142808680_01/w=1500,h=1500,fit=pad",gallery:[],colors:[],sizes:[],rating:4.4,stock:30},{id:22,name:"Rmel volumen total",category:"Accesorios",price:13.99,discount:0,description:"Rmel para pestaas largas y voluminosas.",image:"https://media.falabella.com/falabellaPE/143217406_01/w=1500,h=1500,fit=pad",gallery:[],colors:[],sizes:[],rating:4.4,stock:30}];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function d$(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(m){try{f(r.next(m))}catch(g){l(g)}}function h(m){try{f(r.throw(m))}catch(g){l(g)}}function f(m){m.done?o(m.value):i(m.value).then(c,h)}f((r=r.apply(t,[])).next())})}function f$(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(m){return h([f,m])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(m){f=[6,m],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xu=function(){return Xu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Xu.apply(this,arguments)},VD=function(t){return{loading:t==null,value:t}},m$=function(){return function(t,e){switch(e.type){case"error":return Xu(Xu({},t),{error:e.error,loading:!1,value:void 0});case"reset":return VD(e.defaultValue);case"value":return Xu(Xu({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},p$=(function(t){var e=t?t():void 0,n=q.useReducer(m$(),VD(e)),r=n[0],i=n[1],o=q.useCallback(function(){var h=t?t():void 0;i({type:"reset",defaultValue:h})},[t]),l=q.useCallback(function(h){i({type:"error",error:h})},[]),c=q.useCallback(function(h){i({type:"value",value:h})},[]);return q.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:l,setValue:c,value:r.value}},[r.error,r.loading,o,l,c,r.value])}),FD=(function(t,e){var n=p$(function(){return t.currentUser}),r=n.error,i=n.loading,o=n.setError,l=n.setValue,c=n.value;return q.useEffect(function(){var h=jc(t,function(f){return d$(void 0,void 0,void 0,function(){var m;return f$(this,function(g){switch(g.label){case 0:return[3,4];case 1:return g.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return g.sent(),[3,4];case 3:return m=g.sent(),o(m),[3,4];case 4:return l(f),[2]}})})},o);return function(){h()}},[t]),[c,i,r]});function g$(){const[t]=FD(At),e=t&&JG.includes(t.email),[n,r]=q.useState([]),[i,o]=q.useState([]),[l,c]=q.useState(null),[h,f]=q.useState(!1),[m,g]=q.useState({name:"",description:"",price:"",category:"",image:""}),E=async()=>{try{const I=(await dg(Hr(wt,"productos"))).docs.map(X=>({id:X.id,fromFirebase:!0,...X.data()})),k=new Set(I.map(X=>String(X.id))),Y=Cd.filter(X=>!k.has(String(X.id))),F=[...I,...Y];r(F),o(F)}catch(C){console.error("Error cargando productos:",C),r([...Cd]),o([...Cd])}};q.useEffect(()=>{E()},[]);const w=(C={})=>{let I=[...n];C.categoria&&(I=I.filter(k=>String(k.category)===String(C.categoria))),C.precioMin!==void 0&&C.precioMin!==""&&(I=I.filter(k=>(k.price??0)>=parseFloat(C.precioMin))),C.precioMax!==void 0&&C.precioMax!==""&&(I=I.filter(k=>(k.price??0)<=parseFloat(C.precioMax))),C.nombre&&(I=I.filter(k=>String(k.name).toLowerCase().includes(String(C.nombre).toLowerCase()))),C.orden==="asc"?I.sort((k,Y)=>(k.price??0)-(Y.price??0)):C.orden==="desc"&&I.sort((k,Y)=>(Y.price??0)-(k.price??0)),o(I)},x=async()=>{if(!e){alert(" No tienes permisos para agregar productos");return}if(!m.name||!m.description||!m.category||!m.image){alert("Completa todos los campos (el precio es opcional )");return}try{const I={id:(await bf(Hr(wt,"productos"),{...m,price:m.price?parseFloat(m.price):null,discount:0,creador:t.email})).id,fromFirebase:!0,...m,price:m.price?parseFloat(m.price):null,discount:0,creador:t.email},k=[I,...n];r(k),o([I,...i]),alert("Producto agregado con xito "),f(!1),g({name:"",description:"",price:"",category:"",image:""})}catch(C){console.error("Error agregando producto:",C)}};return T.jsxs("div",{className:"flex p-6 gap-6 relative bg-pink-50 min-h-screen",children:[T.jsx(n$,{categorias:["Ropa","Maquillaje","Accesorios"],onFilter:w,className:"bg-white rounded-3xl p-6 shadow-lg w-64"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 flex-1",children:i.map(C=>T.jsxs("div",{className:"bg-white p-4 rounded-3xl shadow-md hover:shadow-xl transition-all relative flex flex-col",children:[T.jsxs("div",{className:"overflow-hidden rounded-2xl relative",children:[T.jsx(et,{to:`/producto/${C.id}`,children:T.jsx("img",{src:C.image,alt:C.name,className:"w-full h-64 object-cover transition-transform duration-500 hover:scale-105 cursor-pointer"})}),T.jsx("button",{onClick:()=>c(C),className:"absolute top-3 right-3 bg-white/80 p-3 rounded-full hover:bg-pink-200 transition",children:T.jsx(h$,{className:"text-pink-600 text-xl"})})]}),T.jsx("h3",{className:"font-bold text-lg mt-4",children:C.name}),T.jsx("p",{className:"text-gray-600 text-sm mt-1 flex-1",children:C.description}),T.jsx("p",{className:"text-pink-600 font-semibold mt-3",children:C.price?`S/${Number(C.price).toFixed(2)}`:"Precio no disponible"}),T.jsx(et,{to:`/producto/${C.id}`,className:"mt-4 text-center bg-pink-500 text-white py-2 rounded-2xl font-semibold hover:bg-pink-600 transition",children:"Ver detalles"}),T.jsx("div",{className:"mt-3 text-xs text-gray-400",children:C.fromFirebase?"Publicado desde Firebase":"Producto local (productosData)"})]},C.id+(C.fromFirebase?"-fb":"-local")))}),e&&T.jsx("button",{onClick:()=>f(!0),className:"fixed bottom-6 right-6 bg-pink-600 text-white px-6 py-3 rounded-full shadow-lg hover:bg-pink-700 transition font-bold z-50",children:"+ Agregar producto"}),l&&T.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 overflow-auto",children:T.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-3xl w-full relative shadow-xl",children:[T.jsx("button",{onClick:()=>c(null),className:"absolute top-3 right-3 text-gray-500 hover:text-red-500 text-3xl",children:""}),T.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[T.jsx(et,{to:`/producto/${l.id}`,onClick:()=>c(null),children:T.jsx("img",{src:l.image,alt:l.name,className:"rounded-2xl w-full lg:w-1/2 max-h-[600px] object-cover"})}),T.jsxs("div",{className:"flex flex-col justify-between lg:w-1/2",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-bold mb-4",children:l.name}),T.jsx("p",{className:"text-gray-600 mb-4",children:l.description})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-pink-600 font-semibold text-xl mb-4",children:l.price?`S/${Number(l.price).toFixed(2)}`:"Precio no disponible"}),T.jsx(et,{to:`/producto/${l.id}`,onClick:()=>c(null),className:"block text-center bg-pink-500 text-white py-3 rounded-2xl hover:bg-pink-600 transition font-semibold",children:"Ver producto completo"})]})]})]})]})}),e&&h&&T.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"bg-white p-6 rounded-3xl w-full max-w-lg relative shadow-xl",children:[T.jsx("button",{onClick:()=>f(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-red-500 text-3xl",children:""}),T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Agregar nuevo producto"}),T.jsxs("div",{className:"flex flex-col gap-3",children:[T.jsx("input",{type:"text",placeholder:"Nombre",className:"border p-2 rounded-xl",value:m.name,onChange:C=>g({...m,name:C.target.value})}),T.jsx("textarea",{placeholder:"Descripcin",className:"border p-2 rounded-xl",value:m.description,onChange:C=>g({...m,description:C.target.value})}),T.jsx("input",{type:"number",placeholder:"Precio (opcional)",className:"border p-2 rounded-xl",value:m.price,onChange:C=>g({...m,price:C.target.value})}),T.jsx("input",{type:"text",placeholder:"Categora",className:"border p-2 rounded-xl",value:m.category,onChange:C=>g({...m,category:C.target.value})}),T.jsx("input",{type:"text",placeholder:"URL de la imagen",className:"border p-2 rounded-xl",value:m.image,onChange:C=>g({...m,image:C.target.value})}),T.jsx("button",{onClick:x,className:"bg-pink-600 text-white py-2 rounded-xl font-bold hover:bg-pink-700 transition",children:"Guardar producto"})]})]})})]})}const HD=q.createContext(),zD=()=>q.useContext(HD),y$=({children:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState([]),[o,l]=q.useState(null);q.useEffect(()=>{const g=jc(At,E=>{console.log("[Favorite] onAuthStateChanged ->",E?.email||null),n(E||null)});return()=>g()},[]),q.useEffect(()=>{if(typeof o=="function"&&(o(),l(null)),!e){i([]);return}const g=e.uid,E=Hr(wt,"favoritos",g,"items"),w=Ef(E,x=>{const C=x.docs.map(I=>({id:I.id,...I.data()}));console.log("[Favorite] onSnapshot favorites:",C),i(C)},x=>{console.error("[Favorite] onSnapshot error:",x),i([])});return l(()=>w),()=>{w&&w()}},[e]);const c=async()=>{if(At.currentUser)return At.currentUser;const g=await T0(At,_0);return n(g.user),g.user},h=async g=>{try{let E=e||At.currentUser;if(E||(E=await c()),!E||!E.uid){console.warn("[Favorite] No se obtuvo uid tras login");return}const w=E.uid,x=vn(wt,"favoritos",w,"items",String(g.id));await Rl(x,{idProducto:String(g.id),name:g.name,price:g.price??null,image:g.image??g.gallery?.[0]??"",addedAt:new Date().toISOString()}),console.log(`[Favorite] agregado favorito ${g.id} para uid ${w}`)}catch(E){throw console.error("[Favorite] error agregarFavorito:",E),E}},f=async g=>{try{const E=At.currentUser?.uid||e?.uid;if(!E){console.warn("[Favorite] no hay uid para quitar favorito");return}await p0(vn(wt,"favoritos",E,"items",String(g))),console.log(`[Favorite] eliminado favorito ${g} para uid ${E}`)}catch(E){throw console.error("[Favorite] error quitarFavorito:",E),E}},m=g=>r.some(E=>String(E.idProducto||E.id)===String(g));return T.jsx(HD.Provider,{value:{user:e,favoritos:r,agregarFavorito:h,quitarFavorito:f,estaEnFavoritos:m,loginConPopup:c},children:t})},qD=q.createContext(),b$=()=>q.useContext(qD),E$=({children:t})=>{const[e,n]=q.useState({}),[r,i]=q.useState(null),[o,l]=q.useState({});q.useEffect(()=>{const m=jc(At,g=>{console.log("[Comentarios] auth:",g?.email||null),i(g||null)});return()=>m()},[]);const c=m=>{if(!m)return()=>{};if(o[m])return o[m];const g=Xd(Hr(wt,"comentarios"),ME("productId","==",String(m)),V_("createdAt","desc")),E=Ef(g,w=>{const x=w.docs.map(C=>({id:C.id,...C.data()}));console.log(`[Comentarios] snapshot ${m}:`,x),n(C=>({...C,[m]:x}))},w=>{console.error("[Comentarios] onSnapshot error:",w),n(x=>({...x,[m]:[]}))});return l(w=>({...w,[m]:E})),()=>{E&&E(),l(w=>{const x={...w};return delete x[m],x})}},h=async()=>{if(At.currentUser)return At.currentUser;const m=await T0(At,_0);return i(m.user),m.user},f=async(m,g)=>{if(!(!g||!g.trim()))try{let E=r;E||(E=await h());const w=E.displayName||E.email||"Usuario";await bf(Hr(wt,"comentarios"),{productId:String(m),texto:g.trim(),userName:w,createdAt:ca()}),console.log("[Comentarios] comentario aadido para",m)}catch(E){throw console.error("[Comentarios] error agregarComentario:",E),E}};return T.jsx(qD.Provider,{value:{comentariosPorProducto:e,suscribirseAComentarios:c,agregarComentario:f,usuario:r},children:t})};function T$({abierto:t,cerrar:e}){const{favoritos:n,quitarFavorito:r}=zD();return t?T.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"bg-white p-6 rounded-3xl max-w-lg w-full relative shadow-xl",children:[T.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-500 hover:text-red-500 text-3xl",children:""}),T.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Tus favoritos"}),n.length===0?T.jsx("p",{className:"text-center text-gray-500",children:"No hay favoritos an "}):T.jsx("div",{className:"flex flex-col gap-4",children:n.map(i=>T.jsxs("div",{className:"flex gap-3 items-center border p-3 rounded-xl",children:[T.jsx("img",{src:i.image,className:"w-16 h-16 object-cover rounded-xl",alt:i.name||""}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"font-bold",children:i.name}),T.jsx("p",{className:"text-pink-600 font-semibold",children:i.price?`S/${Number(i.price).toFixed(2)}`:""})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("button",{onClick:()=>r(i.id),className:"px-3 py-2 bg-white border rounded-xl hover:bg-pink-50",children:"Eliminar"}),T.jsx(et,{to:`/producto/${i.idProducto}`,onClick:e,className:"px-3 py-2 bg-pink-500 text-white rounded-xl text-center",children:"Ver"})]})]},i.id))})]})}):null}const _$=[{id:16,nombre:"Labial rosa nude",link:"https://i.pinimg.com/736x/ca/b8/29/cab8294334fe8a3d1bdcd72b3b57b25d.jpg"},{id:17,nombre:"Sombras tonos clidos",link:"https://i.pinimg.com/736x/7b/ca/82/7bca82b43809c4cb08e19748c7a64a92.jpg"},{id:18,nombre:"Iluminador dorado",link:"https://i.pinimg.com/736x/72/76/9c/72769c8635a64eff714c4a5904c6cd4f.jpg"},{id:19,nombre:"Rmel volumen total",link:"https://i.pinimg.com/736x/3f/f8/43/3ff843f98b18b7b4a84ad27889ec34b2.jpg"}],w$=[{id:20,nombre:"Collar minimalista dorado",link:"https://i.pinimg.com/736x/fe/eb/75/feeb75122196d09c7790e70ae0167d12.jpg"},{id:21,nombre:"Argolla dorado",link:"https://i.pinimg.com/736x/80/cf/da/80cfda63ef970b64d57f177b371ace49.jpg"},{id:22,nombre:"Bolso pequeo beige",link:"https://i.pinimg.com/736x/18/e0/49/18e0491791e065357f0637c97933b591.jpg"},{id:23,nombre:"Pulsera con charms",link:"https://i.pinimg.com/736x/5f/f9/bc/5ff9bcbb5852580f4f5d67e624e5dd89.jpg"}],v$=["Eres ms fuerte de lo que crees.","La moda no te define, tu actitud s.","Amarte es el primer paso para brillar.","Cada da es una nueva oportunidad para florecer."],x$=[{id:1,nombre:"KATSEYE - Mean Girls",url:"https://youtu.be/QQpAtjmCdKQ?si=OlzjuBNIU5iySHhH"},{id:2,nombre:"EASYKID - SHINY",url:"https://youtu.be/EHAEFXTntHI?si=zQmd2wsOYOY997tW"},{id:3,nombre:"5SOS - Easier",url:"https://youtu.be/b1dFSWLJ9wY?si=nZHzHIM9lNsOM_oG"}],A$=({className:t})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:T.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),S$=({className:t})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:T.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77V2z"})}),C$=({className:t})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:T.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})});function I$(){const{id:t}=uk(),{agregarAlCarrito:e}=gT(),n=Cd.find(J=>String(J.id)===String(t))||Cd[0],[r,i]=q.useState(n.gallery?.[0]||n.image||""),[o,l]=q.useState(n.colors?.[0]||""),[c,h]=q.useState(n.sizes?.[0]||""),[f,m]=q.useState(1),{favoritos:g,agregarFavorito:E,quitarFavorito:w,estaEnFavoritos:x,user:C,loginConPopup:I}=zD(),[k,Y]=q.useState(!1),{suscribirseAComentarios:F,comentariosPorProducto:X,agregarComentario:ne}=b$(),[K,B]=q.useState(""),O=X[t]||[],V=(n.price-n.price*(n.discount/100)).toFixed(2),P=J=>{const Z=[];for(let ce=1;ce<=5;ce++)J>=ce?Z.push(T.jsx(A$,{className:"text-yellow-400 fill-yellow-400"},ce)):J>=ce-.5?Z.push(T.jsx(S$,{className:"text-yellow-400 fill-yellow-400"},ce)):Z.push(T.jsx(C$,{className:"text-gray-300"},ce));return Z},R=()=>{if(!c){alert("Por favor, selecciona una talla antes de agregar al carrito.");return}const J={...n,price:parseFloat(V),image:r,size:c,color:o};e(J,f)};q.useEffect(()=>{const J=F(t);return()=>J&&J()},[t]);const U=async()=>{try{let J=C;J||(typeof I=="function"?J=await I():J=(await T0(At,_0)).user),x(n.id)?await w(n.id):await E(n),Y(!0)}catch(J){console.error("Error toggle favorito:",J)}},H=async J=>{if(J.preventDefault(),!!K.trim())try{await ne(t,K.trim()),B("")}catch(Z){console.error("Error guardando comentario:",Z)}},he=J=>{const Z=J.createdAt||J.fecha;try{return Z&&typeof Z.toDate=="function"?Z.toDate().toLocaleString():typeof Z=="string"?new Date(Z).toLocaleString():""}catch{return""}};return T.jsxs("div",{className:"bg-gray-50 min-h-screen py-10",children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 grid md:grid-cols-2 gap-10",children:[T.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[T.jsx("img",{src:r,alt:n.name,className:"w-full rounded-2xl shadow-lg object-cover h-[450px] transition-transform duration-500 hover:scale-[1.02]"}),T.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2 w-full justify-center",children:n.gallery?.map((J,Z)=>T.jsx("img",{src:J,alt:Z,onClick:()=>i(J),className:`w-20 h-24 object-cover rounded-xl cursor-pointer border-2 transition-all duration-300 ${r===J?"border-pink-500 scale-110 shadow-lg":"border-transparent opacity-70 hover:opacity-100"}`},Z))})]}),T.jsxs("div",{className:"flex flex-col space-y-5 pt-4",children:[T.jsx("h1",{className:"text-4xl font-extrabold text-gray-800",children:n.name}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"flex",children:P(n.rating)}),T.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.rating," / 5, ",O.length," reseas)"]})]}),T.jsxs("div",{className:"flex items-baseline space-x-3",children:[n.discount>0&&T.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["S/",n.price.toFixed(2)]}),T.jsxs("span",{className:"text-4xl font-bold text-pink-600",children:["S/",V]}),n.discount>0&&T.jsxs("span",{className:"text-base font-bold bg-red-100 text-red-600 px-3 py-1 rounded-full",children:[n.discount,"% OFF"]})]}),T.jsx("p",{className:"text-gray-600 leading-relaxed border-b pb-5",children:n.description}),T.jsx("div",{className:"flex space-x-3 mb-3",children:n.colors?.map(J=>T.jsx("div",{onClick:()=>l(J),className:`w-8 h-8 rounded-full border-4 cursor-pointer transition-all duration-200 ${o===J?"border-pink-500 scale-110 shadow-md":"border-gray-200 hover:border-pink-300"}`,style:{backgroundColor:J==="Rosa"?"#F472B6":J==="Negro"?"#111827":"#EAB308"},title:J},J))}),T.jsx("div",{className:"flex space-x-3 mb-3",children:n.sizes?.map(J=>T.jsx("button",{onClick:()=>h(J),className:`px-4 py-2 border rounded-xl font-medium ${c===J?"bg-pink-500 text-white shadow-md border-pink-500":"bg-white text-gray-700 hover:bg-pink-50 border-gray-300"}`,children:J},J))}),T.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[T.jsxs("div",{className:"flex items-center space-x-2 border border-gray-300 rounded-lg p-1",children:[T.jsx("button",{onClick:()=>m(Math.max(1,f-1)),className:"px-3 py-1 text-lg text-gray-600 hover:bg-gray-100 rounded-lg transition",children:""}),T.jsx("span",{className:"text-lg font-medium w-6 text-center",children:f}),T.jsx("button",{onClick:()=>m(f+1),className:"px-3 py-1 text-lg text-gray-600 hover:bg-gray-100 rounded-lg transition",children:"+"})]}),T.jsx("button",{onClick:R,className:"flex-1 bg-pink-500 text-white font-extrabold text-lg py-3 rounded-xl hover:bg-pink-600 transition-all shadow-lg",children:" Agregar al carrito"}),T.jsxs("button",{onClick:U,className:"ml-3 px-3 py-2 bg-white border border-pink-300 text-pink-600 rounded-xl hover:bg-pink-50 transition flex items-center gap-2",children:[T.jsx("span",{className:`text-xl ${x(n.id)?"text-red-500":"text-pink-600"}`,children:x(n.id)?"":""}),T.jsx("span",{className:"hidden sm:inline",children:"Favoritos"})]})]}),T.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Solo quedan ",n.stock," unidades disponibles."]})]})]}),T.jsxs("section",{className:"mt-12",children:[T.jsx("h2",{className:"text-3xl font-extrabold text-pink-700 mb-8 text-center",children:" Recomendaciones para completar tu look "}),T.jsxs("div",{className:"mb-10 p-6 bg-white rounded-2xl shadow-lg",children:[T.jsx("h3",{className:"text-xl font-medium mb-4 text-gray-800 border-b pb-2",children:" Maquillaje sugerido"}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:_$.map(J=>T.jsxs(et,{to:`/producto/${J.id}`,className:"bg-gray-50 shadow-md rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-[1.03] cursor-pointer block",children:[T.jsx("img",{src:J.link,alt:J.nombre,className:"w-full h-44 object-cover"}),T.jsx("div",{className:"p-3 text-center",children:T.jsx("p",{className:"text-gray-700 font-medium",children:J.nombre})})]},J.id))})]}),T.jsxs("div",{className:"mb-16 p-6 bg-white rounded-2xl shadow-lg",children:[T.jsx("h3",{className:"text-xl font-medium mb-4 text-gray-800 border-b pb-2",children:" Accesorios recomendados"}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:w$.map(J=>T.jsxs(et,{to:`/producto/${J.id}`,className:"bg-gray-50 shadow-md rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-[1.03] cursor-pointer block",children:[T.jsx("img",{src:J.link,alt:J.nombre,className:"w-full h-44 object-cover"}),T.jsx("div",{className:"p-3 text-center",children:T.jsx("p",{className:"text-gray-700 font-medium",children:J.nombre})})]},J.id))})]}),T.jsxs("section",{className:"bg-pink-100 py-10 rounded-3xl text-center shadow-inner mb-12",children:[T.jsx("h2",{className:"text-3xl font-extrabold text-pink-700 mb-8",children:" Insprate y sintete poderosa "}),T.jsx("div",{className:"flex flex-wrap justify-center gap-6 px-4",children:v$.map((J,Z)=>T.jsx("div",{className:"bg-white text-gray-700 px-6 py-3 rounded-xl shadow-md hover:shadow-lg max-w-sm transition-all duration-300 hover:scale-[1.05] font-medium italic",children:J},Z))}),T.jsxs("div",{className:"mt-10",children:[T.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-4",children:" Canciones para acompaarte"}),T.jsx("div",{className:"flex flex-wrap justify-center gap-4 px-4",children:x$.map(J=>T.jsx("a",{href:J.url,target:"_blank",rel:"noopener noreferrer",className:"bg-white px-5 py-2 rounded-full text-pink-600 shadow-lg hover:bg-pink-200 transition-all font-bold hover:scale-[1.05]",children:J.nombre},J.id))})]})]})]}),T.jsxs("div",{className:"p-8 bg-white rounded-3xl shadow-xl",children:[T.jsxs("h2",{className:"text-3xl font-extrabold text-pink-700 mb-6 border-b pb-3",children:[" Opiniones de Clientes (",O.length,")"]}),T.jsxs("form",{onSubmit:H,className:"mb-8 p-6 bg-pink-50 rounded-xl border border-pink-100 flex flex-col space-y-3",children:[T.jsx("textarea",{value:K,onChange:J=>B(J.target.value),placeholder:"Comparte tu experiencia...",className:"border-2 border-pink-300 rounded-lg p-3 focus:ring-4 focus:ring-pink-400 resize-none outline-none",rows:"3"}),T.jsx("button",{type:"submit",className:"self-start px-6 py-2 bg-pink-500 hover:bg-pink-600 text-white font-bold rounded-xl transition shadow-md",children:"Enviar"})]}),T.jsx("div",{className:"space-y-4",children:O.length>0?O.map(J=>T.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl shadow-sm border-l-4 border-pink-400",children:[T.jsxs("p",{className:"text-gray-800 italic mb-2",children:['"',J.texto,'"']}),T.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-2",children:[J.userName?`${J.userName} - `:"Compradora annima - ",he(J)]})]},J.id)):T.jsx("p",{className:"text-gray-500 italic text-center py-5",children:"S la primera en dejar una resea."})})]})]}),T.jsx(T$,{abierto:k,cerrar:()=>Y(!1)})]})}function N$(){const{carrito:t,eliminarDelCarrito:e,actualizarCantidad:n,total:r,vaciarCarrito:i}=gT(),o=ts(),[l,c]=q.useState(!1),[h,f]=q.useState({nombre:"",email:"",tarjeta:"",direccion:""}),m=E=>{const{name:w,value:x}=E.target;f(C=>({...C,[w]:x}))},g=E=>{E.preventDefault(),i(),o("/confirmacion")};return t.length===0?T.jsxs("div",{className:"p-8 text-center",children:[T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tu carrito est vaco "}),T.jsx(et,{to:"/",className:"text-pink-500 underline",children:"Volver a la tienda"})]}):T.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Tu carrito de compras"}),T.jsx("div",{className:"space-y-4",children:t.map(E=>T.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-xl shadow",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("img",{src:E.image,alt:E.name,className:"w-20 h-24 rounded-lg object-cover"}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-semibold",children:E.name}),T.jsxs("p",{className:"text-sm text-gray-600",children:["$",E.price.toFixed(2)]}),T.jsx("p",{className:"text-sm text-gray-400",children:E.category})]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:()=>n(E.id,E.cantidad-1),className:"px-2 py-1 bg-gray-200 rounded",children:"-"}),T.jsx("span",{children:E.cantidad}),T.jsx("button",{onClick:()=>n(E.id,E.cantidad+1),className:"px-2 py-1 bg-gray-200 rounded",children:"+"})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("p",{className:"font-semibold text-pink-600",children:["$",(E.price*E.cantidad).toFixed(2)]}),T.jsx("button",{onClick:()=>e(E.id),className:"text-red-500 hover:underline",children:"Eliminar"})]})]},E.id))}),T.jsxs("div",{className:"mt-6 text-right",children:[T.jsxs("p",{className:"text-xl font-semibold",children:["Total: $",r.toFixed(2)]}),l?null:T.jsx("button",{onClick:()=>c(!0),className:"mt-4 bg-pink-500 text-white px-6 py-2 rounded-xl hover:bg-pink-600",children:"Pagar"})]}),l&&T.jsxs("form",{onSubmit:g,className:"mt-6 bg-white p-6 rounded-xl shadow space-y-4 max-w-md mx-auto",children:[T.jsx("h3",{className:"text-xl font-bold text-pink-600 mb-2",children:"Datos de pago "}),T.jsx("input",{type:"text",name:"nombre",placeholder:"Nombre completo",value:h.nombre,onChange:m,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),T.jsx("input",{type:"email",name:"email",placeholder:"Correo electrnico",value:h.email,onChange:m,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),T.jsx("input",{type:"text",name:"tarjeta",placeholder:"Nmero de tarjeta",value:h.tarjeta,onChange:m,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),T.jsx("input",{type:"text",name:"direccion",placeholder:"Direccin de envo",value:h.direccion,onChange:m,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2"}),T.jsx("button",{type:"submit",className:"w-full bg-pink-500 text-white py-2 rounded-xl hover:bg-pink-600",children:"Confirmar pago"})]})]})}function k$(){return T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center",children:[T.jsx("h2",{className:"text-3xl font-bold text-pink-600 mb-4",children:"Pago exitoso! "}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Gracias por tu compra. Tu pedido est en proceso."}),T.jsx(et,{to:"/",className:"bg-pink-500 text-white px-6 py-2 rounded hover:bg-pink-600",children:"Volver a la tienda"})]})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),kI=t=>{const e=D$(t);return e.charAt(0).toUpperCase()+e.slice(1)},YD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),O$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},h)=>q.createElement("svg",{ref:h,...P$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:YD("lucide",i),...!o&&!O$(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>q.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=(t,e)=>{const n=q.forwardRef(({className:r,...i},o)=>q.createElement(L$,{ref:o,iconNode:e,className:YD(`lucide-${R$(kI(t))}`,`lucide-${t}`,r),...i}));return n.displayName=kI(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],B$=cn("aperture",M$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],j$=cn("camera",U$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GD=cn("chevron-down",V$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],H$=cn("circle-check-big",F$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$D=cn("eye",z$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],Y$=cn("feather",q$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],a2=cn("heart",G$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],K$=cn("instagram",$$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],W$=cn("loader",Q$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],Z$=cn("lock-keyhole",X$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wg=cn("lock",J$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FE=cn("log-out",eK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],nK=cn("mail",tK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iK=cn("menu",rK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],RI=cn("shield",sK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],oK=cn("shopping-cart",aK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],o2=cn("sparkles",lK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cK=cn("star",uK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],dK=cn("sun",hK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],mK=cn("twitter",fK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gK=cn("user",pK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vg=cn("x",yK);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],EK=cn("zap",bK);function TK({article:t}){const{titulo:e,contenido:n,imagenUrl:r,categoria:i,slug:o}=t,l=20,c=n.split(" "),h=c.length>l?c.slice(0,l).join(" ")+"...":n;return T.jsxs("div",{className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 cursor-pointer",children:[T.jsx(et,{to:`/inspiracion/${o}`,children:T.jsx("img",{src:r,alt:e,className:"w-full h-64 object-cover rounded-t-3xl"})}),T.jsxs("div",{className:"p-6 space-y-4",children:[i&&T.jsx("span",{className:"inline-block bg-fuchsia-100 text-fuchsia-600 text-sm font-semibold px-3 py-1 rounded-full",children:i}),T.jsx(et,{to:`/inspiracion/${o}`,children:T.jsx("h2",{className:"text-2xl font-bold text-gray-800 hover:text-fuchsia-600 transition",children:e})}),T.jsx("p",{className:"text-gray-600 leading-relaxed",children:h}),T.jsx("div",{className:"pt-2",children:T.jsx(et,{to:`/inspiracion/${o}`,className:"inline-block bg-fuchsia-600 text-white px-5 py-2 rounded-full font-medium hover:bg-fuchsia-700 transition-all shadow-md",children:"Leer ms"})})]})]})}var xf={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=(function(){if(!e.OffscreenCanvas)return!1;try{var D=new OffscreenCanvas(1,1),N=D.getContext("2d");N.fillRect(0,0,1,1);var ee=D.transferToImageBitmap();N.createPattern(ee,"no-repeat")}catch{return!1}return!0})();function h(){}function f(D){var N=n.exports.Promise,ee=N!==void 0?N:e.Promise;return typeof ee=="function"?new ee(D):(D(h,h),null)}var m=(function(D,N){return{transform:function(ee){if(D)return ee;if(N.has(ee))return N.get(ee);var M=new OffscreenCanvas(ee.width,ee.height),fe=M.getContext("2d");return fe.drawImage(ee,0,0),N.set(ee,M),M},clear:function(){N.clear()}}})(c,new Map),g=(function(){var D=Math.floor(16.666666666666668),N,ee,M={},fe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(N=function(ve){var _e=Math.random();return M[_e]=requestAnimationFrame(function we(ke){fe===ke||fe+D-1<ke?(fe=ke,delete M[_e],ve()):M[_e]=requestAnimationFrame(we)}),_e},ee=function(ve){M[ve]&&cancelAnimationFrame(M[ve])}):(N=function(ve){return setTimeout(ve,D)},ee=function(ve){return clearTimeout(ve)}),{frame:N,cancel:ee}})(),E=(function(){var D,N,ee={};function M(fe){function ve(_e,we){fe.postMessage({options:_e||{},callback:we})}fe.init=function(we){var ke=we.transferControlToOffscreen();fe.postMessage({canvas:ke},[ke])},fe.fire=function(we,ke,Pe){if(N)return ve(we,null),N;var Qe=Math.random().toString(36).slice(2);return N=f(function(We){function st(Ye){Ye.data.callback===Qe&&(delete ee[Qe],fe.removeEventListener("message",st),N=null,m.clear(),Pe(),We())}fe.addEventListener("message",st),ve(we,Qe),ee[Qe]=st.bind(null,{data:{callback:Qe}})}),N},fe.reset=function(){fe.postMessage({reset:!0});for(var we in ee)ee[we](),delete ee[we]}}return function(){if(D)return D;if(!r&&o){var fe=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{D=new Worker(URL.createObjectURL(new Blob([fe])))}catch(ve){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ve),null}M(D)}return D}})(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(D,N){return N?N(D):D}function C(D){return D!=null}function I(D,N,ee){return x(D&&C(D[N])?D[N]:w[N],ee)}function k(D){return D<0?0:Math.floor(D)}function Y(D,N){return Math.floor(Math.random()*(N-D))+D}function F(D){return parseInt(D,16)}function X(D){return D.map(ne)}function ne(D){var N=String(D).replace(/[^0-9a-f]/gi,"");return N.length<6&&(N=N[0]+N[0]+N[1]+N[1]+N[2]+N[2]),{r:F(N.substring(0,2)),g:F(N.substring(2,4)),b:F(N.substring(4,6))}}function K(D){var N=I(D,"origin",Object);return N.x=I(N,"x",Number),N.y=I(N,"y",Number),N}function B(D){D.width=document.documentElement.clientWidth,D.height=document.documentElement.clientHeight}function O(D){var N=D.getBoundingClientRect();D.width=N.width,D.height=N.height}function V(D){var N=document.createElement("canvas");return N.style.position="fixed",N.style.top="0px",N.style.left="0px",N.style.pointerEvents="none",N.style.zIndex=D,N}function P(D,N,ee,M,fe,ve,_e,we,ke){D.save(),D.translate(N,ee),D.rotate(ve),D.scale(M,fe),D.arc(0,0,1,_e,we,ke),D.restore()}function R(D){var N=D.angle*(Math.PI/180),ee=D.spread*(Math.PI/180);return{x:D.x,y:D.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:D.startVelocity*.5+Math.random()*D.startVelocity,angle2D:-N+(.5*ee-Math.random()*ee),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:D.color,shape:D.shape,tick:0,totalTicks:D.ticks,decay:D.decay,drift:D.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:D.gravity*3,ovalScalar:.6,scalar:D.scalar,flat:D.flat}}function U(D,N){N.x+=Math.cos(N.angle2D)*N.velocity+N.drift,N.y+=Math.sin(N.angle2D)*N.velocity+N.gravity,N.velocity*=N.decay,N.flat?(N.wobble=0,N.wobbleX=N.x+10*N.scalar,N.wobbleY=N.y+10*N.scalar,N.tiltSin=0,N.tiltCos=0,N.random=1):(N.wobble+=N.wobbleSpeed,N.wobbleX=N.x+10*N.scalar*Math.cos(N.wobble),N.wobbleY=N.y+10*N.scalar*Math.sin(N.wobble),N.tiltAngle+=.1,N.tiltSin=Math.sin(N.tiltAngle),N.tiltCos=Math.cos(N.tiltAngle),N.random=Math.random()+2);var ee=N.tick++/N.totalTicks,M=N.x+N.random*N.tiltCos,fe=N.y+N.random*N.tiltSin,ve=N.wobbleX+N.random*N.tiltCos,_e=N.wobbleY+N.random*N.tiltSin;if(D.fillStyle="rgba("+N.color.r+", "+N.color.g+", "+N.color.b+", "+(1-ee)+")",D.beginPath(),l&&N.shape.type==="path"&&typeof N.shape.path=="string"&&Array.isArray(N.shape.matrix))D.fill(ce(N.shape.path,N.shape.matrix,N.x,N.y,Math.abs(ve-M)*.1,Math.abs(_e-fe)*.1,Math.PI/10*N.wobble));else if(N.shape.type==="bitmap"){var we=Math.PI/10*N.wobble,ke=Math.abs(ve-M)*.1,Pe=Math.abs(_e-fe)*.1,Qe=N.shape.bitmap.width*N.scalar,We=N.shape.bitmap.height*N.scalar,st=new DOMMatrix([Math.cos(we)*ke,Math.sin(we)*ke,-Math.sin(we)*Pe,Math.cos(we)*Pe,N.x,N.y]);st.multiplySelf(new DOMMatrix(N.shape.matrix));var Ye=D.createPattern(m.transform(N.shape.bitmap),"no-repeat");Ye.setTransform(st),D.globalAlpha=1-ee,D.fillStyle=Ye,D.fillRect(N.x-Qe/2,N.y-We/2,Qe,We),D.globalAlpha=1}else if(N.shape==="circle")D.ellipse?D.ellipse(N.x,N.y,Math.abs(ve-M)*N.ovalScalar,Math.abs(_e-fe)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI):P(D,N.x,N.y,Math.abs(ve-M)*N.ovalScalar,Math.abs(_e-fe)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI);else if(N.shape==="star")for(var De=Math.PI/2*3,lt=4*N.scalar,Nt=8*N.scalar,sn=N.x,Zn=N.y,kt=5,xt=Math.PI/kt;kt--;)sn=N.x+Math.cos(De)*Nt,Zn=N.y+Math.sin(De)*Nt,D.lineTo(sn,Zn),De+=xt,sn=N.x+Math.cos(De)*lt,Zn=N.y+Math.sin(De)*lt,D.lineTo(sn,Zn),De+=xt;else D.moveTo(Math.floor(N.x),Math.floor(N.y)),D.lineTo(Math.floor(N.wobbleX),Math.floor(fe)),D.lineTo(Math.floor(ve),Math.floor(_e)),D.lineTo(Math.floor(M),Math.floor(N.wobbleY));return D.closePath(),D.fill(),N.tick<N.totalTicks}function H(D,N,ee,M,fe){var ve=N.slice(),_e=D.getContext("2d"),we,ke,Pe=f(function(Qe){function We(){we=ke=null,_e.clearRect(0,0,M.width,M.height),m.clear(),fe(),Qe()}function st(){r&&!(M.width===i.width&&M.height===i.height)&&(M.width=D.width=i.width,M.height=D.height=i.height),!M.width&&!M.height&&(ee(D),M.width=D.width,M.height=D.height),_e.clearRect(0,0,M.width,M.height),ve=ve.filter(function(Ye){return U(_e,Ye)}),ve.length?we=g.frame(st):We()}we=g.frame(st),ke=We});return{addFettis:function(Qe){return ve=ve.concat(Qe),Pe},canvas:D,promise:Pe,reset:function(){we&&g.cancel(we),ke&&ke()}}}function he(D,N){var ee=!D,M=!!I(N||{},"resize"),fe=!1,ve=I(N,"disableForReducedMotion",Boolean),_e=o&&!!I(N||{},"useWorker"),we=_e?E():null,ke=ee?B:O,Pe=D&&we?!!D.__confetti_initialized:!1,Qe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,We;function st(De,lt,Nt){for(var sn=I(De,"particleCount",k),Zn=I(De,"angle",Number),kt=I(De,"spread",Number),xt=I(De,"startVelocity",Number),ui=I(De,"decay",Number),Fo=I(De,"gravity",Number),ka=I(De,"drift",Number),Sn=I(De,"colors",X),Pi=I(De,"ticks",Number),pe=I(De,"shapes"),Ne=I(De,"scalar"),Fe=!!I(De,"flat"),tt=K(De),bt=sn,Cn=[],Cr=D.width*tt.x,an=D.height*tt.y;bt--;)Cn.push(R({x:Cr,y:an,angle:Zn,spread:kt,startVelocity:xt,color:Sn[bt%Sn.length],shape:pe[Y(0,pe.length)],ticks:Pi,decay:ui,gravity:Fo,drift:ka,scalar:Ne,flat:Fe}));return We?We.addFettis(Cn):(We=H(D,Cn,ke,lt,Nt),We.promise)}function Ye(De){var lt=ve||I(De,"disableForReducedMotion",Boolean),Nt=I(De,"zIndex",Number);if(lt&&Qe)return f(function(xt){xt()});ee&&We?D=We.canvas:ee&&!D&&(D=V(Nt),document.body.appendChild(D)),M&&!Pe&&ke(D);var sn={width:D.width,height:D.height};we&&!Pe&&we.init(D),Pe=!0,we&&(D.__confetti_initialized=!0);function Zn(){if(we){var xt={getBoundingClientRect:function(){if(!ee)return D.getBoundingClientRect()}};ke(xt),we.postMessage({resize:{width:xt.width,height:xt.height}});return}sn.width=sn.height=null}function kt(){We=null,M&&(fe=!1,e.removeEventListener("resize",Zn)),ee&&D&&(document.body.contains(D)&&document.body.removeChild(D),D=null,Pe=!1)}return M&&!fe&&(fe=!0,e.addEventListener("resize",Zn,!1)),we?we.fire(De,sn,kt):st(De,sn,kt)}return Ye.reset=function(){we&&we.reset(),We&&We.reset()},Ye}var J;function Z(){return J||(J=he(null,{useWorker:!0,resize:!0})),J}function ce(D,N,ee,M,fe,ve,_e){var we=new Path2D(D),ke=new Path2D;ke.addPath(we,new DOMMatrix(N));var Pe=new Path2D;return Pe.addPath(ke,new DOMMatrix([Math.cos(_e)*fe,Math.sin(_e)*fe,-Math.sin(_e)*ve,Math.cos(_e)*ve,ee,M])),Pe}function Ie(D){if(!l)throw new Error("path confetti are not supported in this browser");var N,ee;typeof D=="string"?N=D:(N=D.path,ee=D.matrix);var M=new Path2D(N),fe=document.createElement("canvas"),ve=fe.getContext("2d");if(!ee){for(var _e=1e3,we=_e,ke=_e,Pe=0,Qe=0,We,st,Ye=0;Ye<_e;Ye+=2)for(var De=0;De<_e;De+=2)ve.isPointInPath(M,Ye,De,"nonzero")&&(we=Math.min(we,Ye),ke=Math.min(ke,De),Pe=Math.max(Pe,Ye),Qe=Math.max(Qe,De));We=Pe-we,st=Qe-ke;var lt=10,Nt=Math.min(lt/We,lt/st);ee=[Nt,0,0,Nt,-Math.round(We/2+we)*Nt,-Math.round(st/2+ke)*Nt]}return{type:"path",path:N,matrix:ee}}function Be(D){var N,ee=1,M="#000000",fe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof D=="string"?N=D:(N=D.text,ee="scalar"in D?D.scalar:ee,fe="fontFamily"in D?D.fontFamily:fe,M="color"in D?D.color:M);var ve=10*ee,_e=""+ve+"px "+fe,we=new OffscreenCanvas(ve,ve),ke=we.getContext("2d");ke.font=_e;var Pe=ke.measureText(N),Qe=Math.ceil(Pe.actualBoundingBoxRight+Pe.actualBoundingBoxLeft),We=Math.ceil(Pe.actualBoundingBoxAscent+Pe.actualBoundingBoxDescent),st=2,Ye=Pe.actualBoundingBoxLeft+st,De=Pe.actualBoundingBoxAscent+st;Qe+=st+st,We+=st+st,we=new OffscreenCanvas(Qe,We),ke=we.getContext("2d"),ke.font=_e,ke.fillStyle=M,ke.fillText(N,Ye,De);var lt=1/ee;return{type:"bitmap",bitmap:we.transferToImageBitmap(),matrix:[lt,0,0,lt,-Qe*lt/2,-We*lt/2]}}n.exports=function(){return Z().apply(this,arguments)},n.exports.reset=function(){Z().reset()},n.exports.create=he,n.exports.shapeFromPath=Ie,n.exports.shapeFromText=Be})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),xf,!1);const Fl=xf.exports;xf.exports.create;function l2({minimal:t=!1}){const[e,n]=q.useState(""),[r,i]=q.useState(!1),o=async l=>{if(l.preventDefault(),!!e)try{await bf(Hr(wt,"suscriptores"),{email:e,fecha:ca()}),i(!0),n(""),t||Fl({particleCount:100,spread:80,origin:{y:.6}}),setTimeout(()=>i(!1),4e3)}catch(c){console.error("Error guardando suscripcin:",c)}};return T.jsxs("div",{className:t?"w-full":"p-6 max-w-md mx-auto mt-4 bg-white rounded-2xl shadow-xl border flex flex-col items-center",children:[!t&&T.jsx("h2",{className:"text-2xl font-bold text-fuchsia-600 mb-4 animate-pulse",children:"Suscrbete a nuestro newsletter!"}),T.jsxs("form",{onSubmit:o,className:"flex flex-col w-full gap-2",children:[T.jsx("input",{type:"email",placeholder:"Tu email",value:e,onChange:l=>n(l.target.value),className:t?"border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-pink-400 transition":"border border-gray-300 p-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-fuchsia-500 transition",required:!0}),T.jsx("button",{type:"submit",className:t?"bg-pink-500 text-white p-2 rounded font-medium hover:bg-pink-600 transition":"bg-fuchsia-600 text-white p-3 rounded-xl font-semibold shadow-lg hover:bg-fuchsia-700 hover:scale-105 transition-transform duration-200",children:"Suscribirme"})]}),r&&T.jsx("p",{className:t?"mt-2 text-green-600 font-medium text-sm":"mt-4 text-green-600 font-bold text-center animate-bounce",children:"Gracias por suscribirte! "})]})}const xg={Tendencias:"Tendencias",Guia:"Gua de Estilo",Inspiracion:"Inspiracin"},_K=["Todos","Tendencias","Gua de Estilo","Inspiracin"],wK=t=>{const n=new URLSearchParams(t).get("tema");return n&&xg[n]?xg[n]:"Todos"};function vK(){const t=Di(),e=i2(),[n,r]=q.useState("Todos"),[i,o]=q.useState(null),[l,c]=q.useState([]),h=["novaglow.admin@gmail.com","hylromeroduran@crackthecode.la"];q.useEffect(()=>{const E=Xd(Hr(wt,"articulos"),V_("fecha","desc")),w=Ef(E,x=>{c(x.docs.map(C=>({id:C.id,...C.data()})))});return()=>w()},[]),q.useEffect(()=>{r(wK(t.search));const E=jc(e,w=>{o(w?.email||null)});return()=>E()},[t.search]);const f=i&&h.includes(i),m=q.useMemo(()=>n==="Todos"?l:l.filter(E=>E.categoria===n),[n,l]),g=async E=>{confirm("Seguro que quieres eliminar este artculo?")&&await p0(vn(wt,"articulos",E))};return T.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8 pt-24 relative",children:[T.jsxs("header",{className:"text-center py-16 bg-fuchsia-50 rounded-2xl shadow-lg mb-12 border-b-4 border-fuchsia-300",children:[T.jsxs("h1",{className:"text-5xl font-extrabold text-gray-800 mb-4 flex justify-center items-center gap-3",children:[T.jsx(o2,{className:"w-10 h-10 text-yellow-500"}),"Blog & Galera de Inspiracin"]}),T.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Tu gua de estilo, tendencias y confianza "})]}),T.jsx("div",{className:"flex justify-center flex-wrap gap-4 mb-10",children:_K.map(E=>{const w=E==="Todos"?"/inspiracion":`/inspiracion?tema=${Object.keys(xg).find(x=>xg[x]===E)}`;return T.jsx(et,{to:w,onClick:()=>r(E),className:`py-2 px-6 rounded-full font-semibold transition duration-300 text-center ${n===E?"bg-fuchsia-500 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-fuchsia-50"}`,children:E},E)})}),T.jsx("hr",{className:"mb-10 border-fuchsia-100"}),T.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m.length?m.map(E=>T.jsxs("div",{className:"relative",children:[T.jsx(TK,{article:E,maxWords:20}),f&&T.jsx("button",{onClick:()=>g(E.id),className:"absolute top-2 right-2 bg-red-500 text-white text-sm px-3 py-1 rounded-lg shadow-md",children:"Eliminar"})]},E.id)):T.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:T.jsxs("p",{className:"text-xl",children:['No hay artculos en la categora "',n,'".']})})}),T.jsx("div",{className:"mt-12",children:T.jsx(l2,{maxWords:15})})]})}const E1=({title:t,icon:e,color:n,link:r,description:i,imageUrl:o})=>T.jsxs("div",{className:`bg-white rounded-xl shadow-lg border-t-4 border-${n}-400 transition duration-300 transform hover:scale-[1.03] hover:shadow-2xl overflow-hidden`,children:[o?T.jsx("div",{className:"h-40 w-full overflow-hidden",children:T.jsx("img",{src:o,alt:t,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",onError:l=>l.target.src="https://placehold.co/600x400/feeae9/f06c9b?text=GLOW"})}):T.jsx("div",{className:`h-40 w-full flex items-center justify-center bg-${n}-50`,children:e&&T.jsx(e,{className:`w-16 h-16 text-${n}-600`})}),T.jsxs("div",{className:"p-6",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t}),T.jsx("p",{className:"text-gray-600 text-sm mb-4",children:i}),T.jsxs(et,{to:r,className:`text-sm font-semibold text-${n}-600 hover:text-${n}-800 transition`,children:["Ver ",t," "]})]})]}),T1=({title:t,icon:e,description:n})=>T.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg border-t-4 border-pink-500",children:[T.jsx("div",{className:"text-4xl mb-3 flex justify-center",children:e===""?T.jsx(o2,{className:"w-8 h-8 text-yellow-500"}):e===""?T.jsx(EK,{className:"w-8 h-8 text-blue-500"}):T.jsx(a2,{className:"w-8 h-8 text-red-500"})}),T.jsx("h3",{className:"text-xl font-sans text-pink-600 mb-2",children:t}),T.jsx("p",{className:"text-gray-500 text-sm",children:n})]}),Tp=({name:t,role:e,tagline:n,imageUrl:r})=>T.jsxs("div",{className:"flex flex-col items-center max-w-[150px] p-4 bg-gray-50 rounded-xl shadow-md transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:bg-pink-50",children:[T.jsx("img",{src:r,alt:t,className:"w-32 h-32 object-cover rounded-full border-4 border-pink-300 mb-3 shadow-lg",onError:i=>i.target.src="https://placehold.co/150x150/cccccc/000?text=Team"}),T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:t}),T.jsx("p",{className:"text-pink-600 font-semibold text-sm mb-2",children:e}),T.jsxs("p",{className:"text-gray-600 text-center text-xs italic",children:['"',n,'"']})]});function xK(){return T.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8",children:[T.jsxs("header",{className:`text-center py-24 rounded-3xl shadow-2xl mb-16 relative overflow-hidden \r
                    border-b-8 border-pink-400`,children:[T.jsx("div",{className:"absolute inset-0 bg-cover opacity-100",style:{backgroundImage:"url('https://lacosmeticadeelyn.com/wp-content/uploads/2023/03/comprar-vestidos-de-fiesta.jpg')"}}),T.jsxs("div",{className:"relative z-10",children:[T.jsxs("p",{className:"text-lg font-semibold uppercase text-pink-300 mb-2 flex justify-center items-center",children:[T.jsx(B$,{className:"w-5 h-5 mr-2 animate-spin-slow"})," Moda con Propsito y Pasin"]}),T.jsx("h1",{className:"text-6xl font-extrabold text-white mb-4 tracking-tight animate-fade-in",children:"El Viaje Nova Glow"}),T.jsx("p",{className:"text-xl font-light text-gray-200 max-w-3xl mx-auto transition-all duration-700 hover:text-white",children:"Nuestra historia es la fusin perfecta entre diseo de alta costura y la bsqueda de la confianza interior."})]})]}),T.jsxs("section",{className:"bg-pink-100 p-8 rounded-3xl shadow-xl mb-12",children:[T.jsxs("div",{className:"text-center space-y-4",children:[T.jsx("h2",{className:"text-3xl font-sans text-gray-800",children:"La Noche en que Todo Comenz"}),T.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Nova Glow naci de una simple necesidad: transformar la ropa de noche. No buscbamos solo tela y lentejuelas, sino prendas que encendieran la confianza. Creemos que cada mujer merece sentirse la luz principal de la fiesta."})]}),T.jsx("div",{className:"mt-6 h-64 rounded-2xl overflow-hidden shadow-xl",children:T.jsx("img",{src:"https://revista-lagunas.s3.us-east-2.amazonaws.com/2023/12/1087-como-vestirse-en-navidad-los-mejores-look-y-combinaciones-101-big.jpg",alt:"Una mujer en un vestido brillante de noche",className:"w-full h-full object-cover transition duration-500 hover:scale-105"})})]}),T.jsxs("section",{className:"mb-16",children:[T.jsxs("header",{className:"text-center mb-12",children:[T.jsx("p",{className:"text-sm font-semibold uppercase text-pink-600 mb-2 tracking-widest",children:"Nuestro Fundamento"}),T.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-800",children:"Nuestros Tres Pilares"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 text-center",children:[T.jsx(T1,{title:"Brillo Sostenible",icon:"",description:"Diseamos con responsabilidad, priorizando materiales duraderos y procesos ticos para un glamour sin culpa.",delay:0}),T.jsx(T1,{title:"Ajuste Perfecto",icon:"",description:"Cada pieza pasa por rigurosas pruebas de ajuste para asegurar que te sientas cmoda y espectacular toda la noche.",delay:150}),T.jsx(T1,{title:"Confianza Instantnea",icon:"",description:"Nuestra misin es simple: al ponerte Nova Glow, la confianza se activa al instante. Vendemos protagonismo.",delay:300})]})]}),T.jsxs("section",{className:"bg-white p-8 rounded-3xl shadow-xl border border-gray-100 mb-12",children:[T.jsx("h2",{className:"text-3xl font-extrabold text-pink-700 text-center mb-8",children:"Conoce al Equipo Detrs del Glamour"}),T.jsxs("div",{className:"flex justify-center space-x-12 flex-wrap gap-8",children:[T.jsx(Tp,{name:"Valentina C.",role:"Fundadora & CEO",tagline:"Mi pieza favorita para brillar es un buen top de satn.",imageUrl:"https://images.imagenmia.com/model_version/1df843cb6790d0651e956078c93e0f37a1535300950019cc576ef7b8cc5d62a5/1723977778333-output.jpg"}),T.jsx(Tp,{name:"Shantall C.",role:"Directora de Marketing",tagline:"La confianza es el mejor accesorio que una mujer puede llevar.",imageUrl:"https://img.freepik.com/fotos-premium/imagen-mujer-entregando-paquete-fondo-impactante-diseno-limpio-sonrisa-feliz-fondo-pastel_934697-178.jpg"}),T.jsx(Tp,{name:"Camila C.",role:"Jefa de Diseo",tagline:"Siempre inspirada por la luz de la ciudad a medianoche.",imageUrl:"https://images.pexels.com/photos/19279369/pexels-photo-19279369.jpeg?cs=srgb&dl=pexels-s%C6%A1n-ng%E1%BB%8Dc-19279369.jpg&fm=jpg"}),T.jsx(Tp,{name:"Hylary R.",role:"Gerente de Produccin",tagline:"Cada detalle cuenta cuando se trata de crear magia.",imageUrl:"https://img.freepik.com/fotos-premium/retrato-mujer-hermosa-sonriente-feliz_176420-15309.jpg"})]})]}),T.jsxs("section",{className:"grid md:grid-cols-2 gap-12 items-center",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-3xl font-sans text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx(a2,{className:"w-6 h-6 text-fuchsia-500"})," Nuestra Misin"]}),T.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Somos una marca impulsada por la creencia de que la moda de fiesta debe empoderar. Nuestro compromiso es con la calidad, la transparencia y con hacerte sentir nica en cada evento."}),T.jsx("p",{className:"text-gray-700 leading-relaxed font-sans font-bold",children:"En Nova Glow, eres la estrella!"})]}),T.jsx("div",{className:"relative h-64 md:h-96 rounded-2xl overflow-hidden shadow-2xl",children:T.jsx("img",{src:"https://e00-telva.uecdn.es/assets/multimedia/imagenes/2022/10/06/16650606858239.jpg",alt:"Nuestra Misin Visual",className:"w-full h-full object-cover transition duration-500 hover:scale-105"})})]}),T.jsx("hr",{className:"border-t-2 border-fuchsia-100 mx-10"}),T.jsxs("section",{className:"grid md:grid-cols-2 gap-12 items-center",children:[T.jsx("div",{className:"md:order-1 relative h-64 md:h-96 rounded-2xl overflow-hidden shadow-2xl",children:T.jsx("img",{src:"https://www.clara.es/medio/2023/05/31/10-outfits-para-una-cena-informal-en-verano_c69e2aad_230531103813_1080x1349.jpg",className:"w-full h-full object-cover transition duration-500 hover:scale-105"})}),T.jsxs("div",{className:"md:order-2",children:[T.jsxs("h2",{className:"text-3xl font-sans text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx($D,{className:"w-6 h-6 text-violet-500"})," Nuestra Visin"]}),T.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Nos vemos como la marca de referencia global en moda de fiesta que combina lujo accesible con un compromiso genuino por la sostenibilidad y el empoderamiento femenino."}),T.jsx("p",{className:"text-gray-700 leading-relaxed font-sans font-bold",children:"Un mundo donde cada noche es una oportunidad para brillar."})]})]}),T.jsxs("section",{className:"text-center py-12 bg-pink-50 rounded-2xl shadow-inner mt-20",children:[T.jsxs("h2",{className:"text-4xl font-extrabold text-gray-800 mb-4 flex justify-center items-center gap-2",children:[T.jsx(o2,{className:"w-8 h-8 text-yellow-500"}),"Insprate y Descubre Ms"]}),T.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto mb-10",children:"Sumrgete en nuestro blog para encontrar guas, tendencias y el impulso de confianza que necesitas."}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto mb-12",children:[T.jsx(E1,{title:"Tendencias",icon:dK,color:"pink",link:"/inspiracion?tema=Tendencias",imageUrl:"http://www.tiendaunique.cl/cdn/shop/products/4244navy_2_e1173c6b-d1c1-48ad-8c5e-678abe5fdba2.jpg?v=1658170307&width=1024",description:"Descubre lo ltimo en tejidos, cortes y colores de la moda nocturna global."}),T.jsx(E1,{title:"Guas de Estilo",icon:Y$,color:"violet",link:"/inspiracion?tema=Guia",imageUrl:"https://www.mujerde10.com/wp-content/uploads/2025/06/moda-outfits-de-noche-antro-juvenil-con-transparencias-5-1024x678.jpg",description:"Consejos prcticos para armar tu outfit perfecto para cualquier tipo de evento."}),T.jsx(E1,{title:"Inspiracin",icon:cK,color:"yellow",link:"/inspiracion?tema=Inspiracion",imageUrl:"https://i.pinimg.com/564x/c5/53/a6/c553a67d99cb5d833d6828808e5e9ac4.jpg",description:"Artculos sobre el poder de la confianza, el empoderamiento y el brillo interior."})]}),T.jsx(et,{to:"/inspiracion",className:"inline-block bg-fuchsia-600 text-white font-semibold py-4 px-10 rounded-full text-lg hover:bg-fuchsia-700 transition duration-300 shadow-xl transform hover:scale-105",children:"Ir a la Galera de Inspiracin"})]})]})}var zp={exports:{}},AK=zp.exports,DI;function SK(){return DI||(DI=1,(function(t,e){(function(n,r){t.exports=r()})(AK,function(){return(function(n){function r(o){if(i[o])return i[o].exports;var l=i[o]={exports:{},id:o,loaded:!1};return n[o].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}var i={};return r.m=n,r.c=i,r.p="dist/",r(0)})([function(n,r,i){function o(he){return he&&he.__esModule?he:{default:he}}var l=Object.assign||function(he){for(var J=1;J<arguments.length;J++){var Z=arguments[J];for(var ce in Z)Object.prototype.hasOwnProperty.call(Z,ce)&&(he[ce]=Z[ce])}return he},c=i(1),h=(o(c),i(6)),f=o(h),m=i(7),g=o(m),E=i(8),w=o(E),x=i(9),C=o(x),I=i(10),k=o(I),Y=i(11),F=o(Y),X=i(14),ne=o(X),K=[],B=!1,O={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},V=function(){var he=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(he&&(B=!0),B)return K=(0,F.default)(K,O),(0,k.default)(K,O.once),K},P=function(){K=(0,ne.default)(),V()},R=function(){K.forEach(function(he,J){he.node.removeAttribute("data-aos"),he.node.removeAttribute("data-aos-easing"),he.node.removeAttribute("data-aos-duration"),he.node.removeAttribute("data-aos-delay")})},U=function(he){return he===!0||he==="mobile"&&C.default.mobile()||he==="phone"&&C.default.phone()||he==="tablet"&&C.default.tablet()||typeof he=="function"&&he()===!0},H=function(he){O=l(O,he),K=(0,ne.default)();var J=document.all&&!window.atob;return U(O.disable)||J?R():(O.disableMutationObserver||w.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),O.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",O.easing),document.querySelector("body").setAttribute("data-aos-duration",O.duration),document.querySelector("body").setAttribute("data-aos-delay",O.delay),O.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?V(!0):O.startEvent==="load"?window.addEventListener(O.startEvent,function(){V(!0)}):document.addEventListener(O.startEvent,function(){V(!0)}),window.addEventListener("resize",(0,g.default)(V,O.debounceDelay,!0)),window.addEventListener("orientationchange",(0,g.default)(V,O.debounceDelay,!0)),window.addEventListener("scroll",(0,f.default)(function(){(0,k.default)(K,O.once)},O.throttleDelay)),O.disableMutationObserver||w.default.ready("[data-aos]",P),K)};n.exports={init:H,refresh:V,refreshHard:P}},function(n,r){},,,,,function(n,r){(function(i){function o(U,H,he){function J(De){var lt=fe,Nt=ve;return fe=ve=void 0,Qe=De,we=U.apply(Nt,lt)}function Z(De){return Qe=De,ke=setTimeout(Be,H),We?J(De):we}function ce(De){var lt=De-Pe,Nt=De-Qe,sn=H-lt;return st?P(sn,_e-Nt):sn}function Ie(De){var lt=De-Pe,Nt=De-Qe;return Pe===void 0||lt>=H||lt<0||st&&Nt>=_e}function Be(){var De=R();return Ie(De)?D(De):void(ke=setTimeout(Be,ce(De)))}function D(De){return ke=void 0,Ye&&fe?J(De):(fe=ve=void 0,we)}function N(){ke!==void 0&&clearTimeout(ke),Qe=0,fe=Pe=ve=ke=void 0}function ee(){return ke===void 0?we:D(R())}function M(){var De=R(),lt=Ie(De);if(fe=arguments,ve=this,Pe=De,lt){if(ke===void 0)return Z(Pe);if(st)return ke=setTimeout(Be,H),J(Pe)}return ke===void 0&&(ke=setTimeout(Be,H)),we}var fe,ve,_e,we,ke,Pe,Qe=0,We=!1,st=!1,Ye=!0;if(typeof U!="function")throw new TypeError(E);return H=m(H)||0,c(he)&&(We=!!he.leading,st="maxWait"in he,_e=st?V(m(he.maxWait)||0,H):_e,Ye="trailing"in he?!!he.trailing:Ye),M.cancel=N,M.flush=ee,M}function l(U,H,he){var J=!0,Z=!0;if(typeof U!="function")throw new TypeError(E);return c(he)&&(J="leading"in he?!!he.leading:J,Z="trailing"in he?!!he.trailing:Z),o(U,H,{leading:J,maxWait:H,trailing:Z})}function c(U){var H=typeof U>"u"?"undefined":g(U);return!!U&&(H=="object"||H=="function")}function h(U){return!!U&&(typeof U>"u"?"undefined":g(U))=="object"}function f(U){return(typeof U>"u"?"undefined":g(U))=="symbol"||h(U)&&O.call(U)==x}function m(U){if(typeof U=="number")return U;if(f(U))return w;if(c(U)){var H=typeof U.valueOf=="function"?U.valueOf():U;U=c(H)?H+"":H}if(typeof U!="string")return U===0?U:+U;U=U.replace(C,"");var he=k.test(U);return he||Y.test(U)?F(U.slice(2),he?2:8):I.test(U)?w:+U}var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},E="Expected a function",w=NaN,x="[object Symbol]",C=/^\s+|\s+$/g,I=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,F=parseInt,X=(typeof i>"u"?"undefined":g(i))=="object"&&i&&i.Object===Object&&i,ne=(typeof self>"u"?"undefined":g(self))=="object"&&self&&self.Object===Object&&self,K=X||ne||Function("return this")(),B=Object.prototype,O=B.toString,V=Math.max,P=Math.min,R=function(){return K.Date.now()};n.exports=l}).call(r,(function(){return this})())},function(n,r){(function(i){function o(R,U,H){function he(Ye){var De=M,lt=fe;return M=fe=void 0,Pe=Ye,_e=R.apply(lt,De)}function J(Ye){return Pe=Ye,we=setTimeout(Ie,U),Qe?he(Ye):_e}function Z(Ye){var De=Ye-ke,lt=Ye-Pe,Nt=U-De;return We?V(Nt,ve-lt):Nt}function ce(Ye){var De=Ye-ke,lt=Ye-Pe;return ke===void 0||De>=U||De<0||We&&lt>=ve}function Ie(){var Ye=P();return ce(Ye)?Be(Ye):void(we=setTimeout(Ie,Z(Ye)))}function Be(Ye){return we=void 0,st&&M?he(Ye):(M=fe=void 0,_e)}function D(){we!==void 0&&clearTimeout(we),Pe=0,M=ke=fe=we=void 0}function N(){return we===void 0?_e:Be(P())}function ee(){var Ye=P(),De=ce(Ye);if(M=arguments,fe=this,ke=Ye,De){if(we===void 0)return J(ke);if(We)return we=setTimeout(Ie,U),he(ke)}return we===void 0&&(we=setTimeout(Ie,U)),_e}var M,fe,ve,_e,we,ke,Pe=0,Qe=!1,We=!1,st=!0;if(typeof R!="function")throw new TypeError(g);return U=f(U)||0,l(H)&&(Qe=!!H.leading,We="maxWait"in H,ve=We?O(f(H.maxWait)||0,U):ve,st="trailing"in H?!!H.trailing:st),ee.cancel=D,ee.flush=N,ee}function l(R){var U=typeof R>"u"?"undefined":m(R);return!!R&&(U=="object"||U=="function")}function c(R){return!!R&&(typeof R>"u"?"undefined":m(R))=="object"}function h(R){return(typeof R>"u"?"undefined":m(R))=="symbol"||c(R)&&B.call(R)==w}function f(R){if(typeof R=="number")return R;if(h(R))return E;if(l(R)){var U=typeof R.valueOf=="function"?R.valueOf():R;R=l(U)?U+"":U}if(typeof R!="string")return R===0?R:+R;R=R.replace(x,"");var H=I.test(R);return H||k.test(R)?Y(R.slice(2),H?2:8):C.test(R)?E:+R}var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},g="Expected a function",E=NaN,w="[object Symbol]",x=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,k=/^0o[0-7]+$/i,Y=parseInt,F=(typeof i>"u"?"undefined":m(i))=="object"&&i&&i.Object===Object&&i,X=(typeof self>"u"?"undefined":m(self))=="object"&&self&&self.Object===Object&&self,ne=F||X||Function("return this")(),K=Object.prototype,B=K.toString,O=Math.max,V=Math.min,P=function(){return ne.Date.now()};n.exports=o}).call(r,(function(){return this})())},function(n,r){function i(m){var g=void 0,E=void 0;for(g=0;g<m.length;g+=1)if(E=m[g],E.dataset&&E.dataset.aos||E.children&&i(E.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function l(){return!!o()}function c(m,g){var E=window.document,w=o(),x=new w(h);f=g,x.observe(E.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function h(m){m&&m.forEach(function(g){var E=Array.prototype.slice.call(g.addedNodes),w=Array.prototype.slice.call(g.removedNodes),x=E.concat(w);if(i(x))return f()})}Object.defineProperty(r,"__esModule",{value:!0});var f=function(){};r.default={isSupported:l,ready:c}},function(n,r){function i(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var l=(function(){function E(w,x){for(var C=0;C<x.length;C++){var I=x[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,x,C){return x&&E(w.prototype,x),C&&E(w,C),w}})(),c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,h=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,m=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,g=(function(){function E(){i(this,E)}return l(E,[{key:"phone",value:function(){var w=o();return!(!c.test(w)&&!h.test(w.substr(0,4)))}},{key:"mobile",value:function(){var w=o();return!(!f.test(w)&&!m.test(w.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),E})();r.default=new g},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(l,c,h){var f=l.node.getAttribute("data-aos-once");c>l.position?l.node.classList.add("aos-animate"):typeof f<"u"&&(f==="false"||!h&&f!=="true")&&l.node.classList.remove("aos-animate")},o=function(l,c){var h=window.pageYOffset,f=window.innerHeight;l.forEach(function(m,g){i(m,f+h,c)})};r.default=o},function(n,r,i){function o(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(r,"__esModule",{value:!0});var l=i(12),c=o(l),h=function(f,m){return f.forEach(function(g,E){g.node.classList.add("aos-init"),g.position=(0,c.default)(g.node,m.offset)}),f};r.default=h},function(n,r,i){function o(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(r,"__esModule",{value:!0});var l=i(13),c=o(l),h=function(f,m){var g=0,E=0,w=window.innerHeight,x={offset:f.getAttribute("data-aos-offset"),anchor:f.getAttribute("data-aos-anchor"),anchorPlacement:f.getAttribute("data-aos-anchor-placement")};switch(x.offset&&!isNaN(x.offset)&&(E=parseInt(x.offset)),x.anchor&&document.querySelectorAll(x.anchor)&&(f=document.querySelectorAll(x.anchor)[0]),g=(0,c.default)(f).top,x.anchorPlacement){case"top-bottom":break;case"center-bottom":g+=f.offsetHeight/2;break;case"bottom-bottom":g+=f.offsetHeight;break;case"top-center":g+=w/2;break;case"bottom-center":g+=w/2+f.offsetHeight;break;case"center-center":g+=w/2+f.offsetHeight/2;break;case"top-top":g+=w;break;case"bottom-top":g+=f.offsetHeight+w;break;case"center-top":g+=f.offsetHeight/2+w}return x.anchorPlacement||x.offset||isNaN(m)||(E=m),g+E};r.default=h},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o){for(var l=0,c=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)l+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),c+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:c,left:l}};r.default=i},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(l){return{node:l}})};r.default=i}])})})(zp)),zp.exports}var CK=SK();const IK=rf(CK);/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function KD(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function NK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function OI(t,e){return t.get(KD(t,e))}function kK(t,e,n){NK(t,e),e.set(t,n)}function RK(t,e,n){return t.set(KD(t,e),n),n}const DK=100,He={},OK=()=>{He.previousActiveElement instanceof HTMLElement?(He.previousActiveElement.focus(),He.previousActiveElement=null):document.body&&document.body.focus()},PK=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;He.restoreFocusTimeout=setTimeout(()=>{OK(),e()},DK),window.scrollTo(n,r)}),QD="swal2-",LK=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],me=LK.reduce((t,e)=>(t[e]=QD+e,t),{}),MK=["success","warning","info","question","error"],Ag=MK.reduce((t,e)=>(t[e]=QD+e,t),{}),WD="SweetAlert2:",u2=t=>t.charAt(0).toUpperCase()+t.slice(1),Ar=t=>{console.warn(`${WD} ${typeof t=="object"?t.join(" "):t}`)},Kl=t=>{console.error(`${WD} ${t}`)},PI=[],BK=t=>{PI.includes(t)||(PI.push(t),Ar(t))},XD=(t,e=null)=>{BK(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},w0=t=>typeof t=="function"?t():t,c2=t=>t&&typeof t.toPromise=="function",Af=t=>c2(t)?t.toPromise():Promise.resolve(t),h2=t=>t&&Promise.resolve(t)===t,Sr=()=>document.body.querySelector(`.${me.container}`),Sf=t=>{const e=Sr();return e?e.querySelector(t):null},oi=t=>Sf(`.${t}`),It=()=>oi(me.popup),Vc=()=>oi(me.icon),UK=()=>oi(me["icon-content"]),ZD=()=>oi(me.title),d2=()=>oi(me["html-container"]),JD=()=>oi(me.image),f2=()=>oi(me["progress-steps"]),v0=()=>oi(me["validation-message"]),Us=()=>Sf(`.${me.actions} .${me.confirm}`),Fc=()=>Sf(`.${me.actions} .${me.cancel}`),Ql=()=>Sf(`.${me.actions} .${me.deny}`),jK=()=>oi(me["input-label"]),Hc=()=>Sf(`.${me.loader}`),Cf=()=>oi(me.actions),e4=()=>oi(me.footer),x0=()=>oi(me["timer-progress-bar"]),m2=()=>oi(me.close),VK=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,p2=()=>{const t=It();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((o,l)=>{const c=parseInt(o.getAttribute("tabindex")||"0"),h=parseInt(l.getAttribute("tabindex")||"0");return c>h?1:c<h?-1:0}),r=t.querySelectorAll(VK),i=Array.from(r).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(o=>zr(o))},g2=()=>ga(document.body,me.shown)&&!ga(document.body,me["toast-shown"])&&!ga(document.body,me["no-backdrop"]),A0=()=>{const t=It();return t?ga(t,me.toast):!1},FK=()=>{const t=It();return t?t.hasAttribute("data-loading"):!1},li=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{t.appendChild(l)});const o=r.querySelector("body");o&&Array.from(o.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},ga=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},HK=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(me).includes(n)&&!Object.values(Ag).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},ai=(t,e,n)=>{if(HK(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Ar(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Ot(t,r)}},S0=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${me.popup} > .${me[e]}`);case"checkbox":return t.querySelector(`.${me.popup} > .${me.checkbox} input`);case"radio":return t.querySelector(`.${me.popup} > .${me.radio} input:checked`)||t.querySelector(`.${me.popup} > .${me.radio} input:first-child`);case"range":return t.querySelector(`.${me.popup} > .${me.range} input`);default:return t.querySelector(`.${me.popup} > .${me.input}`)}},t4=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},n4=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},Ot=(t,e)=>{n4(t,e,!0)},Ri=(t,e)=>{n4(t,e,!1)},Eo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&ga(i,e))return i}},Ol=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Xn=(t,e="flex")=>{t&&(t.style.display=e)},yr=t=>{t&&(t.style.display="none")},y2=(t,e="block")=>{t&&new MutationObserver(()=>{If(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},LI=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},If=(t,e,n="flex")=>{e?Xn(t,n):yr(t)},zr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),zK=()=>!zr(Us())&&!zr(Ql())&&!zr(Fc()),HE=t=>t.scrollHeight>t.clientHeight,qK=(t,e)=>{let n=t;for(;n&&n!==e;){if(HE(n))return!0;n=n.parentElement}return!1},r4=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},b2=(t,e=!1)=>{const n=x0();n&&zr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},YK=()=>{const t=x0();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},GK=()=>typeof window>"u"||typeof document>"u",$K=`
 <div aria-labelledby="${me.title}" aria-describedby="${me["html-container"]}" class="${me.popup}" tabindex="-1">
   <button type="button" class="${me.close}"></button>
   <ul class="${me["progress-steps"]}"></ul>
   <div class="${me.icon}"></div>
   <img class="${me.image}" />
   <h2 class="${me.title}" id="${me.title}"></h2>
   <div class="${me["html-container"]}" id="${me["html-container"]}"></div>
   <input class="${me.input}" id="${me.input}" />
   <input type="file" class="${me.file}" />
   <div class="${me.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${me.select}" id="${me.select}"></select>
   <div class="${me.radio}"></div>
   <label class="${me.checkbox}">
     <input type="checkbox" id="${me.checkbox}" />
     <span class="${me.label}"></span>
   </label>
   <textarea class="${me.textarea}" id="${me.textarea}"></textarea>
   <div class="${me["validation-message"]}" id="${me["validation-message"]}"></div>
   <div class="${me.actions}">
     <div class="${me.loader}"></div>
     <button type="button" class="${me.confirm}"></button>
     <button type="button" class="${me.deny}"></button>
     <button type="button" class="${me.cancel}"></button>
   </div>
   <div class="${me.footer}"></div>
   <div class="${me["timer-progress-bar-container"]}">
     <div class="${me["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),KK=()=>{const t=Sr();return t?(t.remove(),Ri([document.documentElement,document.body],[me["no-backdrop"],me["toast-shown"],me["has-column"]]),!0):!1},yl=()=>{He.currentInstance.resetValidationMessage()},QK=()=>{const t=It(),e=Eo(t,me.input),n=Eo(t,me.file),r=t.querySelector(`.${me.range} input`),i=t.querySelector(`.${me.range} output`),o=Eo(t,me.select),l=t.querySelector(`.${me.checkbox} input`),c=Eo(t,me.textarea);e.oninput=yl,n.onchange=yl,o.onchange=yl,l.onchange=yl,c.oninput=yl,r.oninput=()=>{yl(),i.value=r.value},r.onchange=()=>{yl(),i.value=r.value}},WK=t=>typeof t=="string"?document.querySelector(t):t,XK=t=>{const e=It();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},ZK=t=>{window.getComputedStyle(t).direction==="rtl"&&Ot(Sr(),me.rtl)},JK=t=>{const e=KK();if(GK()){Kl("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=me.container,e&&Ot(n,me["no-transition"]),li(n,$K),n.dataset.swal2Theme=t.theme;const r=WK(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),XK(t),ZK(r),QK()},E2=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?eQ(t,e):t&&li(e,t)},eQ=(t,e)=>{t.jquery?tQ(e,t):li(e,t.toString())},tQ=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},nQ=(t,e)=>{const n=Cf(),r=Hc();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?yr(n):Xn(n),ai(n,e,"actions"),rQ(n,r,e),li(r,e.loaderHtml||""),ai(r,e,"loader"))};function rQ(t,e,n){const r=Us(),i=Ql(),o=Fc();!r||!i||!o||(w1(r,"confirm",n),w1(i,"deny",n),w1(o,"cancel",n),iQ(r,i,o,n),n.reverseButtons&&(n.toast?(t.insertBefore(o,r),t.insertBefore(i,r)):(t.insertBefore(o,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function iQ(t,e,n,r){if(!r.buttonsStyling){Ri([t,e,n],me.styled);return}Ot([t,e,n],me.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),_1(t),_1(e),_1(n)}function _1(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function w1(t,e,n){const r=u2(e);If(t,n[`show${r}Button`],"inline-block"),li(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=me[e],ai(t,n,`${e}Button`)}const sQ=(t,e)=>{const n=m2();n&&(li(n,e.closeButtonHtml||""),ai(n,e,"closeButton"),If(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},aQ=(t,e)=>{const n=Sr();n&&(oQ(n,e.backdrop),lQ(n,e.position),uQ(n,e.grow),ai(n,e,"container"))};function oQ(t,e){typeof e=="string"?t.style.background=e:e||Ot([document.documentElement,document.body],me["no-backdrop"])}function lQ(t,e){e&&(e in me?Ot(t,me[e]):(Ar('The "position" parameter is not valid, defaulting to "center"'),Ot(t,me.center)))}function uQ(t,e){e&&Ot(t,me[`grow-${e}`])}var $t={innerParams:new WeakMap,domCache:new WeakMap};const cQ=["input","file","range","select","radio","checkbox","textarea"],hQ=(t,e)=>{const n=It();if(!n)return;const r=$t.innerParams.get(t),i=!r||e.input!==r.input;cQ.forEach(o=>{const l=Eo(n,me[o]);l&&(mQ(o,e.inputAttributes),l.className=me[o],i&&yr(l))}),e.input&&(i&&dQ(e),pQ(e))},dQ=t=>{if(!t.input)return;if(!_n[t.input]){Kl(`Unexpected type of input! Expected ${Object.keys(_n).join(" | ")}, got "${t.input}"`);return}const e=i4(t.input);if(!e)return;const n=_n[t.input](e,t);Xn(e),t.inputAutoFocus&&setTimeout(()=>{t4(n)})},fQ=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},mQ=(t,e)=>{const n=It();if(!n)return;const r=S0(n,t);if(r){fQ(r);for(const i in e)r.setAttribute(i,e[i])}},pQ=t=>{if(!t.input)return;const e=i4(t.input);e&&ai(e,t,"input")},T2=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Nf=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=me["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&Ot(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},i4=t=>{const e=It();if(e)return Eo(e,me[t]||me.input)},Sg=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:h2(e)||Ar(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},_n={};_n.text=_n.email=_n.password=_n.number=_n.tel=_n.url=_n.search=_n.date=_n["datetime-local"]=_n.time=_n.week=_n.month=(t,e)=>(Sg(t,e.inputValue),Nf(t,t,e),T2(t,e),t.type=e.input,t);_n.file=(t,e)=>(Nf(t,t,e),T2(t,e),t);_n.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Sg(n,e.inputValue),n.type=e.input,Sg(r,e.inputValue),Nf(n,t,e),t};_n.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");li(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Nf(t,t,e),t};_n.radio=t=>(t.textContent="",t);_n.checkbox=(t,e)=>{const n=S0(It(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return li(r,e.inputPlaceholder||e.inputLabel),n};_n.textarea=(t,e)=>{Sg(t,e.inputValue),T2(t,e),Nf(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(It()).width),i=()=>{if(!document.body.contains(t))return;const o=t.offsetWidth+n(t);o>r?It().style.width=`${o}px`:Ol(It(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const gQ=(t,e)=>{const n=d2();n&&(y2(n),ai(n,e,"htmlContainer"),e.html?(E2(e.html,n),Xn(n,"block")):e.text?(n.textContent=e.text,Xn(n,"block")):yr(n),hQ(t,e))},yQ=(t,e)=>{const n=e4();n&&(y2(n),If(n,!!e.footer,"block"),e.footer&&E2(e.footer,n),ai(n,e,"footer"))},bQ=(t,e)=>{const n=$t.innerParams.get(t),r=Vc();if(!r)return;if(n&&e.icon===n.icon){BI(r,e),MI(r,e);return}if(!e.icon&&!e.iconHtml){yr(r);return}if(e.icon&&Object.keys(Ag).indexOf(e.icon)===-1){Kl(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),yr(r);return}Xn(r),BI(r,e),MI(r,e),Ot(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",s4)},MI=(t,e)=>{for(const[n,r]of Object.entries(Ag))e.icon!==n&&Ri(t,r);Ot(t,e.icon&&Ag[e.icon]),_Q(t,e),s4(),ai(t,e,"icon")},s4=()=>{const t=It();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},EQ=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,TQ=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,BI=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=UI(e.iconHtml):e.icon==="success"?(r=EQ(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=TQ:e.icon&&(r=UI({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&li(t,r)},_Q=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])LI(t,n,"background-color",e.iconColor);LI(t,".swal2-success-ring","border-color",e.iconColor)}},UI=t=>`<div class="${me["icon-content"]}">${t}</div>`,wQ=(t,e)=>{const n=JD();if(n){if(!e.imageUrl){yr(n);return}Xn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Ol(n,"width",e.imageWidth),Ol(n,"height",e.imageHeight),n.className=me.image,ai(n,e,"image")}};let _2=!1,a4=0,o4=0,l4=0,u4=0;const vQ=t=>{t.addEventListener("mousedown",Cg),document.body.addEventListener("mousemove",Ig),t.addEventListener("mouseup",Ng),t.addEventListener("touchstart",Cg),document.body.addEventListener("touchmove",Ig),t.addEventListener("touchend",Ng)},xQ=t=>{t.removeEventListener("mousedown",Cg),document.body.removeEventListener("mousemove",Ig),t.removeEventListener("mouseup",Ng),t.removeEventListener("touchstart",Cg),document.body.removeEventListener("touchmove",Ig),t.removeEventListener("touchend",Ng)},Cg=t=>{const e=It();if(t.target===e||Vc().contains(t.target)){_2=!0;const n=c4(t);a4=n.clientX,o4=n.clientY,l4=parseInt(e.style.insetInlineStart)||0,u4=parseInt(e.style.insetBlockStart)||0,Ot(e,"swal2-dragging")}},Ig=t=>{const e=It();if(_2){let{clientX:n,clientY:r}=c4(t);e.style.insetInlineStart=`${l4+(n-a4)}px`,e.style.insetBlockStart=`${u4+(r-o4)}px`}},Ng=()=>{const t=It();_2=!1,Ri(t,"swal2-dragging")},c4=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},AQ=(t,e)=>{const n=Sr(),r=It();if(!(!n||!r)){if(e.toast){Ol(n,"width",e.width),r.style.width="100%";const i=Hc();i&&r.insertBefore(i,Vc())}else Ol(r,"width",e.width);Ol(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),yr(v0()),SQ(r,e),e.draggable&&!e.toast?(Ot(r,me.draggable),vQ(r)):(Ri(r,me.draggable),xQ(r))}},SQ=(t,e)=>{const n=e.showClass||{};t.className=`${me.popup} ${zr(t)?n.popup:""}`,e.toast?(Ot([document.documentElement,document.body],me["toast-shown"]),Ot(t,me.toast)):Ot(t,me.modal),ai(t,e,"popup"),typeof e.customClass=="string"&&Ot(t,e.customClass),e.icon&&Ot(t,me[`icon-${e.icon}`])},CQ=(t,e)=>{const n=f2();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){yr(n);return}Xn(n),n.textContent="",i>=r.length&&Ar("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((o,l)=>{const c=IQ(o);if(n.appendChild(c),l===i&&Ot(c,me["active-progress-step"]),l!==r.length-1){const h=NQ(e);n.appendChild(h)}})},IQ=t=>{const e=document.createElement("li");return Ot(e,me["progress-step"]),li(e,t),e},NQ=t=>{const e=document.createElement("li");return Ot(e,me["progress-step-line"]),t.progressStepsDistance&&Ol(e,"width",t.progressStepsDistance),e},kQ=(t,e)=>{const n=ZD();n&&(y2(n),If(n,!!(e.title||e.titleText),"block"),e.title&&E2(e.title,n),e.titleText&&(n.innerText=e.titleText),ai(n,e,"title"))},h4=(t,e)=>{AQ(t,e),aQ(t,e),CQ(t,e),bQ(t,e),wQ(t,e),kQ(t,e),sQ(t,e),gQ(t,e),nQ(t,e),yQ(t,e);const n=It();typeof e.didRender=="function"&&n&&e.didRender(n),He.eventEmitter.emit("didRender",n)},RQ=()=>zr(It()),d4=()=>{var t;return(t=Us())===null||t===void 0?void 0:t.click()},DQ=()=>{var t;return(t=Ql())===null||t===void 0?void 0:t.click()},OQ=()=>{var t;return(t=Fc())===null||t===void 0?void 0:t.click()},zc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),f4=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},PQ=(t,e,n)=>{f4(t),e.toast||(t.keydownHandler=r=>MQ(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:It(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},zE=(t,e)=>{var n;const r=p2();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=It())===null||n===void 0||n.focus()},m4=["ArrowRight","ArrowDown"],LQ=["ArrowLeft","ArrowUp"],MQ=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?BQ(e,t):e.key==="Tab"?UQ(e):[...m4,...LQ].includes(e.key)?jQ(e.key):e.key==="Escape"&&VQ(e,t,n)))},BQ=(t,e)=>{if(!w0(e.allowEnterKey))return;const n=S0(It(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;d4(),t.preventDefault()}},UQ=t=>{const e=t.target,n=p2();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?zE(r,-1):zE(r,1),t.stopPropagation(),t.preventDefault()},jQ=t=>{const e=Cf(),n=Us(),r=Ql(),i=Fc();if(!e||!n||!r||!i)return;const o=[n,r,i];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const l=m4.includes(t)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let h=0;h<e.children.length;h++){if(c=c[l],!c)return;if(c instanceof HTMLButtonElement&&zr(c))break}c instanceof HTMLButtonElement&&c.focus()}},VQ=(t,e,n)=>{t.preventDefault(),w0(e.allowEscapeKey)&&n(zc.esc)};var _c={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const FQ=()=>{const t=Sr();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},p4=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},g4=typeof window<"u"&&!!window.GestureEvent,HQ=()=>{if(g4&&!ga(document.body,me.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Ot(document.body,me.iosfix),zQ()}},zQ=()=>{const t=Sr();if(!t)return;let e;t.ontouchstart=n=>{e=qQ(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},qQ=t=>{const e=t.target,n=Sr(),r=d2();return!n||!r||YQ(t)||GQ(t)?!1:e===n||!HE(n)&&e instanceof HTMLElement&&!qK(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(HE(r)&&r.contains(e))},YQ=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",GQ=t=>t.touches&&t.touches.length>1,$Q=()=>{if(ga(document.body,me.iosfix)){const t=parseInt(document.body.style.top,10);Ri(document.body,me.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},KQ=()=>{const t=document.createElement("div");t.className=me["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let sc=null;const QQ=t=>{sc===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(sc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${sc+KQ()}px`)},WQ=()=>{sc!==null&&(document.body.style.paddingRight=`${sc}px`,sc=null)};function y4(t,e,n,r){A0()?jI(t,r):(PK(n).then(()=>jI(t,r)),f4(He)),g4?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),g2()&&(WQ(),$Q(),p4()),XQ()}function XQ(){Ri([document.documentElement,document.body],[me.shown,me["height-auto"],me["no-backdrop"],me["toast-shown"]])}function To(t){t=JQ(t);const e=_c.swalPromiseResolve.get(this),n=ZQ(this);this.isAwaitingPromise?t.isDismissed||(kf(this),e(t)):n&&e(t)}const ZQ=t=>{const e=It();if(!e)return!1;const n=$t.innerParams.get(t);if(!n||ga(e,n.hideClass.popup))return!1;Ri(e,n.showClass.popup),Ot(e,n.hideClass.popup);const r=Sr();return Ri(r,n.showClass.backdrop),Ot(r,n.hideClass.backdrop),eW(t,e,n),!0};function b4(t){const e=_c.swalPromiseReject.get(this);kf(this),e&&e(t)}const kf=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,$t.innerParams.get(t)||t._destroy())},JQ=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),eW=(t,e,n)=>{var r;const i=Sr(),o=r4(e);typeof n.willClose=="function"&&n.willClose(e),(r=He.eventEmitter)===null||r===void 0||r.emit("willClose",e),o?tW(t,e,i,n.returnFocus,n.didClose):y4(t,i,n.returnFocus,n.didClose)},tW=(t,e,n,r,i)=>{He.swalCloseEventFinishedCallback=y4.bind(null,t,n,r,i);const o=function(l){if(l.target===e){var c;(c=He.swalCloseEventFinishedCallback)===null||c===void 0||c.call(He),delete He.swalCloseEventFinishedCallback,e.removeEventListener("animationend",o),e.removeEventListener("transitionend",o)}};e.addEventListener("animationend",o),e.addEventListener("transitionend",o)},jI=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=He.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},wc=t=>{let e=It();if(e||new ni,e=It(),!e)return;const n=Hc();A0()?yr(Vc()):nW(e,t),Xn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},nW=(t,e)=>{const n=Cf(),r=Hc();!n||!r||(!e&&zr(Us())&&(e=Us()),Xn(n),e&&(yr(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),Ot([t,n],me.loading))},rW=(t,e)=>{e.input==="select"||e.input==="radio"?lW(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(c2(e.inputValue)||h2(e.inputValue))&&(wc(Us()),uW(t,e))},iW=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return sW(n);case"radio":return aW(n);case"file":return oW(n);default:return e.inputAutoTrim?n.value.trim():n.value}},sW=t=>t.checked?1:0,aW=t=>t.checked?t.value:null,oW=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,lW=(t,e)=>{const n=It();if(!n)return;const r=i=>{e.input==="select"?cW(n,kg(i),e):e.input==="radio"&&hW(n,kg(i),e)};c2(e.inputOptions)||h2(e.inputOptions)?(wc(Us()),Af(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):Kl(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},uW=(t,e)=>{const n=t.getInput();n&&(yr(n),Af(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Xn(n),n.focus(),t.hideLoading()}).catch(r=>{Kl(`Error in inputValue promise: ${r}`),n.value="",Xn(n),n.focus(),t.hideLoading()}))};function cW(t,e,n){const r=Eo(t,me.select);if(!r)return;const i=(o,l,c)=>{const h=document.createElement("option");h.value=c,li(h,l),h.selected=E4(c,n.inputValue),o.appendChild(h)};e.forEach(o=>{const l=o[0],c=o[1];if(Array.isArray(c)){const h=document.createElement("optgroup");h.label=l,h.disabled=!1,r.appendChild(h),c.forEach(f=>i(h,f[1],f[0]))}else i(r,c,l)}),r.focus()}function hW(t,e,n){const r=Eo(t,me.radio);if(!r)return;e.forEach(o=>{const l=o[0],c=o[1],h=document.createElement("input"),f=document.createElement("label");h.type="radio",h.name=me.radio,h.value=l,E4(l,n.inputValue)&&(h.checked=!0);const m=document.createElement("span");li(m,c),m.className=me.label,f.appendChild(h),f.appendChild(m),r.appendChild(f)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const kg=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=kg(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=kg(r)),e.push([n,r])}),e},E4=(t,e)=>!!e&&e.toString()===t.toString(),dW=t=>{const e=$t.innerParams.get(t);t.disableButtons(),e.input?T4(t,"confirm"):v2(t,!0)},fW=t=>{const e=$t.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?T4(t,"deny"):w2(t,!1)},mW=(t,e)=>{t.disableButtons(),e(zc.cancel)},T4=(t,e)=>{const n=$t.innerParams.get(t);if(!n.input){Kl(`The "input" parameter is needed to be set when using returnInputValueOn${u2(e)}`);return}const r=t.getInput(),i=iW(t,n);n.inputValidator?pW(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?w2(t,i):v2(t,i)},pW=(t,e,n)=>{const r=$t.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Af(r.inputValidator(e,r.validationMessage))).then(o=>{t.enableButtons(),t.enableInput(),o?t.showValidationMessage(o):n==="deny"?w2(t,e):v2(t,e)})},w2=(t,e)=>{const n=$t.innerParams.get(t||void 0);n.showLoaderOnDeny&&wc(Ql()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Af(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),kf(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>_4(t||void 0,i))):t.close({isDenied:!0,value:e})},VI=(t,e)=>{t.close({isConfirmed:!0,value:e})},_4=(t,e)=>{t.rejectPromise(e)},v2=(t,e)=>{const n=$t.innerParams.get(t||void 0);n.showLoaderOnConfirm&&wc(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Af(n.preConfirm(e,n.validationMessage))).then(i=>{zr(v0())||i===!1?(t.hideLoading(),kf(t)):VI(t,typeof i>"u"?e:i)}).catch(i=>_4(t||void 0,i))):VI(t,e)};function Rg(){const t=$t.innerParams.get(this);if(!t)return;const e=$t.domCache.get(this);yr(e.loader),A0()?t.icon&&Xn(Vc()):gW(e),Ri([e.popup,e.actions],me.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const gW=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Xn(e[0],"inline-block"):zK()&&yr(t.actions)};function w4(){const t=$t.innerParams.get(this),e=$t.domCache.get(this);return e?S0(e.popup,t.input):null}function v4(t,e,n){const r=$t.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function x4(t,e){const n=It();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${me.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function A4(){v4(this,["confirmButton","denyButton","cancelButton"],!1)}function S4(){v4(this,["confirmButton","denyButton","cancelButton"],!0)}function C4(){x4(this.getInput(),!1)}function I4(){x4(this.getInput(),!0)}function N4(t){const e=$t.domCache.get(this),n=$t.innerParams.get(this);li(e.validationMessage,t),e.validationMessage.className=me["validation-message"],n.customClass&&n.customClass.validationMessage&&Ot(e.validationMessage,n.customClass.validationMessage),Xn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",me["validation-message"]),t4(r),Ot(r,me.inputerror))}function k4(){const t=$t.domCache.get(this);t.validationMessage&&yr(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Ri(e,me.inputerror))}const ac={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},yW=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],bW={allowEnterKey:void 0},EW=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],R4=t=>Object.prototype.hasOwnProperty.call(ac,t),D4=t=>yW.indexOf(t)!==-1,O4=t=>bW[t],TW=t=>{R4(t)||Ar(`Unknown parameter "${t}"`)},_W=t=>{EW.includes(t)&&Ar(`The parameter "${t}" is incompatible with toasts`)},wW=t=>{const e=O4(t);e&&XD(t,e)},P4=t=>{t.backdrop===!1&&t.allowOutsideClick&&Ar('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Ar(`Invalid theme "${t.theme}"`);for(const e in t)TW(e),t.toast&&_W(e),wW(e)};function L4(t){const e=Sr(),n=It(),r=$t.innerParams.get(this);if(!n||ga(n,r.hideClass.popup)){Ar("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=vW(t),o=Object.assign({},r,i);P4(o),e.dataset.swal2Theme=o.theme,h4(this,o),$t.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const vW=t=>{const e={};return Object.keys(t).forEach(n=>{D4(n)?e[n]=t[n]:Ar(`Invalid parameter to update: ${n}`)}),e};function M4(){const t=$t.domCache.get(this),e=$t.innerParams.get(this);if(!e){B4(this);return}t.popup&&He.swalCloseEventFinishedCallback&&(He.swalCloseEventFinishedCallback(),delete He.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),He.eventEmitter.emit("didDestroy"),xW(this)}const xW=t=>{B4(t),delete t.params,delete He.keydownHandler,delete He.keydownTarget,delete He.currentInstance},B4=t=>{t.isAwaitingPromise?(v1($t,t),t.isAwaitingPromise=!0):(v1(_c,t),v1($t,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},v1=(t,e)=>{for(const n in t)t[n].delete(e)};var AW=Object.freeze({__proto__:null,_destroy:M4,close:To,closeModal:To,closePopup:To,closeToast:To,disableButtons:S4,disableInput:I4,disableLoading:Rg,enableButtons:A4,enableInput:C4,getInput:w4,handleAwaitingPromise:kf,hideLoading:Rg,rejectPromise:b4,resetValidationMessage:k4,showValidationMessage:N4,update:L4});const SW=(t,e,n)=>{t.toast?CW(t,e,n):(NW(e),kW(e),RW(t,e,n))},CW=(t,e,n)=>{e.popup.onclick=()=>{t&&(IW(t)||t.timer||t.input)||n(zc.close)}},IW=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Dg=!1;const NW=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Dg=!0)}}},kW=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Dg=!0)}}},RW=(t,e,n)=>{e.container.onclick=r=>{if(Dg){Dg=!1;return}r.target===e.container&&w0(t.allowOutsideClick)&&n(zc.backdrop)}},DW=t=>typeof t=="object"&&t.jquery,FI=t=>t instanceof Element||DW(t),OW=t=>{const e={};return typeof t[0]=="object"&&!FI(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||FI(i)?e[n]=i:i!==void 0&&Kl(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function PW(...t){return new this(...t)}function LW(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const MW=()=>He.timeout&&He.timeout.getTimerLeft(),U4=()=>{if(He.timeout)return YK(),He.timeout.stop()},j4=()=>{if(He.timeout){const t=He.timeout.start();return b2(t),t}},BW=()=>{const t=He.timeout;return t&&(t.running?U4():j4())},UW=t=>{if(He.timeout){const e=He.timeout.increase(t);return b2(e,!0),e}},jW=()=>!!(He.timeout&&He.timeout.isRunning());let HI=!1;const qE={};function VW(t="data-swal-template"){qE[t]=this,HI||(document.body.addEventListener("click",FW),HI=!0)}const FW=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in qE){const r=e.getAttribute(n);if(r){qE[n].fire({template:r});return}}};class HW{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...i)=>{this.removeListener(e,r),n.apply(this,i)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(i){console.error(i)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}He.eventEmitter=new HW;const zW=(t,e)=>{He.eventEmitter.on(t,e)},qW=(t,e)=>{He.eventEmitter.once(t,e)},YW=(t,e)=>{if(!t){He.eventEmitter.reset();return}e?He.eventEmitter.removeListener(t,e):He.eventEmitter.removeAllListeners(t)};var GW=Object.freeze({__proto__:null,argsToParams:OW,bindClickHandler:VW,clickCancel:OQ,clickConfirm:d4,clickDeny:DQ,enableLoading:wc,fire:PW,getActions:Cf,getCancelButton:Fc,getCloseButton:m2,getConfirmButton:Us,getContainer:Sr,getDenyButton:Ql,getFocusableElements:p2,getFooter:e4,getHtmlContainer:d2,getIcon:Vc,getIconContent:UK,getImage:JD,getInputLabel:jK,getLoader:Hc,getPopup:It,getProgressSteps:f2,getTimerLeft:MW,getTimerProgressBar:x0,getTitle:ZD,getValidationMessage:v0,increaseTimer:UW,isDeprecatedParameter:O4,isLoading:FK,isTimerRunning:jW,isUpdatableParameter:D4,isValidParameter:R4,isVisible:RQ,mixin:LW,off:YW,on:zW,once:qW,resumeTimer:j4,showLoading:wc,stopTimer:U4,toggleTimer:BW});class $W{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const V4=["swal-title","swal-html","swal-footer"],KW=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return nX(n),Object.assign(QW(n),WW(n),XW(n),ZW(n),JW(n),eX(n),tX(n,V4))},QW=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Hl(r,["name","value"]);const i=r.getAttribute("name"),o=r.getAttribute("value");!i||!o||(typeof ac[i]=="boolean"?e[i]=o!=="false":typeof ac[i]=="object"?e[i]=JSON.parse(o):e[i]=o)}),e},WW=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),o=r.getAttribute("value");!i||!o||(e[i]=new Function(`return ${o}`)())}),e},XW=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Hl(r,["type","color","aria-label"]);const i=r.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=r.innerHTML,e[`show${u2(i)}Button`]=!0,r.hasAttribute("color")&&(e[`${i}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},ZW=t=>{const e={},n=t.querySelector("swal-image");return n&&(Hl(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},JW=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Hl(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},eX=t=>{const e={},n=t.querySelector("swal-input");n&&(Hl(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{Hl(i,["value"]);const o=i.getAttribute("value");if(!o)return;const l=i.innerHTML;e.inputOptions[o]=l})),e},tX=(t,e)=>{const n={};for(const r in e){const i=e[r],o=t.querySelector(i);o&&(Hl(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},nX=t=>{const e=V4.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Ar(`Unrecognized element <${r}>`)})},Hl=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Ar([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},F4=10,rX=t=>{const e=Sr(),n=It();typeof t.willOpen=="function"&&t.willOpen(n),He.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;aX(e,n,t),setTimeout(()=>{iX(e,n)},F4),g2()&&(sX(e,t.scrollbarPadding,i),FQ()),!A0()&&!He.previousActiveElement&&(He.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),He.eventEmitter.emit("didOpen",n)},Og=t=>{const e=It();if(t.target!==e)return;const n=Sr();e.removeEventListener("animationend",Og),e.removeEventListener("transitionend",Og),n.style.overflowY="auto",Ri(n,me["no-transition"])},iX=(t,e)=>{r4(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Og),e.addEventListener("transitionend",Og)):t.style.overflowY="auto"},sX=(t,e,n)=>{HQ(),e&&n!=="hidden"&&QQ(n),setTimeout(()=>{t.scrollTop=0})},aX=(t,e,n)=>{Ot(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Xn(e,"grid"),setTimeout(()=>{Ot(e,n.showClass.popup),e.style.removeProperty("opacity")},F4)):Xn(e,"grid"),Ot([document.documentElement,document.body],me.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ot([document.documentElement,document.body],me["height-auto"])};var zI={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function oX(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=zI.email),t.input==="url"&&(t.inputValidator=zI.url))}function lX(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Ar('Target parameter is not valid, defaulting to "body"'),t.target="body")}function uX(t){oX(t),t.showLoaderOnConfirm&&!t.preConfirm&&Ar(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),lX(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),JK(t)}let Ss;var _p=new WeakMap;class An{constructor(...e){if(kK(this,_p,void 0),typeof window>"u")return;Ss=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,RK(_p,this,this._main(Ss.params))}_main(e,n={}){if(P4(Object.assign({},n,e)),He.currentInstance){const o=_c.swalPromiseResolve.get(He.currentInstance),{isAwaitingPromise:l}=He.currentInstance;He.currentInstance._destroy(),l||o({isDismissed:!0}),g2()&&p4()}He.currentInstance=Ss;const r=hX(e,n);uX(r),Object.freeze(r),He.timeout&&(He.timeout.stop(),delete He.timeout),clearTimeout(He.restoreFocusTimeout);const i=dX(Ss);return h4(Ss,r),$t.innerParams.set(Ss,r),cX(Ss,i,r)}then(e){return OI(_p,this).then(e)}finally(e){return OI(_p,this).finally(e)}}const cX=(t,e,n)=>new Promise((r,i)=>{const o=l=>{t.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};_c.swalPromiseResolve.set(t,r),_c.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{dW(t)},e.denyButton.onclick=()=>{fW(t)},e.cancelButton.onclick=()=>{mW(t,o)},e.closeButton.onclick=()=>{o(zc.close)},SW(n,e,o),PQ(He,n,o),rW(t,n),rX(n),fX(He,n,o),mX(e,n),setTimeout(()=>{e.container.scrollTop=0})}),hX=(t,e)=>{const n=KW(t),r=Object.assign({},ac,e,n,t);return r.showClass=Object.assign({},ac.showClass,r.showClass),r.hideClass=Object.assign({},ac.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},dX=t=>{const e={popup:It(),container:Sr(),actions:Cf(),confirmButton:Us(),denyButton:Ql(),cancelButton:Fc(),loader:Hc(),closeButton:m2(),validationMessage:v0(),progressSteps:f2()};return $t.domCache.set(t,e),e},fX=(t,e,n)=>{const r=x0();yr(r),e.timer&&(t.timeout=new $W(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Xn(r),ai(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&b2(e.timer)})))},mX=(t,e)=>{if(!e.toast){if(!w0(e.allowEnterKey)){XD("allowEnterKey"),yX();return}pX(t)||gX(t,e)||zE(-1,1)}},pX=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&zr(n))return n.focus(),!0;return!1},gX=(t,e)=>e.focusDeny&&zr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&zr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&zr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,yX=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};An.prototype.disableButtons=S4;An.prototype.enableButtons=A4;An.prototype.getInput=w4;An.prototype.disableInput=I4;An.prototype.enableInput=C4;An.prototype.hideLoading=Rg;An.prototype.disableLoading=Rg;An.prototype.showValidationMessage=N4;An.prototype.resetValidationMessage=k4;An.prototype.close=To;An.prototype.closePopup=To;An.prototype.closeModal=To;An.prototype.closeToast=To;An.prototype.rejectPromise=b4;An.prototype.update=L4;An.prototype._destroy=M4;Object.assign(An,GW);Object.keys(AW).forEach(t=>{An[t]=function(...e){return Ss&&Ss[t]?Ss[t](...e):null}});An.DismissReason=zc;An.version="11.26.3";const ni=An;ni.default=ni;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function bX(){const t=q.useRef(null),[e,n]=q.useState({nombre:"",email:"",mensaje:""});q.useEffect(()=>{IK.init({duration:1e3,once:!0}),window.location.hash==="#contacto"&&setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},200)},[]);const r=o=>{const{name:l,value:c}=o.target;n({...e,[l]:c})},i=async o=>{if(o.preventDefault(),!e.nombre||!e.email||!e.mensaje){ni.fire({icon:"warning",title:"Campos incompletos",text:"Por favor llena todos los campos ",confirmButtonColor:"#e06b8b"});return}try{await bf(Hr(wt,"mensajesContacto"),{nombre:e.nombre,email:e.email,mensaje:e.mensaje,fecha:ca()}),ni.fire({icon:"success",title:"Mensaje enviado!",text:"Gracias por contactarte con NovaGlow  Te responderemos pronto.",confirmButtonColor:"#e06b8b"}),n({nombre:"",email:"",mensaje:""})}catch(l){console.error("Error al guardar en Firebase:",l),ni.fire({icon:"error",title:"Error al enviar",text:"Hubo un problema  Intenta nuevamente.",confirmButtonColor:"#e06b8b"})}};return T.jsxs("section",{ref:t,className:"min-h-screen flex flex-col items-center bg-pink-50 relative overflow-hidden",id:"contacto",children:[T.jsxs(Wt.header,{"data-aos":"fade-down",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:1.2,ease:"easeOut"},style:{background:"linear-gradient(to right, #f9a8d4, #f472b6, #ec4899)"},className:"w-full text-white shadow-md py-4 px-6 flex items-center justify-center space-x-3 rounded-b-3xl",children:[T.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdLs5Kjrl497ZOGYAMibYSX4tY-8HF8uM33Q&s",alt:"Logo NovaGlow",className:"w-12 h-12 rounded-full object-cover border-2 border-pink-400 shadow-md"}),T.jsx("h1",{className:"text-2xl text-white font-bold tracking-wide",children:"NovaGlow "})]}),T.jsx(Wt.div,{className:"absolute inset-0",style:{background:"radial-gradient(circle at 20% 30%, rgba(255,192,203,0.25), transparent), radial-gradient(circle at 80% 70%, rgba(255,182,193,0.25), transparent)"},animate:{backgroundPosition:["0% 0%","100% 100%","0% 0%"]},transition:{duration:20,ease:"linear",repeat:1/0}}),T.jsxs(Wt.div,{"data-aos":"fade-up",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:1.3,ease:"easeOut"},className:"relative bg-white/80 backdrop-blur-md rounded-2xl shadow-xl p-8 mt-12 w-full max-w-lg border border-pink-200 z-10",children:[T.jsx(Wt.h2,{className:"text-3xl font-bold text-pink-700 mb-6 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:" Contctanos"}),T.jsxs("p",{className:"text-center text-pink-600 mb-6",children:["Tienes dudas sobre tallas, colores o envos? En ",T.jsx("strong",{children:"NovaGlow"})," queremos ayudarte a brillar con estilo "]}),T.jsxs("form",{onSubmit:i,className:"space-y-4",children:[["nombre","email","mensaje"].map((o,l)=>T.jsxs(Wt.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:l*.1+.5,duration:.6},whileHover:{scale:1.01},children:[T.jsx("label",{className:"block text-pink-700 font-semibold mb-2 capitalize",children:o==="email"?"Correo electrnico":o}),o==="mensaje"?T.jsx("textarea",{name:"mensaje",value:e.mensaje,onChange:r,className:"w-full px-4 py-2 rounded-lg border border-pink-300 focus:ring-2 focus:ring-pink-400 outline-none bg-white h-32 transition-all",placeholder:"Cuntanos en qu podemos ayudarte..."}):T.jsx("input",{type:o==="email"?"email":"text",name:o,value:e[o],onChange:r,className:"w-full px-4 py-2 rounded-lg border border-pink-300 focus:ring-2 focus:ring-pink-400 outline-none bg-white transition-all",placeholder:o==="nombre"?"Tu nombre":"Tu correo electrnico"})]},o)),T.jsx(Wt.button,{whileHover:{scale:1.03,backgroundColor:"#ec7a9d",boxShadow:"0px 0px 12px rgba(224,107,139,0.5)"},whileTap:{scale:.97},transition:{type:"spring",stiffness:200,damping:15},type:"submit",className:"w-full bg-pink-500 text-white font-semibold py-3 rounded-lg transition-all duration-300",children:"Enviar mensaje "})]}),T.jsxs(Wt.div,{"data-aos":"fade-up",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:1.2},className:"bg-white rounded-2xl border border-pink-200 p-5 mt-10 text-pink-700 shadow-sm",children:[T.jsx("h3",{className:"text-center text-2xl font-bold mb-3",children:" Quieres visitarnos?"}),T.jsxs("p",{className:"text-center mb-4",children:["Estamos ubicados en"," ",T.jsx("strong",{children:"Av. Per 2456, San Martn de Porres, Lima"}),"(dentro del CETPRO San Martn de Porres)."]}),T.jsx("p",{className:"font-semibold",children:" Horario de atencin:"}),T.jsxs("ul",{className:"list-disc list-inside mb-3",children:[T.jsx("li",{children:" Lunes a Viernes: 9:00am a 8:00pm"}),T.jsx("li",{children:" Sbados: 10:00am a 6:00pm"}),T.jsx("li",{children:" Domingos: 11:00am a 4:00pm"})]}),T.jsx("p",{className:"font-semibold",children:" Transporte pblico:"}),T.jsx("p",{className:"mb-3",children:"Puedes tomar cualquier bus o combi que recorra la Av. Per. Bjate en el paradero frente al CETPRO San Martn de Porres."}),T.jsx("p",{className:"font-semibold",children:" Transporte privado:"}),T.jsxs("p",{children:["Si vienes en auto, puedes ingresar por la Av. Per. Encuntranos fcilmente en Google Maps como"," ",T.jsx("strong",{children:"NovaGlow"})," "]})]}),T.jsx(Wt.h3,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},className:"text-center text-pink-700 font-semibold mt-10 mb-3 text-lg",children:" Dnde nos encontramos?"}),T.jsx(Wt.div,{"data-aos":"fade-up",whileHover:{scale:1.01},transition:{duration:.6},className:"rounded-2xl overflow-hidden border-4 border-pink-300 shadow-md",children:T.jsx("iframe",{title:"Ubicacin NovaGlow",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3902.34663617231!2d-77.06295722579449!3d-12.019640241394551!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105cede39f7dc47%3A0x73c5c016d20e66a3!2sCETPRO%20San%20Mart%C3%ADn%20de%20Porres!5e0!3m2!1ses!2spe!4v1761064346856!5m2!1ses!2spe",width:"100%",height:"300",style:{border:0},allowFullScreen:"",loading:"lazy"})}),T.jsxs("p",{className:"text-center text-pink-600 mt-6 font-semibold",children:[" Vistanos en ",T.jsx("span",{className:"text-pink-700",children:"NovaGlow"})," y brilla con estilo "]})]}),T.jsx(Wt.a,{href:"https://wa.me/51941433000",target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg z-50",animate:{y:[0,-4,0]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},whileHover:{scale:1.15,boxShadow:"0 0 12px rgba(72, 187, 120, 0.6)"},children:""})]})}const EX=()=>T.jsxs("footer",{className:"bg-pink-100 text-gray-900 rounded-3xl p-10 mt-12 justify-center",children:[T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 border-b border-pink-200 pb-8 mb-8",children:[T.jsxs("div",{className:"space-y-3 col-span-2 md:col-span-1",children:[T.jsx("h3",{className:"text-2xl font-bold text-pink-500 font-sans",children:"Nova Glow"}),T.jsx("p",{className:"text-sm text-gray-600",children:"Encendiendo tu confianza, una prenda a la vez. Moda con propsito."}),T.jsxs("div",{className:"flex space-x-4 pt-2",children:[T.jsx("a",{href:"#",className:"text-gray-600 hover:text-pink-500 transition",children:T.jsx(K$,{className:"w-5 h-5"})}),T.jsx("a",{href:"#",className:"text-gray-600 hover:text-pink-500 transition",children:T.jsx(mK,{className:"w-5 h-5"})}),T.jsx("a",{href:"#",className:"text-gray-600 hover:text-pink-500 transition",children:T.jsx(nK,{className:"w-5 h-5"})})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Descubre"}),T.jsxs("ul",{className:"space-y-2 text-sm",children:[T.jsx("li",{children:T.jsx(et,{to:"/blog-inspiracion",className:"text-gray-600 hover:text-pink-500 transition",children:"Blog / Inspiracin"})}),T.jsx("li",{children:T.jsx(et,{to:"/guia-estilo",className:"text-gray-600 hover:text-pink-500 transition",children:"Gua de Estilo"})}),T.jsx("li",{children:T.jsx(et,{to:"/tendencias-noche",className:"text-gray-600 hover:text-pink-500 transition",children:"Tendencias de Noche"})})]})]}),T.jsxs("div",{className:"col-span-2 md:col-span-1",children:[T.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Novedades (Newsletter)"}),T.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"S la primera en saber sobre nuevas colecciones y ofertas exclusivas."}),T.jsx("div",{className:"flex",children:T.jsx(l2,{minimal:!0})})]})]}),T.jsxs("div",{className:"text-center text-gray-600 text-xs",children:[" ",new Date().getFullYear()," Nova Glow. Todos los derechos reservados."]})]});function TX({onLoginRequired:t}){const{carrito:e}=gT(),{usuario:n}=Ia(),r=ts(),i=e.reduce((l,c)=>l+c.cantidad,0),o=()=>{n?r("/carrito"):t?t():r("/login")};return T.jsxs("button",{onClick:o,className:"relative p-2 rounded-full hover:bg-pink-100 transition",children:[T.jsx(oK,{className:"text-pink-600 w-6 h-6"}),i>0&&T.jsx("span",{className:"absolute -top-1 -right-1 bg-pink-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold shadow-md",children:i})]})}const _X=({isOpen:t,onClose:e})=>{const{usuario:n,subirFotoPerfil:r,updateUserProfile:i}=Ia(),[o,l]=q.useState(null),[c,h]=q.useState(null),[f,m]=q.useState(n?.displayName||""),[g,E]=q.useState(!1);if(!n)return null;const w=F=>{const X=F.target.files?.[0];X&&(h(X),l(URL.createObjectURL(X)))},x=()=>{const F=document.createElement("canvas");F.id="perfil-confetti",F.style.position="fixed",F.style.top="0",F.style.left="0",F.style.width="100vw",F.style.height="100vh",F.style.pointerEvents="none",F.style.zIndex="999999",document.body.appendChild(F),Fl.create(F,{resize:!0})({particleCount:150,spread:70,origin:{y:.6}}),setTimeout(()=>{F.remove()},1500)},C=async()=>{if(c){E(!0);try{const F=await r(c);await i({nombre:f,foto:F}),l(null),h(null),x()}catch(F){console.error(F),alert("Error al actualizar foto")}E(!1)}},I=async()=>{E(!0);try{await i({nombre:f,foto:n.foto}),x()}catch(F){console.error(F),alert("No se pudo actualizar el nombre")}E(!1)},k=async()=>{if(confirm("Seguro que quieres eliminar tu foto?")){E(!0);try{await i({nombre:f,foto:null}),l(null),h(null)}catch(F){console.error(F),alert("No se pudo eliminar la foto")}E(!1)}},Y=o||n.foto||n.photoURL;return T.jsx(Vd,{children:t&&T.jsx(Wt.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-999",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:T.jsxs(Wt.div,{className:"bg-linear-to-br from-[#fdf2f8] via-[#fce7f3] to-[#fbcfe8] rounded-3xl shadow-2xl p-6 w-96 relative border-4 border-[#f9a8d4]",initial:{scale:.8},animate:{scale:1},exit:{scale:.8},children:[T.jsx("button",{className:"absolute right-4 top-4 text-gray-500 hover:text-pink-600 transition-colors",onClick:e,children:T.jsx(vg,{size:22})}),T.jsx("h2",{className:"text-3xl font-extrabold text-pink-600 mb-6 text-center drop-shadow-lg",children:"Mi Perfil"}),T.jsxs("div",{className:"flex flex-col items-center",children:[Y?T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:Y,alt:"perfil",className:"w-28 h-28 rounded-full border-4 border-pink-400 shadow-xl object-cover transition-transform hover:scale-105"}),T.jsx("div",{className:"absolute bottom-0 right-0 bg-pink-500 rounded-full p-2 cursor-pointer hover:bg-pink-600 transition-colors",children:T.jsx(j$,{size:18,className:"text-white"})})]}):T.jsx("div",{className:"w-28 h-28 rounded-full bg-pink-300 flex items-center justify-center text-white text-4xl font-bold shadow-xl",children:f?.charAt(0).toUpperCase()||"U"}),T.jsxs("div",{className:"mt-4 w-full text-center",children:[T.jsx("label",{className:"text-gray-700 font-semibold mb-1 block",children:"Nombre"}),T.jsx("input",{type:"text",value:f,onChange:F=>m(F.target.value),className:"block mx-auto border px-3 py-2 rounded-xl w-3/4 text-center shadow-md focus:outline-none focus:ring-2 focus:ring-pink-400"}),T.jsx("button",{onClick:I,className:"mt-3 bg-pink-500 text-white px-5 py-2 rounded-xl hover:bg-pink-600 transition-transform hover:scale-105 disabled:opacity-50 shadow-md",disabled:g,children:"Guardar nombre"})]}),T.jsxs("p",{className:"text-gray-700 mt-3",children:[T.jsx("strong",{children:"Email:"})," ",n.email]}),T.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"mt-3"}),o&&T.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[T.jsx("p",{className:"text-pink-600 font-semibold mb-2",children:"Vista previa"}),T.jsx("img",{src:o,className:"w-28 h-28 rounded-full object-cover border-4 border-pink-400 shadow-lg transition-transform hover:scale-105",alt:"preview"}),T.jsx("button",{onClick:C,disabled:g,className:"mt-3 bg-pink-500 hover:bg-pink-600 text-white font-bold py-2 px-5 rounded-xl transition-transform hover:scale-105 disabled:opacity-50 shadow-md",children:g?"Guardando...":"Guardar foto"})]}),(n.foto||n.photoURL)&&!o&&T.jsx("button",{onClick:k,disabled:g,className:"mt-3 text-red-500 font-semibold hover:underline disabled:opacity-50",children:"Eliminar foto"})]})]})})})};function wX(){const[t,e]=q.useState(!1),{usuario:n}=Ia(),r=["fundadora@novaglow.com","hylromeroduran@crackthecode.la","editor@novaglow.com"];return T.jsxs("div",{className:"relative",children:[T.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 text-gray-700 font-semibold hover:text-pink-500 transition text-md",children:[T.jsx(et,{to:"/nosotros",onClick:i=>i.stopPropagation(),className:"hover:text-pink-500 transition",children:"Nosotros"}),T.jsx(GD,{className:`w-5 h-5 transform transition-transform ${t?"rotate-180":""}`})]}),t&&T.jsxs("div",{className:"absolute right-0 mt-3 bg-white shadow-lg rounded-xl border border-gray-100 py-3 w-56 z-50 animate-fadeIn",children:[T.jsx(et,{to:"/inspiracion",className:"block px-4 py-2 text-gray-700 hover:text-pink-600 hover:bg-pink-50 transition",children:" Ver Blog & Galera"}),n&&r.includes(n.email)&&T.jsxs(et,{to:"/adminblog",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-pink-600 hover:bg-pink-50 transition",children:[T.jsx(wg,{className:"w-4 h-4"})," Panel de Administracin"]})]})]})}function vX({closeMenu:t}){const[e,n]=q.useState(!1),{usuario:r}=Ia(),i=["fundadora@novaglow.com","hylromeroduran@crackthecode.la"];return T.jsxs("li",{className:"flex flex-col",children:[T.jsxs("button",{onClick:()=>n(!e),className:"flex items-center justify-between w-full text-gray-700 font-medium hover:text-pink-500 transition",children:[T.jsx("span",{children:"Nosotros"}),T.jsx(GD,{className:`w-5 h-5 transition-transform ${e?"rotate-180":""}`})]}),e&&T.jsxs("div",{className:"mt-2 ml-3 flex flex-col gap-2",children:[T.jsx(et,{to:"/inspiracion",onClick:t,className:"text-gray-700 hover:text-pink-600 transition",children:" Ver Blog & Galera"}),r&&i.includes(r.email)&&T.jsxs(et,{to:"/adminblog",onClick:t,className:"flex items-center gap-1 text-gray-700 hover:text-pink-600 transition",children:[T.jsx(wg,{className:"w-4 h-4"})," Panel de Administracin"]})]})]})}const xX=()=>{const t=ts(),{usuario:e,logout:n,cargando:r}=Ia(),[i,o]=q.useState(!1),[l,c]=q.useState(!1),[h,f]=q.useState(!1),m=()=>{f(!0),setTimeout(()=>f(!1),1500)},g=async()=>{await n(),t("/")},E=e?.foto||e?.photoURL||null;return T.jsxs(T.Fragment,{children:[T.jsxs("nav",{className:"bg-pink-100/90 backdrop-blur-md shadow-sm fixed top-0 left-0 w-full z-50",children:[T.jsxs("div",{className:"container mx-auto flex justify-between items-center px-6 py-3",children:[T.jsx(et,{to:"/",className:"flex items-center space-x-2 group",children:T.jsx("span",{className:"text-3xl font-semibold text-pink-600 font-[Dancing Script] transition-all duration-500 group-hover:text-pink-700 group-hover:drop-shadow-[0_0_6px_rgba(236,72,153,0.6)]",children:" NovaGlow "})}),T.jsxs("div",{className:"hidden md:flex space-x-6 items-center text-gray-700 font-medium",children:[T.jsx(et,{to:"/inicio",className:"hover:text-pink-500 transition",children:"Inicio"}),T.jsx(et,{to:"/productos",className:"hover:text-pink-500 transition",children:"Productos"}),T.jsx(wX,{}),T.jsx(et,{to:"/contacto",className:"hover:text-pink-500 transition",children:"Contacto"}),e&&T.jsxs("button",{onClick:()=>c(!0),className:"hover:text-pink-600 flex items-center gap-1 transition",children:[T.jsx(gK,{size:18})," Perfil"]})]}),e?.email&&["fundadora@novaglow.com","hylromeroduran@crackthecode.la","editor@novaglow.com","s@gmail.com"].includes(e.email)&&T.jsx(et,{to:"/intranet",className:"hover:text-pink-500 transition",children:"Intranet"}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx(TX,{onLoginRequired:()=>{m(),t("/login")}}),e?T.jsxs("div",{className:"flex items-center space-x-3",children:[E?T.jsx("img",{src:E,alt:"Perfil",className:"w-8 h-8 rounded-full border border-pink-400 shadow-sm object-cover cursor-pointer",onClick:()=>c(!0)}):T.jsx("div",{onClick:()=>c(!0),className:"w-8 h-8 rounded-full bg-pink-300 flex items-center justify-center text-white font-bold cursor-pointer",children:e.displayName?.charAt(0)?.toUpperCase()||"?"}),T.jsxs("span",{className:"text-pink-700 font-semibold",children:["Hola, ",e.displayName?.split(" ")[0]," "]}),T.jsx("button",{onClick:g,className:"bg-pink-500 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded-lg transition-transform hover:scale-105",children:"Cerrar Sesin"})]}):T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx(et,{to:"/login",className:"bg-pink-500 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded-lg transition-transform hover:scale-105",children:"Iniciar Sesin"}),T.jsx(et,{to:"/registro",className:"border border-pink-500 text-pink-600 font-bold py-2 px-4 rounded-lg hover:bg-pink-50 transition-transform hover:scale-105",children:"Registrarme"})]}),T.jsx("button",{className:"md:hidden text-pink-600",onClick:()=>o(!i),children:i?T.jsx(vg,{size:26}):T.jsx(iK,{size:26})})]})]}),T.jsx(Vd,{children:i&&T.jsxs(Wt.div,{className:"fixed top-0 left-0 h-full w-64 bg-white shadow-lg z-40 p-5 border-r border-pink-200",initial:{x:-300},animate:{x:0},exit:{x:-300},children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-pink-600",children:"Men"}),T.jsx("button",{onClick:()=>o(!1),children:T.jsx(vg,{size:22,className:"text-pink-600"})})]}),T.jsxs("ul",{className:"flex flex-col gap-4 text-gray-700 font-medium",children:[T.jsx(et,{to:"/inicio",onClick:()=>o(!1),children:"Inicio"}),T.jsx(et,{to:"/productos",onClick:()=>o(!1),children:"Productos"}),T.jsx(vX,{closeMenu:()=>o(!1)}),T.jsx(et,{to:"/contacto",onClick:()=>o(!1),children:"Contacto"}),e&&T.jsx("li",{className:"cursor-pointer hover:text-pink-600 transition",onClick:()=>{c(!0),o(!1)},children:"Perfil"}),e?T.jsx("li",{onClick:g,className:"text-pink-600 cursor-pointer hover:underline",children:"Cerrar sesin"}):T.jsxs(T.Fragment,{children:[T.jsx(et,{to:"/login",onClick:()=>o(!1),children:"Iniciar Sesin"}),T.jsx(et,{to:"/registro",onClick:()=>o(!1),children:"Registrarme"})]})]})]})})]}),T.jsx(_X,{isOpen:l,onClose:()=>c(!1)}),T.jsx(Vd,{children:(r||h)&&T.jsx(Wt.div,{className:"fixed inset-0 bg-white/90 flex items-center justify-center z-999",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:T.jsx(Wt.p,{className:"text-pink-600 text-xl font-semibold",initial:{scale:.8},animate:{scale:1},transition:{repeat:1/0,repeatType:"reverse",duration:.8},children:"Cargando..."})})})]})},AX={success:T.jsx(H$,{className:"w-10 h-10 text-green-500"}),logout:T.jsx(FE,{className:"w-10 h-10 text-rose-500"}),login:T.jsx(Z$,{className:"w-10 h-10 text-pink-500"}),love:T.jsx(a2,{className:"w-10 h-10 text-pink-400 animate-pulse"})},SX=({show:t,message:e,subtext:n,type:r="login",duration:i=1e3,onClose:o})=>{const[l,c]=q.useState(0);return q.useEffect(()=>{if(!t)return;c(0);const h=30,f=100/(i/h),m=setInterval(()=>{c(g=>g>=100?(clearInterval(m),setTimeout(()=>o?.(),300),100):g+f)},h);return()=>clearInterval(m)},[t,i,o]),t?T.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/40 backdrop-blur-md animate-fadeIn",children:T.jsxs("div",{className:"bg-linear-to-br from-pink-50 via-white to-pink-100 shadow-2xl rounded-3xl p-6 text-center w-80 border border-pink-200 animate-bounceIn",children:[T.jsx("div",{className:"flex justify-center mb-3",children:AX[r]}),T.jsx("p",{className:"text-pink-600 font-extrabold text-lg mb-2",children:e}),n&&T.jsx("p",{className:"text-gray-600 text-sm mb-5",children:n}),T.jsx("div",{className:"relative w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:T.jsx("div",{className:"absolute left-0 top-0 h-full bg-pink-400 transition-all duration-100 linear",style:{width:`${l}%`}})})]})}):null};function CX(){const t=ts(),n=Di().state?.from?.pathname||"/productos",{loginConEmail:r,loginGoogle:i}=Ia(),[o,l]=q.useState({email:"",password:""}),[c,h]=q.useState(""),[f,m]=q.useState(""),[g,E]=q.useState(!1),[w,x]=q.useState(!1),C=()=>{x(!0),setTimeout(()=>x(!1),400)};q.useEffect(()=>{const X=jc(At,ne=>{if(ne){const{displayName:K,email:B,photoURL:O,uid:V}=ne;localStorage.setItem("novaglow_session",JSON.stringify({uid:V,nombre:K||B.split("@")[0],email:B,foto:O||""})),window.dispatchEvent(new Event("novaglow_session_change"))}});return()=>X()},[]);const I=X=>{switch(X){case"auth/invalid-email":return"El correo no es vlido.";case"auth/user-not-found":return"No existe una cuenta con este correo.";case"auth/wrong-password":return"La contrasea es incorrecta.";case"auth/missing-password":return"Debes ingresar una contrasea.";default:return"Ocurri un error. Intenta nuevamente."}},k=X=>{const{name:ne,value:K}=X.target;l(B=>({...B,[ne]:K}))},Y=async X=>{X.preventDefault(),h(""),m("");const ne=o.email.trim().toLowerCase(),K=o.password;if(!ne||!K){h(" Por favor, completa todos los campos."),C();return}try{const B=await r(ne,K);Fl({particleCount:180,spread:70,origin:{y:.6},colors:["#ffc8dd","#ffafcc","#ffe5ec"]});const O=vn(wt,"usuarios",B.uid);(await tc(O)).exists()?await Rl(O,{ultimaConexion:ca()},{merge:!0}):await Rl(O,{uid:B.uid,email:B.email,nombre:B.displayName||B.email.split("@")[0],foto:B.photoURL||"",creadoEn:ca(),ultimaConexion:ca()}),m(" Inicio de sesin exitoso!"),E(!0),setTimeout(()=>{E(!1),t(n,{replace:!0})},2e3)}catch(B){console.error(B),h(I(B.code)),C()}},F=async()=>{h("");try{const X=await i();await Rl(vn(wt,"usuarios",X.uid),{uid:X.uid,nombre:X.displayName||X.email.split("@")[0],email:X.email,foto:X.photoURL||"",ultimaConexion:ca()},{merge:!0}),Fl({particleCount:200,spread:80,origin:{y:.6}}),m(" Bienvenida de nuevo con Google!"),E(!0),setTimeout(()=>{E(!1),t("/productos")},2e3)}catch(X){console.error(X),h(I(X.code)),C()}};return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-linear-to-br from-pink-200 via-pink-100 to-white p-6",children:T.jsxs(Wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md bg-white/80 backdrop-blur-xl shadow-2xl rounded-3xl p-8 border border-pink-200",children:[T.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-pink-600",children:" Iniciar Sesin "}),(c||f)&&T.jsx(Wt.p,{animate:w?{x:[0,-8,8,-8,8,0]}:{x:0},transition:{duration:.5},className:`mb-3 text-sm p-3 rounded-xl border text-center ${c?"text-red-600 bg-red-50 border-red-200":"text-green-700 bg-green-50 border-green-200"}`,children:c||f},c||f),T.jsxs("form",{onSubmit:Y,className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-pink-700 mb-1",children:"Correo electrnico"}),T.jsx("input",{type:"email",name:"email",value:o.email,onChange:k,placeholder:"tucorreo@ejemplo.com",className:"w-full border border-pink-300 rounded-xl px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-pink-700 mb-1",children:"Contrasea"}),T.jsx("input",{type:"password",name:"password",value:o.password,onChange:k,placeholder:"Tu contrasea",className:"w-full border border-pink-300 rounded-xl px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-400"})]}),T.jsx("button",{type:"submit",className:"w-full bg-pink-500 hover:bg-pink-600 text-white font-semibold py-2 rounded-xl transition-all shadow-lg",children:"Iniciar Sesin "})]}),T.jsx("button",{onClick:F,className:"w-full mt-4 bg-white border border-pink-300 text-pink-700 font-medium py-2 rounded-xl shadow hover:bg-pink-50",children:"Continuar con Google "}),T.jsxs("p",{className:"text-center mt-6 text-sm",children:["No tienes cuenta?"," ",T.jsx(et,{to:"/registro",className:"text-pink-600 font-semibold hover:underline",children:"Crear cuenta"})]})]})})}function IX(){const t=ts(),{registrarUsuario:e}=Ia(),[n,r]=q.useState({nombre:"",email:"",password:"",foto:null}),[i,o]=q.useState(""),[l,c]=q.useState(!1),[h,f]=q.useState(!1),m=()=>{f(!0),setTimeout(()=>f(!1),400)},g=C=>{const{name:I,value:k,files:Y}=C.target;r(I==="foto"?F=>({...F,foto:Y[0]||null}):F=>({...F,[I]:k}))},E=C=>{switch(C){case"auth/email-already-in-use":return"El correo ya est en uso.";case"auth/invalid-email":return"Correo invlido.";case"auth/weak-password":return"La contrasea es muy dbil.";default:return"Ocurri un error. Intenta nuevamente."}},w=()=>{const C=document.createElement("canvas");Object.assign(C.style,{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",pointerEvents:"none",zIndex:"999999"}),document.body.appendChild(C),Fl.create(C,{resize:!0})({particleCount:200,spread:80,origin:{y:.6},colors:["#ffc8dd","#ffafcc","#ffe5ec"]}),setTimeout(()=>C.remove(),1500)},x=async C=>{C.preventDefault(),o(""),c(!0);const{nombre:I,email:k,password:Y,foto:F}=n;if(!I||!k||!Y){o(" Por favor completa todos los campos."),m(),c(!1);return}try{await e(k.trim().toLowerCase(),Y,I,F,"usuario"),w(),t("/login")}catch(X){console.error(X),o(E(X.code)),m()}c(!1)};return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-200 via-pink-100 to-white p-6",children:T.jsxs(Wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md bg-white/80 backdrop-blur-xl shadow-2xl rounded-3xl p-8 border border-pink-200",children:[T.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-pink-600",children:" Crear Cuenta "}),i&&T.jsx(Wt.p,{animate:h?{x:[0,-8,8,-8,8,0]}:{x:0},className:"mb-3 text-sm p-3 rounded-xl border text-center text-red-600 bg-red-50 border-red-200",children:i},i),T.jsxs("form",{onSubmit:x,className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-pink-700 mb-1",children:"Nombre"}),T.jsx("input",{type:"text",name:"nombre",value:n.nombre,onChange:g,placeholder:"Tu nombre",className:"w-full border border-pink-300 rounded-xl px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-pink-700 mb-1",children:"Correo electrnico"}),T.jsx("input",{type:"email",name:"email",value:n.email,onChange:g,placeholder:"tucorreo@ejemplo.com",className:"w-full border border-pink-300 rounded-xl px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-pink-700 mb-1",children:"Contrasea"}),T.jsx("input",{type:"password",name:"password",value:n.password,onChange:g,placeholder:"Tu contrasea",className:"w-full border border-pink-300 rounded-xl px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-400"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-pink-700 mb-1",children:"Foto de perfil (opcional)"}),T.jsx("input",{type:"file",name:"foto",accept:"image/*",onChange:g,className:"w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-pink-50 file:text-pink-700 hover:file:bg-pink-100"})]}),T.jsx("input",{type:"hidden",name:"rol",value:"usuario"}),T.jsx("button",{type:"submit",disabled:l,className:"w-full bg-pink-500 hover:bg-pink-600 text-white font-semibold py-2 rounded-xl transition-all shadow-lg",children:l?"Registrando...":"Crear Cuenta "})]}),T.jsxs("p",{className:"text-center mt-6 text-sm",children:["Ya tienes cuenta? ",T.jsx(et,{to:"/login",className:"text-pink-600 font-semibold hover:underline",children:"Iniciar Sesin"})]})]})})}const NX=()=>{const t=ts(),[e,n]=q.useState(!0),r=i2();return q.useEffect(()=>{let i;return(async()=>{try{await t2(r),localStorage.removeItem("novaglow_session"),window.dispatchEvent(new Event("novaglow_session_change"))}catch(l){console.error("Error al cerrar sesin:",l)}finally{i=setTimeout(()=>{n(!1),t("/")},3e3)}})(),()=>clearTimeout(i)},[r,t]),T.jsx(T.Fragment,{children:e&&T.jsx(SX,{show:e,message:" Cerraste sesin con xito!",subtext:"Esperamos verte pronto ",type:"logout",color:"rose",onClose:()=>n(!1)})})},kX=()=>{const[t,e]=FD(At),[n,r]=q.useState([]),[i,o]=q.useState(null),[l,c]=q.useState(!0),h=ts();q.useEffect(()=>{if(e)return;if(!t){c(!1);return}(async()=>{try{const w=vn(wt,"usuarios",t.uid),x=await tc(w);if(x.exists()){const C=x.data(),I=C.role||C.rol||"usuario";o(I)}else o("sin_registro")}catch(w){console.error("Error leyendo rol:",w),o("error")}c(!1)})()},[t,e]),q.useEffect(()=>{if(!t||!(i==="admin"||i==="editor"))return;const w=Ef(Hr(wt,"usuarios"),x=>{const C=x.docs.map(I=>({...I.data(),id:I.id}));r(C.sort((I,k)=>{const Y=I.role||I.rol||"usuario",F=k.role||k.rol||"usuario";return Y==="admin"?-1:F==="admin"?1:Y==="editor"?-1:1}))});return()=>w()},[i,t]);const f=async(E,w)=>{if(i!=="admin"){ni.fire("Acceso Denegado","Solo los Administradores pueden cambiar roles.","error");return}try{const x=vn(wt,"usuarios",E);await Ec(x,{role:w,rol:w}),ni.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}).fire({icon:"success",title:`Rol actualizado a ${w}`})}catch{ni.fire("Error","No tienes permisos en Firebase.","error")}},m=async E=>{if(i!=="admin"){ni.fire("Acceso Denegado","Solo los Administradores pueden eliminar.","error");return}ni.fire({title:"Eliminar usuario?",text:"Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"S, eliminar"}).then(async w=>{if(w.isConfirmed)try{await p0(vn(wt,"usuarios",E)),ni.fire("Eliminado","El usuario ha sido borrado.","success")}catch{ni.fire("Error","No se pudo borrar (Revisa reglas).","error")}})},g=async()=>{await t2(At),h("/")};return e||l?T.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:T.jsx(W$,{className:"animate-spin text-purple-500",size:40})}):t?i!=="admin"&&i!=="editor"?T.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-center p-6",children:[T.jsx(wg,{size:64,className:"text-red-500 mb-4"}),T.jsx("h1",{className:"text-2xl font-bold text-white",children:"Acceso Restringido"}),T.jsxs("p",{className:"text-slate-400 mt-2 max-w-md",children:["Hola ",T.jsx("span",{className:"text-white font-semibold",children:t.displayName||t.email}),".",T.jsx("br",{}),"Tu rol actual es ",T.jsx("span",{className:"text-yellow-400 font-bold uppercase",children:i||"USUARIO"}),".",T.jsx("br",{}),"Esta seccin es exclusiva para el Staff de NovaGlow."]}),T.jsxs("button",{onClick:g,className:"mt-8 bg-slate-800 border border-slate-700 text-white px-6 py-2 rounded hover:bg-red-900/30 transition flex items-center gap-2 mx-auto",children:[T.jsx(FE,{size:18})," Cerrar Sesin"]})]}):T.jsx("div",{className:"min-h-screen bg-slate-950 text-slate-200 p-4 md:p-8",children:T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 bg-slate-900 p-6 rounded-xl border border-slate-800 shadow-lg gap-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`p-3 rounded-full ${i==="admin"?"bg-purple-500/20":"bg-blue-500/20"}`,children:T.jsx(RI,{className:i==="admin"?"text-purple-400":"text-blue-400",size:32})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold text-white",children:"Panel de Control"}),T.jsxs("p",{className:"text-sm text-slate-400 flex items-center gap-2",children:["Rol actual:",T.jsx("span",{className:`font-bold uppercase px-2 py-0.5 rounded text-xs ${i==="admin"?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:i})]})]})]}),i==="editor"&&T.jsxs("div",{className:"bg-blue-900/30 border border-blue-800 px-4 py-2 rounded-lg flex items-center gap-2 text-blue-200 text-sm",children:[T.jsx($D,{size:16})," Modo Lectura: No puedes editar ni borrar."]}),T.jsxs("button",{onClick:g,className:"bg-red-500/10 text-red-400 px-4 py-2 rounded hover:bg-red-500 hover:text-white transition flex items-center gap-2 border border-red-500/20",children:[T.jsx(FE,{size:16})," Salir"]})]}),T.jsx("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden shadow-xl",children:T.jsxs("div",{className:"overflow-x-auto",children:[T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-slate-950/50 text-slate-400 uppercase text-xs font-semibold tracking-wider",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 pl-6",children:"Usuario"}),T.jsx("th",{className:"p-4 hidden md:table-cell",children:"Email"}),T.jsx("th",{className:"p-4",children:"Rol / Permisos"}),T.jsx("th",{className:"p-4 text-center",children:"Acciones"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-800 text-sm",children:n.map(E=>{const w=E.role||E.rol||"usuario";return T.jsxs("tr",{className:"hover:bg-slate-800/40 transition group",children:[T.jsxs("td",{className:"p-4 pl-6 flex items-center gap-3",children:[T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:E.avatar||E.foto||`https://ui-avatars.com/api/?name=${E.nombre||"U"}&background=random`,className:"w-10 h-10 rounded-full bg-slate-700 object-cover border border-slate-600",alt:"avatar"}),w==="admin"&&T.jsx("span",{className:"absolute -top-1 -right-1 bg-purple-500 text-white p-0.5 rounded-full border-2 border-slate-900",title:"Administrador",children:T.jsx(RI,{size:8,fill:"currentColor"})})]}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-slate-200",children:E.nombre||E.displayName||"Sin nombre"}),T.jsx("p",{className:"text-xs text-slate-500 md:hidden",children:E.email})]})]}),T.jsx("td",{className:"p-4 text-slate-400 hidden md:table-cell font-mono text-xs",children:E.email}),T.jsx("td",{className:"p-4",children:T.jsxs("div",{className:"relative inline-block",children:[T.jsxs("select",{value:w,onChange:x=>f(E.id,x.target.value),disabled:i!=="admin",className:`
                                                        appearance-none font-bold outline-none py-1.5 px-3 pr-8 rounded-lg transition border
                                                        ${i!=="admin"?"cursor-not-allowed opacity-70 border-transparent":"cursor-pointer border-slate-700 hover:bg-slate-800"}
                                                        ${w==="admin"?"text-purple-400 bg-purple-500/10":w==="editor"?"text-blue-400 bg-blue-500/10":"text-slate-400 bg-slate-800"}
                                                    `,children:[T.jsx("option",{value:"admin",className:"bg-slate-900 text-purple-400",children:"Admin"}),T.jsx("option",{value:"editor",className:"bg-slate-900 text-blue-400",children:"Editor"}),T.jsx("option",{value:"usuario",className:"bg-slate-900 text-slate-400",children:"Usuario"})]}),i==="admin"&&T.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-500",children:T.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:T.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})}),T.jsx("td",{className:"p-4 text-center",children:T.jsx("div",{className:"flex justify-center items-center gap-2",children:i==="admin"?T.jsx("button",{onClick:()=>m(E.id),className:"text-slate-500 hover:text-red-400 p-2 hover:bg-red-500/10 rounded-full transition tooltip",title:"Eliminar Usuario",children:T.jsx(vg,{size:18})}):T.jsx("span",{className:"text-xs text-slate-600 flex items-center gap-1 cursor-help",title:"No tienes permisos para eliminar",children:T.jsx(wg,{size:12})})})})]},E.id)})})]}),n.length===0&&T.jsx("div",{className:"p-8 text-center text-slate-500",children:"No se encontraron usuarios."})]})})]})}):T.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center text-center p-6",children:[T.jsx("h1",{className:"text-white text-2xl mb-4 font-bold",children:"Intranet NovaGlow"}),T.jsx("p",{className:"text-slate-400 mb-6",children:"Debes iniciar sesin para ver este panel."}),T.jsx("button",{onClick:()=>h("/"),className:"bg-purple-600 text-white px-6 py-2 rounded shadow-lg hover:bg-purple-500 transition",children:"Volver al Inicio"})]})};function qI(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const l=n.slice(i,r).trim();(l||!o)&&e.push(l),i=r+1,r=n.indexOf(",",i)}return e}function H4(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const RX=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,DX=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OX={};function YI(t,e){return(OX.jsx?DX:RX).test(t)}const PX=/[ \t\n\f\r]/g;function LX(t){return typeof t=="object"?t.type==="text"?GI(t.value):!1:GI(t)}function GI(t){return t.replace(PX,"")===""}let Rf=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Rf.prototype.normal={};Rf.prototype.property={};Rf.prototype.space=void 0;function z4(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Rf(n,r,e)}function Jd(t){return t.toLowerCase()}let qr=class{constructor(e,n){this.attribute=n,this.property=e}};qr.prototype.attribute="";qr.prototype.booleanish=!1;qr.prototype.boolean=!1;qr.prototype.commaOrSpaceSeparated=!1;qr.prototype.commaSeparated=!1;qr.prototype.defined=!1;qr.prototype.mustUseProperty=!1;qr.prototype.number=!1;qr.prototype.overloadedBoolean=!1;qr.prototype.property="";qr.prototype.spaceSeparated=!1;qr.prototype.space=void 0;let MX=0;const ot=Wl(),Bn=Wl(),YE=Wl(),Se=Wl(),qt=Wl(),oc=Wl(),ei=Wl();function Wl(){return 2**++MX}const GE=Object.freeze(Object.defineProperty({__proto__:null,boolean:ot,booleanish:Bn,commaOrSpaceSeparated:ei,commaSeparated:oc,number:Se,overloadedBoolean:YE,spaceSeparated:qt},Symbol.toStringTag,{value:"Module"})),x1=Object.keys(GE);let x2=class extends qr{constructor(e,n,r,i){let o=-1;if(super(e,n),$I(this,"space",i),typeof r=="number")for(;++o<x1.length;){const l=x1[o];$I(this,x1[o],(r&GE[l])===GE[l])}}};x2.prototype.defined=!0;function $I(t,e,n){n&&(t[e]=n)}function qc(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new x2(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[Jd(r)]=r,n[Jd(o.attribute)]=r}return new Rf(e,n,t.space)}const q4=qc({properties:{ariaActiveDescendant:null,ariaAtomic:Bn,ariaAutoComplete:null,ariaBusy:Bn,ariaChecked:Bn,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:qt,ariaCurrent:null,ariaDescribedBy:qt,ariaDetails:null,ariaDisabled:Bn,ariaDropEffect:qt,ariaErrorMessage:null,ariaExpanded:Bn,ariaFlowTo:qt,ariaGrabbed:Bn,ariaHasPopup:null,ariaHidden:Bn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qt,ariaLevel:Se,ariaLive:null,ariaModal:Bn,ariaMultiLine:Bn,ariaMultiSelectable:Bn,ariaOrientation:null,ariaOwns:qt,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:Bn,ariaReadOnly:Bn,ariaRelevant:null,ariaRequired:Bn,ariaRoleDescription:qt,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:Bn,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Y4(t,e){return e in t?t[e]:e}function G4(t,e){return Y4(t,e.toLowerCase())}const BX=qc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:oc,acceptCharset:qt,accessKey:qt,action:null,allow:null,allowFullScreen:ot,allowPaymentRequest:ot,allowUserMedia:ot,alt:null,as:null,async:ot,autoCapitalize:null,autoComplete:qt,autoFocus:ot,autoPlay:ot,blocking:qt,capture:null,charSet:null,checked:ot,cite:null,className:qt,cols:Se,colSpan:null,content:null,contentEditable:Bn,controls:ot,controlsList:qt,coords:Se|oc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ot,defer:ot,dir:null,dirName:null,disabled:ot,download:YE,draggable:Bn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ot,formTarget:null,headers:qt,height:Se,hidden:YE,high:Se,href:null,hrefLang:null,htmlFor:qt,httpEquiv:qt,id:null,imageSizes:null,imageSrcSet:null,inert:ot,inputMode:null,integrity:null,is:null,isMap:ot,itemId:null,itemProp:qt,itemRef:qt,itemScope:ot,itemType:qt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ot,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:ot,muted:ot,name:null,nonce:null,noModule:ot,noValidate:ot,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ot,optimum:Se,pattern:null,ping:qt,placeholder:null,playsInline:ot,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ot,referrerPolicy:null,rel:qt,required:ot,reversed:ot,rows:Se,rowSpan:Se,sandbox:qt,scope:null,scoped:ot,seamless:ot,selected:ot,shadowRootClonable:ot,shadowRootDelegatesFocus:ot,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:Bn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:ot,useMap:null,value:Bn,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:qt,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ot,declare:ot,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:ot,noHref:ot,noShade:ot,noWrap:ot,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:Bn,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ot,disableRemotePlayback:ot,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:G4}),UX=qc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ei,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:qt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:ot,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:oc,g2:oc,glyphName:oc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:ei,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ei,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ei,rev:ei,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ei,requiredFeatures:ei,requiredFonts:ei,requiredFormats:ei,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:ei,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ei,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ei,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Y4}),$4=qc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),K4=qc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:G4}),Q4=qc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),jX={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},VX=/[A-Z]/g,KI=/-[a-z]/g,FX=/^data[-\w.:]+$/i;function A2(t,e){const n=Jd(e);let r=e,i=qr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&FX.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(KI,zX);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!KI.test(o)){let l=o.replace(VX,HX);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}i=x2}return new i(r,e)}function HX(t){return"-"+t.toLowerCase()}function zX(t){return t.charAt(1).toUpperCase()}const C0=z4([q4,BX,$4,K4,Q4],"html"),Yc=z4([q4,UX,$4,K4,Q4],"svg");function QI(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function W4(t){return t.join(" ").trim()}var ju={},A1,WI;function qX(){if(WI)return A1;WI=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,h=`
`,f="/",m="*",g="",E="comment",w="declaration";function x(I,k){if(typeof I!="string")throw new TypeError("First argument must be a string");if(!I)return[];k=k||{};var Y=1,F=1;function X(he){var J=he.match(e);J&&(Y+=J.length);var Z=he.lastIndexOf(h);F=~Z?he.length-Z:F+he.length}function ne(){var he={line:Y,column:F};return function(J){return J.position=new K(he),V(),J}}function K(he){this.start=he,this.end={line:Y,column:F},this.source=k.source}K.prototype.content=I;function B(he){var J=new Error(k.source+":"+Y+":"+F+": "+he);if(J.reason=he,J.filename=k.source,J.line=Y,J.column=F,J.source=I,!k.silent)throw J}function O(he){var J=he.exec(I);if(J){var Z=J[0];return X(Z),I=I.slice(Z.length),J}}function V(){O(n)}function P(he){var J;for(he=he||[];J=R();)J!==!1&&he.push(J);return he}function R(){var he=ne();if(!(f!=I.charAt(0)||m!=I.charAt(1))){for(var J=2;g!=I.charAt(J)&&(m!=I.charAt(J)||f!=I.charAt(J+1));)++J;if(J+=2,g===I.charAt(J-1))return B("End of comment missing");var Z=I.slice(2,J-2);return F+=2,X(Z),I=I.slice(J),F+=2,he({type:E,comment:Z})}}function U(){var he=ne(),J=O(r);if(J){if(R(),!O(i))return B("property missing ':'");var Z=O(o),ce=he({type:w,property:C(J[0].replace(t,g)),value:Z?C(Z[0].replace(t,g)):g});return O(l),ce}}function H(){var he=[];P(he);for(var J;J=U();)J!==!1&&(he.push(J),P(he));return he}return V(),H()}function C(I){return I?I.replace(c,g):g}return A1=x,A1}var XI;function YX(){if(XI)return ju;XI=1;var t=ju&&ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ju,"__esModule",{value:!0}),ju.default=n;const e=t(qX());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const l=(0,e.default)(r),c=typeof i=="function";return l.forEach(h=>{if(h.type!=="declaration")return;const{property:f,value:m}=h;c?i(f,m,h):m&&(o=o||{},o[f]=m)}),o}return ju}var td={},ZI;function GX(){if(ZI)return td;ZI=1,Object.defineProperty(td,"__esModule",{value:!0}),td.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},l=function(f,m){return m.toUpperCase()},c=function(f,m){return"".concat(m,"-")},h=function(f,m){return m===void 0&&(m={}),o(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(i,c):f=f.replace(r,c),f.replace(e,l))};return td.camelCase=h,td}var nd,JI;function $X(){if(JI)return nd;JI=1;var t=nd&&nd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(YX()),n=GX();function r(i,o){var l={};return!i||typeof i!="string"||(0,e.default)(i,function(c,h){c&&h&&(l[(0,n.camelCase)(c,o)]=h)}),l}return r.default=r,nd=r,nd}var KX=$X();const QX=rf(KX),I0=X4("end"),Fs=X4("start");function X4(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function WX(t){const e=Fs(t),n=I0(t);if(e&&n)return{start:e,end:n}}function Id(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?eN(t.position):"start"in t||"end"in t?eN(t):"line"in t||"column"in t?$E(t):""}function $E(t){return tN(t&&t.line)+":"+tN(t&&t.column)}function eN(t){return $E(t&&t.start)+"-"+$E(t&&t.end)}function tN(t){return t&&typeof t=="number"?t:1}class br extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(l=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?o.ruleId=r:(o.source=r.slice(0,h),o.ruleId=r.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=Id(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}br.prototype.file="";br.prototype.name="";br.prototype.reason="";br.prototype.message="";br.prototype.stack="";br.prototype.column=void 0;br.prototype.line=void 0;br.prototype.ancestors=void 0;br.prototype.cause=void 0;br.prototype.fatal=void 0;br.prototype.place=void 0;br.prototype.ruleId=void 0;br.prototype.source=void 0;const S2={}.hasOwnProperty,XX=new Map,ZX=/[A-Z]/g,JX=new Set(["table","tbody","thead","tfoot","tr"]),eZ=new Set(["td","th"]),Z4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function tZ(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=uZ(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=lZ(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Yc:C0,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=J4(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function J4(t,e,n){if(e.type==="element")return nZ(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return rZ(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return sZ(t,e,n);if(e.type==="mdxjsEsm")return iZ(t,e);if(e.type==="root")return aZ(t,e,n);if(e.type==="text")return oZ(t,e)}function nZ(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Yc,t.schema=i),t.ancestors.push(e);const o=tO(t,e.tagName,!1),l=cZ(t,e);let c=I2(t,e);return JX.has(e.tagName)&&(c=c.filter(function(h){return typeof h=="string"?!LX(h):!0})),eO(t,l,o,e),C2(l,c),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function rZ(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}ef(t,e.position)}function iZ(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);ef(t,e.position)}function sZ(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Yc,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:tO(t,e.name,!0),l=hZ(t,e),c=I2(t,e);return eO(t,l,o,e),C2(l,c),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function aZ(t,e,n){const r={};return C2(r,I2(t,e)),t.create(e,t.Fragment,r,n)}function oZ(t,e){return e.value}function eO(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function C2(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function lZ(t,e,n){return r;function r(i,o,l,c){const f=Array.isArray(l.children)?n:e;return c?f(o,l,c):f(o,l)}}function uZ(t,e){return n;function n(r,i,o,l){const c=Array.isArray(o.children),h=Fs(r);return e(i,o,l,c,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function cZ(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&S2.call(e.properties,i)){const o=dZ(t,i,e.properties[i]);if(o){const[l,c]=o;t.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&eZ.has(e.tagName)?r=c:n[l]=c}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function hZ(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else ef(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,o=t.evaluater.evaluateExpression(c.expression)}else ef(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function I2(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:XX;for(;++r<e.children.length;){const o=e.children[r];let l;if(t.passKeys){const h=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(h){const f=i.get(h)||0;l=h+"-"+f,i.set(h,f+1)}}const c=J4(t,o,l);c!==void 0&&n.push(c)}return n}function dZ(t,e,n){const r=A2(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?H4(n):W4(n)),r.property==="style"){let i=typeof n=="object"?n:fZ(t,String(n));return t.stylePropertyNameCase==="css"&&(i=mZ(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?jX[r.property]||r.property:r.attribute,n]}}function fZ(t,e){try{return QX(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new br("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Z4+"#cannot-parse-style-attribute",i}}function tO(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,l;for(;++o<i.length;){const c=YI(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=l}else r=YI(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return S2.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);ef(t)}function ef(t,e){const n=new br("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Z4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function mZ(t){const e={};let n;for(n in t)S2.call(t,n)&&(e[pZ(n)]=t[n]);return e}function pZ(t){let e=t.replace(ZX,gZ);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function gZ(t){return"-"+t.toLowerCase()}const S1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yZ={};function N2(t,e){const n=yZ,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return nO(t,r,i)}function nO(t,e,n){if(bZ(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return nN(t.children,e,n)}return Array.isArray(t)?nN(t,e,n):""}function nN(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=nO(t[i],e,n);return r.join("")}function bZ(t){return!!(t&&typeof t=="object")}const rN=document.createElement("i");function k2(t){const e="&"+t+";";rN.innerHTML=e;const n=rN.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function si(t,e,n,r){const i=t.length;let o=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}function xi(t,e){return t.length>0?(si(t,t.length,0,e),t):e}const iN={}.hasOwnProperty;function rO(t){const e={};let n=-1;for(;++n<t.length;)EZ(e,t[n]);return e}function EZ(t,e){let n;for(n in e){const i=(iN.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let l;if(o)for(l in o){iN.call(i,l)||(i[l]=[]);const c=o[l];TZ(i[l],Array.isArray(c)?c:c?[c]:[])}}}function TZ(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);si(t,0,0,r)}function iO(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Wi(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vr=Vo(/[A-Za-z]/),pr=Vo(/[\dA-Za-z]/),_Z=Vo(/[#-'*+\--9=?A-Z^-~]/);function Pg(t){return t!==null&&(t<32||t===127)}const KE=Vo(/\d/),wZ=Vo(/[\dA-Fa-f]/),vZ=Vo(/[!-/:-@[-`{-~]/);function ze(t){return t!==null&&t<-2}function zt(t){return t!==null&&(t<0||t===32)}function dt(t){return t===-2||t===-1||t===32}const N0=Vo(new RegExp("\\p{P}|\\p{S}","u")),zl=Vo(/\s/);function Vo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Gc(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let l="";if(o===37&&pr(t.charCodeAt(n+1))&&pr(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=t.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),i=1):l=""}else l=String.fromCharCode(o);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function vt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(h){return dt(h)?(t.enter(n),c(h)):e(h)}function c(h){return dt(h)&&o++<i?(t.consume(h),c):(t.exit(n),e(h))}}const xZ={tokenize:AZ};function AZ(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),vt(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),o(c)}function o(c){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return ze(c)?(t.consume(c),t.exit("chunkText"),o):(t.consume(c),l)}}const SZ={tokenize:CZ},sN={tokenize:IZ};function CZ(t){const e=this,n=[];let r=0,i,o,l;return c;function c(F){if(r<n.length){const X=n[r];return e.containerState=X[1],t.attempt(X[0].continuation,h,f)(F)}return f(F)}function h(F){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&Y();const X=e.events.length;let ne=X,K;for(;ne--;)if(e.events[ne][0]==="exit"&&e.events[ne][1].type==="chunkFlow"){K=e.events[ne][1].end;break}k(r);let B=X;for(;B<e.events.length;)e.events[B][1].end={...K},B++;return si(e.events,ne+1,0,e.events.slice(X)),e.events.length=B,f(F)}return c(F)}function f(F){if(r===n.length){if(!i)return E(F);if(i.currentConstruct&&i.currentConstruct.concrete)return x(F);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(sN,m,g)(F)}function m(F){return i&&Y(),k(r),E(F)}function g(F){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,x(F)}function E(F){return e.containerState={},t.attempt(sN,w,x)(F)}function w(F){return r++,n.push([e.currentConstruct,e.containerState]),E(F)}function x(F){if(F===null){i&&Y(),k(0),t.consume(F);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),C(F)}function C(F){if(F===null){I(t.exit("chunkFlow"),!0),k(0),t.consume(F);return}return ze(F)?(t.consume(F),I(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(F),C)}function I(F,X){const ne=e.sliceStream(F);if(X&&ne.push(null),F.previous=o,o&&(o.next=F),o=F,i.defineSkip(F.start),i.write(ne),e.parser.lazy[F.start.line]){let K=i.events.length;for(;K--;)if(i.events[K][1].start.offset<l&&(!i.events[K][1].end||i.events[K][1].end.offset>l))return;const B=e.events.length;let O=B,V,P;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(V){P=e.events[O][1].end;break}V=!0}for(k(r),K=B;K<e.events.length;)e.events[K][1].end={...P},K++;si(e.events,O+1,0,e.events.slice(B)),e.events.length=K}}function k(F){let X=n.length;for(;X-- >F;){const ne=n[X];e.containerState=ne[1],ne[0].exit.call(e,t)}n.length=F}function Y(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function IZ(t,e,n){return vt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function vc(t){if(t===null||zt(t)||zl(t))return 1;if(N0(t))return 2}function k0(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const QE={name:"attention",resolveAll:NZ,tokenize:kZ};function NZ(t,e){let n=-1,r,i,o,l,c,h,f,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},E={...t[n][1].start};aN(g,-h),aN(E,h),l={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},c={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:E},o={type:h>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:h>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[r][1].end={...l.start},t[n][1].start={...c.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=xi(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=xi(f,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",o,e]]),f=xi(f,k0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=xi(f,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,f=xi(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,si(t,r-1,n-r+3,f),n=r+f.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function kZ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=vc(r);let o;return l;function l(h){return o=h,t.enter("attentionSequence"),c(h)}function c(h){if(h===o)return t.consume(h),c;const f=t.exit("attentionSequence"),m=vc(h),g=!m||m===2&&i||n.includes(h),E=!i||i===2&&m||n.includes(r);return f._open=!!(o===42?g:g&&(i||!E)),f._close=!!(o===42?E:E&&(m||!g)),e(h)}}function aN(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const RZ={name:"autolink",tokenize:DZ};function DZ(t,e,n){let r=0;return i;function i(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return vr(w)?(t.consume(w),l):w===64?n(w):f(w)}function l(w){return w===43||w===45||w===46||pr(w)?(r=1,c(w)):f(w)}function c(w){return w===58?(t.consume(w),r=0,h):(w===43||w===45||w===46||pr(w))&&r++<32?(t.consume(w),c):(r=0,f(w))}function h(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||Pg(w)?n(w):(t.consume(w),h)}function f(w){return w===64?(t.consume(w),m):_Z(w)?(t.consume(w),f):n(w)}function m(w){return pr(w)?g(w):n(w)}function g(w){return w===46?(t.consume(w),r=0,m):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):E(w)}function E(w){if((w===45||pr(w))&&r++<63){const x=w===45?E:g;return t.consume(w),x}return n(w)}}const Df={partial:!0,tokenize:OZ};function OZ(t,e,n){return r;function r(o){return dt(o)?vt(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||ze(o)?e(o):n(o)}}const sO={continuation:{tokenize:LZ},exit:MZ,name:"blockQuote",tokenize:PZ};function PZ(t,e,n){const r=this;return i;function i(l){if(l===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return dt(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function LZ(t,e,n){const r=this;return i;function i(l){return dt(l)?vt(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(sO,e,n)(l)}}function MZ(t){t.exit("blockQuote")}const aO={name:"characterEscape",tokenize:BZ};function BZ(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return vZ(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const oO={name:"characterReference",tokenize:UZ};function UZ(t,e,n){const r=this;let i=0,o,l;return c;function c(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),h}function h(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,l=pr,m(g))}function f(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=wZ,m):(t.enter("characterReferenceValue"),o=7,l=KE,m(g))}function m(g){if(g===59&&i){const E=t.exit("characterReferenceValue");return l===pr&&!k2(r.sliceSerialize(E))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(g)&&i++<o?(t.consume(g),m):n(g)}}const oN={partial:!0,tokenize:VZ},lN={concrete:!0,name:"codeFenced",tokenize:jZ};function jZ(t,e,n){const r=this,i={partial:!0,tokenize:ne};let o=0,l=0,c;return h;function h(K){return f(K)}function f(K){const B=r.events[r.events.length-1];return o=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,c=K,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(K)}function m(K){return K===c?(l++,t.consume(K),m):l<3?n(K):(t.exit("codeFencedFenceSequence"),dt(K)?vt(t,g,"whitespace")(K):g(K))}function g(K){return K===null||ze(K)?(t.exit("codeFencedFence"),r.interrupt?e(K):t.check(oN,C,X)(K)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),E(K))}function E(K){return K===null||ze(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(K)):dt(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),vt(t,w,"whitespace")(K)):K===96&&K===c?n(K):(t.consume(K),E)}function w(K){return K===null||ze(K)?g(K):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(K))}function x(K){return K===null||ze(K)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(K)):K===96&&K===c?n(K):(t.consume(K),x)}function C(K){return t.attempt(i,X,I)(K)}function I(K){return t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),k}function k(K){return o>0&&dt(K)?vt(t,Y,"linePrefix",o+1)(K):Y(K)}function Y(K){return K===null||ze(K)?t.check(oN,C,X)(K):(t.enter("codeFlowValue"),F(K))}function F(K){return K===null||ze(K)?(t.exit("codeFlowValue"),Y(K)):(t.consume(K),F)}function X(K){return t.exit("codeFenced"),e(K)}function ne(K,B,O){let V=0;return P;function P(J){return K.enter("lineEnding"),K.consume(J),K.exit("lineEnding"),R}function R(J){return K.enter("codeFencedFence"),dt(J)?vt(K,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):U(J)}function U(J){return J===c?(K.enter("codeFencedFenceSequence"),H(J)):O(J)}function H(J){return J===c?(V++,K.consume(J),H):V>=l?(K.exit("codeFencedFenceSequence"),dt(J)?vt(K,he,"whitespace")(J):he(J)):O(J)}function he(J){return J===null||ze(J)?(K.exit("codeFencedFence"),B(J)):O(J)}}}function VZ(t,e,n){const r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const C1={name:"codeIndented",tokenize:HZ},FZ={partial:!0,tokenize:zZ};function HZ(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),vt(t,o,"linePrefix",5)(f)}function o(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?h(f):ze(f)?t.attempt(FZ,l,h)(f):(t.enter("codeFlowValue"),c(f))}function c(f){return f===null||ze(f)?(t.exit("codeFlowValue"),l(f)):(t.consume(f),c)}function h(f){return t.exit("codeIndented"),e(f)}}function zZ(t,e,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):ze(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):vt(t,o,"linePrefix",5)(l)}function o(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):ze(l)?i(l):n(l)}}const qZ={name:"codeText",previous:GZ,resolve:YZ,tokenize:$Z};function YZ(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function GZ(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $Z(t,e,n){let r=0,i,o;return l;function l(g){return t.enter("codeText"),t.enter("codeTextSequence"),c(g)}function c(g){return g===96?(t.consume(g),r++,c):(t.exit("codeTextSequence"),h(g))}function h(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),h):g===96?(o=t.enter("codeTextSequence"),i=0,m(g)):ze(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),h):(t.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||ze(g)?(t.exit("codeTextData"),h(g)):(t.consume(g),f)}function m(g){return g===96?(t.consume(g),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(o.type="codeTextData",f(g))}}class KZ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&rd(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);rd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rd(this.left,n.reverse())}}}function rd(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function lO(t){const e={};let n=-1,r,i,o,l,c,h,f;const m=new KZ(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,QZ(m,n)),n=e[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=m.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},c=m.slice(i,n),c.unshift(r),m.splice(i,n-i+1,c))}}return si(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function QZ(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,h=[],f={};let m,g,E=-1,w=n,x=0,C=0;const I=[C];for(;w;){for(;t.get(++i)[1]!==w;);o.push(i),w._tokenizer||(m=r.sliceStream(w),w.next||m.push(null),g&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=w,w=w.next}for(w=n;++E<c.length;)c[E][0]==="exit"&&c[E-1][0]==="enter"&&c[E][1].type===c[E-1][1].type&&c[E][1].start.line!==c[E][1].end.line&&(C=E+1,I.push(C),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):I.pop(),E=I.length;E--;){const k=c.slice(I[E],I[E+1]),Y=o.pop();h.push([Y,Y+k.length-1]),t.splice(Y,2,k)}for(h.reverse(),E=-1;++E<h.length;)f[x+h[E][0]]=x+h[E][1],x+=h[E][1]-h[E][0]-1;return f}const WZ={resolve:ZZ,tokenize:JZ},XZ={partial:!0,tokenize:eJ};function ZZ(t){return lO(t),t}function JZ(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?o(c):ze(c)?t.check(XZ,l,o)(c):(t.consume(c),i)}function o(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function eJ(t,e,n){const r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),vt(t,o,"linePrefix")}function o(l){if(l===null||ze(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function uO(t,e,n,r,i,o,l,c,h){const f=h||Number.POSITIVE_INFINITY;let m=0;return g;function g(k){return k===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(k),t.exit(o),E):k===null||k===32||k===41||Pg(k)?n(k):(t.enter(r),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),C(k))}function E(k){return k===62?(t.enter(o),t.consume(k),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===62?(t.exit("chunkString"),t.exit(c),E(k)):k===null||k===60||ze(k)?n(k):(t.consume(k),k===92?x:w)}function x(k){return k===60||k===62||k===92?(t.consume(k),w):w(k)}function C(k){return!m&&(k===null||k===41||zt(k))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(r),e(k)):m<f&&k===40?(t.consume(k),m++,C):k===41?(t.consume(k),m--,C):k===null||k===32||k===40||Pg(k)?n(k):(t.consume(k),k===92?I:C)}function I(k){return k===40||k===41||k===92?(t.consume(k),C):C(k)}}function cO(t,e,n,r,i,o){const l=this;let c=0,h;return f;function f(w){return t.enter(r),t.enter(i),t.consume(w),t.exit(i),t.enter(o),m}function m(w){return c>999||w===null||w===91||w===93&&!h||w===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(t.exit(o),t.enter(i),t.consume(w),t.exit(i),t.exit(r),e):ze(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||w===91||w===93||ze(w)||c++>999?(t.exit("chunkString"),m(w)):(t.consume(w),h||(h=!dt(w)),w===92?E:g)}function E(w){return w===91||w===92||w===93?(t.consume(w),c++,g):g(w)}}function hO(t,e,n,r,i,o){let l;return c;function c(E){return E===34||E===39||E===40?(t.enter(r),t.enter(i),t.consume(E),t.exit(i),l=E===40?41:E,h):n(E)}function h(E){return E===l?(t.enter(i),t.consume(E),t.exit(i),t.exit(r),e):(t.enter(o),f(E))}function f(E){return E===l?(t.exit(o),h(l)):E===null?n(E):ze(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),vt(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===l||E===null||ze(E)?(t.exit("chunkString"),f(E)):(t.consume(E),E===92?g:m)}function g(E){return E===l||E===92?(t.consume(E),m):m(E)}}function Nd(t,e){let n;return r;function r(i){return ze(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):dt(i)?vt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const tJ={name:"definition",tokenize:rJ},nJ={partial:!0,tokenize:iJ};function rJ(t,e,n){const r=this;let i;return o;function o(w){return t.enter("definition"),l(w)}function l(w){return cO.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function c(w){return i=Wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),h):n(w)}function h(w){return zt(w)?Nd(t,f)(w):f(w)}function f(w){return uO(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function m(w){return t.attempt(nJ,g,g)(w)}function g(w){return dt(w)?vt(t,E,"whitespace")(w):E(w)}function E(w){return w===null||ze(w)?(t.exit("definition"),r.parser.defined.push(i),e(w)):n(w)}}function iJ(t,e,n){return r;function r(c){return zt(c)?Nd(t,i)(c):n(c)}function i(c){return hO(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return dt(c)?vt(t,l,"whitespace")(c):l(c)}function l(c){return c===null||ze(c)?e(c):n(c)}}const sJ={name:"hardBreakEscape",tokenize:aJ};function aJ(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return ze(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const oJ={name:"headingAtx",resolve:lJ,tokenize:uJ};function lJ(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},si(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function uJ(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),o(m)}function o(m){return t.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(t.consume(m),l):m===null||zt(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),h(m)):m===null||ze(m)?(t.exit("atxHeading"),e(m)):dt(m)?vt(t,c,"whitespace")(m):(t.enter("atxHeadingText"),f(m))}function h(m){return m===35?(t.consume(m),h):(t.exit("atxHeadingSequence"),c(m))}function f(m){return m===null||m===35||zt(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),f)}}const cJ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uN=["pre","script","style","textarea"],hJ={concrete:!0,name:"htmlFlow",resolveTo:mJ,tokenize:pJ},dJ={partial:!0,tokenize:yJ},fJ={partial:!0,tokenize:gJ};function mJ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function pJ(t,e,n){const r=this;let i,o,l,c,h;return f;function f(M){return m(M)}function m(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),g}function g(M){return M===33?(t.consume(M),E):M===47?(t.consume(M),o=!0,C):M===63?(t.consume(M),i=3,r.interrupt?e:D):vr(M)?(t.consume(M),l=String.fromCharCode(M),I):n(M)}function E(M){return M===45?(t.consume(M),i=2,w):M===91?(t.consume(M),i=5,c=0,x):vr(M)?(t.consume(M),i=4,r.interrupt?e:D):n(M)}function w(M){return M===45?(t.consume(M),r.interrupt?e:D):n(M)}function x(M){const fe="CDATA[";return M===fe.charCodeAt(c++)?(t.consume(M),c===fe.length?r.interrupt?e:U:x):n(M)}function C(M){return vr(M)?(t.consume(M),l=String.fromCharCode(M),I):n(M)}function I(M){if(M===null||M===47||M===62||zt(M)){const fe=M===47,ve=l.toLowerCase();return!fe&&!o&&uN.includes(ve)?(i=1,r.interrupt?e(M):U(M)):cJ.includes(l.toLowerCase())?(i=6,fe?(t.consume(M),k):r.interrupt?e(M):U(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):o?Y(M):F(M))}return M===45||pr(M)?(t.consume(M),l+=String.fromCharCode(M),I):n(M)}function k(M){return M===62?(t.consume(M),r.interrupt?e:U):n(M)}function Y(M){return dt(M)?(t.consume(M),Y):P(M)}function F(M){return M===47?(t.consume(M),P):M===58||M===95||vr(M)?(t.consume(M),X):dt(M)?(t.consume(M),F):P(M)}function X(M){return M===45||M===46||M===58||M===95||pr(M)?(t.consume(M),X):ne(M)}function ne(M){return M===61?(t.consume(M),K):dt(M)?(t.consume(M),ne):F(M)}function K(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),h=M,B):dt(M)?(t.consume(M),K):O(M)}function B(M){return M===h?(t.consume(M),h=null,V):M===null||ze(M)?n(M):(t.consume(M),B)}function O(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||zt(M)?ne(M):(t.consume(M),O)}function V(M){return M===47||M===62||dt(M)?F(M):n(M)}function P(M){return M===62?(t.consume(M),R):n(M)}function R(M){return M===null||ze(M)?U(M):dt(M)?(t.consume(M),R):n(M)}function U(M){return M===45&&i===2?(t.consume(M),Z):M===60&&i===1?(t.consume(M),ce):M===62&&i===4?(t.consume(M),N):M===63&&i===3?(t.consume(M),D):M===93&&i===5?(t.consume(M),Be):ze(M)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(dJ,ee,H)(M)):M===null||ze(M)?(t.exit("htmlFlowData"),H(M)):(t.consume(M),U)}function H(M){return t.check(fJ,he,ee)(M)}function he(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),J}function J(M){return M===null||ze(M)?H(M):(t.enter("htmlFlowData"),U(M))}function Z(M){return M===45?(t.consume(M),D):U(M)}function ce(M){return M===47?(t.consume(M),l="",Ie):U(M)}function Ie(M){if(M===62){const fe=l.toLowerCase();return uN.includes(fe)?(t.consume(M),N):U(M)}return vr(M)&&l.length<8?(t.consume(M),l+=String.fromCharCode(M),Ie):U(M)}function Be(M){return M===93?(t.consume(M),D):U(M)}function D(M){return M===62?(t.consume(M),N):M===45&&i===2?(t.consume(M),D):U(M)}function N(M){return M===null||ze(M)?(t.exit("htmlFlowData"),ee(M)):(t.consume(M),N)}function ee(M){return t.exit("htmlFlow"),e(M)}}function gJ(t,e,n){const r=this;return i;function i(l){return ze(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function yJ(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Df,e,n)}}const bJ={name:"htmlText",tokenize:EJ};function EJ(t,e,n){const r=this;let i,o,l;return c;function c(D){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(D),h}function h(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),ne):D===63?(t.consume(D),F):vr(D)?(t.consume(D),O):n(D)}function f(D){return D===45?(t.consume(D),m):D===91?(t.consume(D),o=0,x):vr(D)?(t.consume(D),Y):n(D)}function m(D){return D===45?(t.consume(D),w):n(D)}function g(D){return D===null?n(D):D===45?(t.consume(D),E):ze(D)?(l=g,ce(D)):(t.consume(D),g)}function E(D){return D===45?(t.consume(D),w):g(D)}function w(D){return D===62?Z(D):D===45?E(D):g(D)}function x(D){const N="CDATA[";return D===N.charCodeAt(o++)?(t.consume(D),o===N.length?C:x):n(D)}function C(D){return D===null?n(D):D===93?(t.consume(D),I):ze(D)?(l=C,ce(D)):(t.consume(D),C)}function I(D){return D===93?(t.consume(D),k):C(D)}function k(D){return D===62?Z(D):D===93?(t.consume(D),k):C(D)}function Y(D){return D===null||D===62?Z(D):ze(D)?(l=Y,ce(D)):(t.consume(D),Y)}function F(D){return D===null?n(D):D===63?(t.consume(D),X):ze(D)?(l=F,ce(D)):(t.consume(D),F)}function X(D){return D===62?Z(D):F(D)}function ne(D){return vr(D)?(t.consume(D),K):n(D)}function K(D){return D===45||pr(D)?(t.consume(D),K):B(D)}function B(D){return ze(D)?(l=B,ce(D)):dt(D)?(t.consume(D),B):Z(D)}function O(D){return D===45||pr(D)?(t.consume(D),O):D===47||D===62||zt(D)?V(D):n(D)}function V(D){return D===47?(t.consume(D),Z):D===58||D===95||vr(D)?(t.consume(D),P):ze(D)?(l=V,ce(D)):dt(D)?(t.consume(D),V):Z(D)}function P(D){return D===45||D===46||D===58||D===95||pr(D)?(t.consume(D),P):R(D)}function R(D){return D===61?(t.consume(D),U):ze(D)?(l=R,ce(D)):dt(D)?(t.consume(D),R):V(D)}function U(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),i=D,H):ze(D)?(l=U,ce(D)):dt(D)?(t.consume(D),U):(t.consume(D),he)}function H(D){return D===i?(t.consume(D),i=void 0,J):D===null?n(D):ze(D)?(l=H,ce(D)):(t.consume(D),H)}function he(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||zt(D)?V(D):(t.consume(D),he)}function J(D){return D===47||D===62||zt(D)?V(D):n(D)}function Z(D){return D===62?(t.consume(D),t.exit("htmlTextData"),t.exit("htmlText"),e):n(D)}function ce(D){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),Ie}function Ie(D){return dt(D)?vt(t,Be,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):Be(D)}function Be(D){return t.enter("htmlTextData"),l(D)}}const R2={name:"labelEnd",resolveAll:vJ,resolveTo:xJ,tokenize:AJ},TJ={tokenize:SJ},_J={tokenize:CJ},wJ={tokenize:IJ};function vJ(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&si(t,0,t.length,n),t}function xJ(t,e){let n=t.length,r=0,i,o,l,c;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const h={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},m={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",h,e],["enter",f,e]],c=xi(c,t.slice(o+1,o+r+3)),c=xi(c,[["enter",m,e]]),c=xi(c,k0(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),c=xi(c,[["exit",m,e],t[l-2],t[l-1],["exit",f,e]]),c=xi(c,t.slice(l+1)),c=xi(c,[["exit",h,e]]),si(t,o,t.length,c),t}function AJ(t,e,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return c;function c(E){return o?o._inactive?g(E):(l=r.parser.defined.includes(Wi(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(E),t.exit("labelMarker"),t.exit("labelEnd"),h):n(E)}function h(E){return E===40?t.attempt(TJ,m,l?m:g)(E):E===91?t.attempt(_J,m,l?f:g)(E):l?m(E):g(E)}function f(E){return t.attempt(wJ,m,g)(E)}function m(E){return e(E)}function g(E){return o._balanced=!0,n(E)}}function SJ(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return zt(g)?Nd(t,o)(g):o(g)}function o(g){return g===41?m(g):uO(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return zt(g)?Nd(t,h)(g):m(g)}function c(g){return n(g)}function h(g){return g===34||g===39||g===40?hO(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function f(g){return zt(g)?Nd(t,m)(g):m(g)}function m(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function CJ(t,e,n){const r=this;return i;function i(c){return cO.call(r,t,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(Wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}function IJ(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const NJ={name:"labelStartImage",resolveAll:R2.resolveAll,tokenize:kJ};function kJ(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),o}function o(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const RJ={name:"labelStartLink",resolveAll:R2.resolveAll,tokenize:DJ};function DJ(t,e,n){const r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const I1={name:"lineEnding",tokenize:OJ};function OJ(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),vt(t,e,"linePrefix")}}const qp={name:"thematicBreak",tokenize:PJ};function PJ(t,e,n){let r=0,i;return o;function o(f){return t.enter("thematicBreak"),l(f)}function l(f){return i=f,c(f)}function c(f){return f===i?(t.enter("thematicBreakSequence"),h(f)):r>=3&&(f===null||ze(f))?(t.exit("thematicBreak"),e(f)):n(f)}function h(f){return f===i?(t.consume(f),r++,h):(t.exit("thematicBreakSequence"),dt(f)?vt(t,c,"whitespace")(f):c(f))}}const Mr={continuation:{tokenize:UJ},exit:VJ,name:"list",tokenize:BJ},LJ={partial:!0,tokenize:FJ},MJ={partial:!0,tokenize:jJ};function BJ(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return c;function c(w){const x=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:KE(w)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(qp,n,f)(w):f(w);if(!r.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(w)}return n(w)}function h(w){return KE(w)&&++l<10?(t.consume(w),h):(!r.interrupt||l<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),f(w)):n(w)}function f(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,t.check(Df,r.interrupt?n:m,t.attempt(LJ,E,g))}function m(w){return r.containerState.initialBlankLine=!0,o++,E(w)}function g(w){return dt(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),E):n(w)}function E(w){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function UJ(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Df,i,o);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vt(t,e,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!dt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(MJ,e,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,vt(t,t.attempt(Mr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function jJ(t,e,n){const r=this;return vt(t,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function VJ(t){t.exit(this.containerState.type)}function FJ(t,e,n){const r=this;return vt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!dt(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const cN={name:"setextUnderline",resolveTo:HJ,tokenize:zJ};function HJ(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function zJ(t,e,n){const r=this;let i;return o;function o(f){let m=r.events.length,g;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){g=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return t.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===i?(t.consume(f),c):(t.exit("setextHeadingLineSequence"),dt(f)?vt(t,h,"lineSuffix")(f):h(f))}function h(f){return f===null||ze(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const qJ={tokenize:YJ};function YJ(t){const e=this,n=t.attempt(Df,r,t.attempt(this.parser.constructs.flowInitial,i,vt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(WZ,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const GJ={resolveAll:fO()},$J=dO("string"),KJ=dO("text");function dO(t){return{resolveAll:fO(t==="text"?QJ:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,l,c);return l;function l(m){return f(m)?o(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return f(m)?(n.exit("data"),o(m)):(n.consume(m),h)}function f(m){if(m===null)return!0;const g=i[m];let E=-1;if(g)for(;++E<g.length;){const w=g[E];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}function fO(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function QJ(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,l=-1,c=0,h;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)h=!0,c++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const f={type:n===t.length||h||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const WJ={42:Mr,43:Mr,45:Mr,48:Mr,49:Mr,50:Mr,51:Mr,52:Mr,53:Mr,54:Mr,55:Mr,56:Mr,57:Mr,62:sO},XJ={91:tJ},ZJ={[-2]:C1,[-1]:C1,32:C1},JJ={35:oJ,42:qp,45:[cN,qp],60:hJ,61:cN,95:qp,96:lN,126:lN},eee={38:oO,92:aO},tee={[-5]:I1,[-4]:I1,[-3]:I1,33:NJ,38:oO,42:QE,60:[RZ,bJ],91:RJ,92:[sJ,aO],93:R2,95:QE,96:qZ},nee={null:[QE,GJ]},ree={null:[42,95]},iee={null:[]},see=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ree,contentInitial:XJ,disable:iee,document:WJ,flow:JJ,flowInitial:ZJ,insideSpan:nee,string:eee,text:tee},Symbol.toStringTag,{value:"Module"}));function aee(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],c=[];const h={attempt:B(ne),check:B(K),consume:Y,enter:F,exit:X,interrupt:B(K,{interrupt:!0})},f={code:null,containerState:{},defineSkip:C,events:[],now:x,parser:t,previous:null,sliceSerialize:E,sliceStream:w,write:g};let m=e.tokenize.call(f,h);return e.resolveAll&&o.push(e),f;function g(R){return l=xi(l,R),I(),l[l.length-1]!==null?[]:(O(e,0),f.events=k0(o,f.events,f),f.events)}function E(R,U){return lee(w(R),U)}function w(R){return oee(l,R)}function x(){const{_bufferIndex:R,_index:U,line:H,column:he,offset:J}=r;return{_bufferIndex:R,_index:U,line:H,column:he,offset:J}}function C(R){i[R.line]=R.column,P()}function I(){let R;for(;r._index<l.length;){const U=l[r._index];if(typeof U=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<U.length;)k(U.charCodeAt(r._bufferIndex));else k(U)}}function k(R){m=m(R)}function Y(R){ze(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,P()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=R}function F(R,U){const H=U||{};return H.type=R,H.start=x(),f.events.push(["enter",H,f]),c.push(H),H}function X(R){const U=c.pop();return U.end=x(),f.events.push(["exit",U,f]),U}function ne(R,U){O(R,U.from)}function K(R,U){U.restore()}function B(R,U){return H;function H(he,J,Z){let ce,Ie,Be,D;return Array.isArray(he)?ee(he):"tokenize"in he?ee([he]):N(he);function N(_e){return we;function we(ke){const Pe=ke!==null&&_e[ke],Qe=ke!==null&&_e.null,We=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return ee(We)(ke)}}function ee(_e){return ce=_e,Ie=0,_e.length===0?Z:M(_e[Ie])}function M(_e){return we;function we(ke){return D=V(),Be=_e,_e.partial||(f.currentConstruct=_e),_e.name&&f.parser.constructs.disable.null.includes(_e.name)?ve():_e.tokenize.call(U?Object.assign(Object.create(f),U):f,h,fe,ve)(ke)}}function fe(_e){return R(Be,D),J}function ve(_e){return D.restore(),++Ie<ce.length?M(ce[Ie]):Z}}}function O(R,U){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&si(f.events,U,f.events.length-U,R.resolve(f.events.slice(U),f)),R.resolveTo&&(f.events=R.resolveTo(f.events,f))}function V(){const R=x(),U=f.previous,H=f.currentConstruct,he=f.events.length,J=Array.from(c);return{from:he,restore:Z};function Z(){r=R,f.previous=U,f.currentConstruct=H,f.events.length=he,c=J,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function oee(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let l;if(n===i)l=[t[n].slice(r,o)];else{if(l=t.slice(n,i),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}o>0&&l.push(t[i].slice(0,o))}return l}function lee(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function uee(t){const r={constructs:rO([see,...(t||{}).extensions||[]]),content:i(xZ),defined:[],document:i(SZ),flow:i(qJ),lazy:{},string:i($J),text:i(KJ)};return r;function i(o){return l;function l(c){return aee(r,o,c)}}}function cee(t){for(;!lO(t););return t}const hN=/[\0\t\n\r]/g;function hee(){let t=1,e="",n=!0,r;return i;function i(o,l,c){const h=[];let f,m,g,E,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),g=0,e="",n&&(o.charCodeAt(0)===65279&&g++,n=void 0);g<o.length;){if(hN.lastIndex=g,f=hN.exec(o),E=f&&f.index!==void 0?f.index:o.length,w=o.charCodeAt(E),!f){e=o.slice(g);break}if(w===10&&g===E&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),g<E&&(h.push(o.slice(g,E)),t+=E-g),w){case 0:{h.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,h.push(-2);t++<m;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:r=!0,t=1}g=E+1}return c&&(r&&h.push(-5),e&&h.push(e),h.push(null)),h}}const dee=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fee(t){return t.replace(dee,mee)}function mee(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return iO(n.slice(o?2:1),o?16:10)}return k2(n)||t}const mO={}.hasOwnProperty;function pee(t,e,n){return typeof e!="string"&&(n=e,e=void 0),gee(n)(cee(uee(n).document().write(hee()(t,e,!0))))}function gee(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(kt),autolinkProtocol:V,autolinkEmail:V,atxHeading:o(lt),blockQuote:o(Qe),characterEscape:V,characterReference:V,codeFenced:o(We),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(We,l),codeText:o(st,l),codeTextData:V,data:V,codeFlowValue:V,definition:o(Ye),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(De),hardBreakEscape:o(Nt),hardBreakTrailing:o(Nt),htmlFlow:o(sn,l),htmlFlowData:V,htmlText:o(sn,l),htmlTextData:V,image:o(Zn),label:l,link:o(kt),listItem:o(ui),listItemValue:E,listOrdered:o(xt,g),listUnordered:o(xt),paragraph:o(Fo),reference:M,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(lt),strong:o(ka),thematicBreak:o(Pi)},exit:{atxHeading:h(),atxHeadingSequence:ne,autolink:h(),autolinkEmail:Pe,autolinkProtocol:ke,blockQuote:h(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:_e,characterReference:we,codeFenced:h(I),codeFencedFence:C,codeFencedFenceInfo:w,codeFencedFenceMeta:x,codeFlowValue:P,codeIndented:h(k),codeText:h(J),codeTextData:P,data:P,definition:h(),definitionDestinationString:X,definitionLabelString:Y,definitionTitleString:F,emphasis:h(),hardBreakEscape:h(U),hardBreakTrailing:h(U),htmlFlow:h(H),htmlFlowData:P,htmlText:h(he),htmlTextData:P,image:h(ce),label:Be,labelText:Ie,lineEnding:R,link:h(Z),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:fe,resourceDestinationString:D,resourceTitleString:N,resource:ee,setextHeading:h(O),setextHeadingLineSequence:B,setextHeadingText:K,strong:h(),thematicBreak:h()}};pO(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(pe){let Ne={type:"root",children:[]};const Fe={stack:[Ne],tokenStack:[],config:e,enter:c,exit:f,buffer:l,resume:m,data:n},tt=[];let bt=-1;for(;++bt<pe.length;)if(pe[bt][1].type==="listOrdered"||pe[bt][1].type==="listUnordered")if(pe[bt][0]==="enter")tt.push(bt);else{const Cn=tt.pop();bt=i(pe,Cn,bt)}for(bt=-1;++bt<pe.length;){const Cn=e[pe[bt][0]];mO.call(Cn,pe[bt][1].type)&&Cn[pe[bt][1].type].call(Object.assign({sliceSerialize:pe[bt][2].sliceSerialize},Fe),pe[bt][1])}if(Fe.tokenStack.length>0){const Cn=Fe.tokenStack[Fe.tokenStack.length-1];(Cn[1]||dN).call(Fe,void 0,Cn[0])}for(Ne.position={start:uo(pe.length>0?pe[0][1].start:{line:1,column:1,offset:0}),end:uo(pe.length>0?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},bt=-1;++bt<e.transforms.length;)Ne=e.transforms[bt](Ne)||Ne;return Ne}function i(pe,Ne,Fe){let tt=Ne-1,bt=-1,Cn=!1,Cr,an,on,qn;for(;++tt<=Fe;){const Et=pe[tt];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?bt++:bt--,qn=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(Cr&&!qn&&!bt&&!on&&(on=tt),qn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:qn=void 0}if(!bt&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||bt===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(Cr){let Li=tt;for(an=void 0;Li--;){const ur=pe[Li];if(ur[1].type==="lineEnding"||ur[1].type==="lineEndingBlank"){if(ur[0]==="exit")continue;an&&(pe[an][1].type="lineEndingBlank",Cn=!0),ur[1].type="lineEnding",an=Li}else if(!(ur[1].type==="linePrefix"||ur[1].type==="blockQuotePrefix"||ur[1].type==="blockQuotePrefixWhitespace"||ur[1].type==="blockQuoteMarker"||ur[1].type==="listItemIndent"))break}on&&(!an||on<an)&&(Cr._spread=!0),Cr.end=Object.assign({},an?pe[an][1].start:Et[1].end),pe.splice(an||tt,0,["exit",Cr,Et[2]]),tt++,Fe++}if(Et[1].type==="listItemPrefix"){const Li={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};Cr=Li,pe.splice(tt,0,["enter",Li,Et[2]]),tt++,Fe++,on=void 0,qn=!0}}}return pe[Ne][1]._spread=Cn,Fe}function o(pe,Ne){return Fe;function Fe(tt){c.call(this,pe(tt),tt),Ne&&Ne.call(this,tt)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(pe,Ne,Fe){this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push([Ne,Fe||void 0]),pe.position={start:uo(Ne.start),end:void 0}}function h(pe){return Ne;function Ne(Fe){pe&&pe.call(this,Fe),f.call(this,Fe)}}function f(pe,Ne){const Fe=this.stack.pop(),tt=this.tokenStack.pop();if(tt)tt[0].type!==pe.type&&(Ne?Ne.call(this,pe,tt[0]):(tt[1]||dN).call(this,pe,tt[0]));else throw new Error("Cannot close `"+pe.type+"` ("+Id({start:pe.start,end:pe.end})+"): its not open");Fe.position.end=uo(pe.end)}function m(){return N2(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function E(pe){if(this.data.expectingFirstListItemValue){const Ne=this.stack[this.stack.length-2];Ne.start=Number.parseInt(this.sliceSerialize(pe),10),this.data.expectingFirstListItemValue=void 0}}function w(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.lang=pe}function x(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.meta=pe}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=pe.replace(/(\r?\n|\r)$/g,"")}function Y(pe){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ne,Fe.identifier=Wi(this.sliceSerialize(pe)).toLowerCase()}function F(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=pe}function X(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=pe}function ne(pe){const Ne=this.stack[this.stack.length-1];if(!Ne.depth){const Fe=this.sliceSerialize(pe).length;Ne.depth=Fe}}function K(){this.data.setextHeadingSlurpLineEnding=!0}function B(pe){const Ne=this.stack[this.stack.length-1];Ne.depth=this.sliceSerialize(pe).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function V(pe){const Fe=this.stack[this.stack.length-1].children;let tt=Fe[Fe.length-1];(!tt||tt.type!=="text")&&(tt=Sn(),tt.position={start:uo(pe.start),end:void 0},Fe.push(tt)),this.stack.push(tt)}function P(pe){const Ne=this.stack.pop();Ne.value+=this.sliceSerialize(pe),Ne.position.end=uo(pe.end)}function R(pe){const Ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Fe=Ne.children[Ne.children.length-1];Fe.position.end=uo(pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ne.type)&&(V.call(this,pe),P.call(this,pe))}function U(){this.data.atHardBreak=!0}function H(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=pe}function he(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=pe}function J(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=pe}function Z(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Ne,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function ce(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Ne,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function Ie(pe){const Ne=this.sliceSerialize(pe),Fe=this.stack[this.stack.length-2];Fe.label=fee(Ne),Fe.identifier=Wi(Ne).toLowerCase()}function Be(){const pe=this.stack[this.stack.length-1],Ne=this.resume(),Fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Fe.type==="link"){const tt=pe.children;Fe.children=tt}else Fe.alt=Ne}function D(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=pe}function N(){const pe=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=pe}function ee(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function fe(pe){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ne,Fe.identifier=Wi(this.sliceSerialize(pe)).toLowerCase(),this.data.referenceType="full"}function ve(pe){this.data.characterReferenceType=pe.type}function _e(pe){const Ne=this.sliceSerialize(pe),Fe=this.data.characterReferenceType;let tt;Fe?(tt=iO(Ne,Fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tt=k2(Ne);const bt=this.stack[this.stack.length-1];bt.value+=tt}function we(pe){const Ne=this.stack.pop();Ne.position.end=uo(pe.end)}function ke(pe){P.call(this,pe);const Ne=this.stack[this.stack.length-1];Ne.url=this.sliceSerialize(pe)}function Pe(pe){P.call(this,pe);const Ne=this.stack[this.stack.length-1];Ne.url="mailto:"+this.sliceSerialize(pe)}function Qe(){return{type:"blockquote",children:[]}}function We(){return{type:"code",lang:null,meta:null,value:""}}function st(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function De(){return{type:"emphasis",children:[]}}function lt(){return{type:"heading",depth:0,children:[]}}function Nt(){return{type:"break"}}function sn(){return{type:"html",value:""}}function Zn(){return{type:"image",title:null,url:"",alt:null}}function kt(){return{type:"link",title:null,url:"",children:[]}}function xt(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function ui(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function Fo(){return{type:"paragraph",children:[]}}function ka(){return{type:"strong",children:[]}}function Sn(){return{type:"text",value:""}}function Pi(){return{type:"thematicBreak"}}}function uo(t){return{line:t.line,column:t.column,offset:t.offset}}function pO(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?pO(t,r):yee(t,r)}}function yee(t,e){let n;for(n in e)if(mO.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function dN(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Id({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Id({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Id({start:e.start,end:e.end})+") is still open")}function bee(t){const e=this;e.parser=n;function n(r){return pee(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Eee(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Tee(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function _ee(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function wee(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vee(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xee(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Gc(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let l,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=o+1,c+=1,t.footnoteCounts.set(r,c);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,h);const f={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,f),t.applyData(e,f)}function Aee(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function See(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function gO(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function Cee(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return gO(t,e);const i={src:Gc(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function Iee(t,e){const n={src:Gc(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Nee(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function kee(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return gO(t,e);const i={href:Gc(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function Ree(t,e){const n={href:Gc(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Dee(t,e,n){const r=t.all(e),i=n?Oee(n):yO(e),o={},l=[];if(typeof e.checked=="boolean"){const m=r[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(i||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?l.push(...m.children):l.push(m)}const h=r[r.length-1];h&&(i||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return t.patch(e,f),t.applyData(e,f)}function Oee(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=yO(n[r])}return e}function yO(t){const e=t.spread;return e??t.children.length>1}function Pee(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function Lee(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Mee(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Bee(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Uee(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=Fs(e.children[1]),h=I0(e.children[e.children.length-1]);c&&h&&(l.position={start:c,end:h}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function jee(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:e.children.length;let h=-1;const f=[];for(;++h<c;){const g=e.children[h],E={},w=l?l[h]:void 0;w&&(E.align=w);let x={type:"element",tagName:o,properties:E,children:[]};g&&(x.children=t.all(g),t.patch(g,x),x=t.applyData(g,x)),f.push(x)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,m),t.applyData(e,m)}function Vee(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const fN=9,mN=32;function Fee(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(pN(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(pN(e.slice(i),i>0,!1)),o.join("")}function pN(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===fN||o===mN;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===fN||o===mN;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Hee(t,e){const n={type:"text",value:Fee(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function zee(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const qee={blockquote:Eee,break:Tee,code:_ee,delete:wee,emphasis:vee,footnoteReference:xee,heading:Aee,html:See,imageReference:Cee,image:Iee,inlineCode:Nee,linkReference:kee,link:Ree,listItem:Dee,list:Pee,paragraph:Lee,root:Mee,strong:Bee,table:Uee,tableCell:Vee,tableRow:jee,text:Hee,thematicBreak:zee,toml:wp,yaml:wp,definition:wp,footnoteDefinition:wp};function wp(){}const bO=-1,R0=0,kd=1,Lg=2,D2=3,O2=4,P2=5,L2=6,EO=7,TO=8,gN=typeof self=="object"?self:globalThis,Yee=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,l]=e[i];switch(o){case R0:case bO:return n(l,i);case kd:{const c=n([],i);for(const h of l)c.push(r(h));return c}case Lg:{const c=n({},i);for(const[h,f]of l)c[r(h)]=r(f);return c}case D2:return n(new Date(l),i);case O2:{const{source:c,flags:h}=l;return n(new RegExp(c,h),i)}case P2:{const c=n(new Map,i);for(const[h,f]of l)c.set(r(h),r(f));return c}case L2:{const c=n(new Set,i);for(const h of l)c.add(r(h));return c}case EO:{const{name:c,message:h}=l;return n(new gN[c](h),i)}case TO:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new gN[o](l),i)};return r},yN=t=>Yee(new Map,t)(0),Vu="",{toString:Gee}={},{keys:$ee}=Object,id=t=>{const e=typeof t;if(e!=="object"||!t)return[R0,e];const n=Gee.call(t).slice(8,-1);switch(n){case"Array":return[kd,Vu];case"Object":return[Lg,Vu];case"Date":return[D2,Vu];case"RegExp":return[O2,Vu];case"Map":return[P2,Vu];case"Set":return[L2,Vu];case"DataView":return[kd,n]}return n.includes("Array")?[kd,n]:n.includes("Error")?[EO,n]:[Lg,n]},vp=([t,e])=>t===R0&&(e==="function"||e==="symbol"),Kee=(t,e,n,r)=>{const i=(l,c)=>{const h=r.push(l)-1;return n.set(c,h),h},o=l=>{if(n.has(l))return n.get(l);let[c,h]=id(l);switch(c){case R0:{let m=l;switch(h){case"bigint":c=TO,m=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return i([bO],l)}return i([c,m],l)}case kd:{if(h){let E=l;return h==="DataView"?E=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(E=new Uint8Array(l)),i([h,[...E]],l)}const m=[],g=i([c,m],l);for(const E of l)m.push(o(E));return g}case Lg:{if(h)switch(h){case"BigInt":return i([h,l.toString()],l);case"Boolean":case"Number":case"String":return i([h,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const m=[],g=i([c,m],l);for(const E of $ee(l))(t||!vp(id(l[E])))&&m.push([o(E),o(l[E])]);return g}case D2:return i([c,l.toISOString()],l);case O2:{const{source:m,flags:g}=l;return i([c,{source:m,flags:g}],l)}case P2:{const m=[],g=i([c,m],l);for(const[E,w]of l)(t||!(vp(id(E))||vp(id(w))))&&m.push([o(E),o(w)]);return g}case L2:{const m=[],g=i([c,m],l);for(const E of l)(t||!vp(id(E)))&&m.push(o(E));return g}}const{message:f}=l;return i([c,{name:h,message:f}],l)};return o},bN=(t,{json:e,lossy:n}={})=>{const r=[];return Kee(!(e||n),!!e,new Map,r)(t),r},xc=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?yN(bN(t,e)):structuredClone(t):(t,e)=>yN(bN(t,e));function Qee(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Wee(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Xee(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Qee,r=t.options.footnoteBackLabel||Wee,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let h=-1;for(;++h<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[h]);if(!f)continue;const m=t.all(f),g=String(f.identifier).toUpperCase(),E=Gc(g.toLowerCase());let w=0;const x=[],C=t.footnoteCounts.get(g);for(;C!==void 0&&++w<=C;){x.length>0&&x.push({type:"text",value:" "});let Y=typeof n=="string"?n:n(h,w);typeof Y=="string"&&(Y={type:"text",value:Y}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+E+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,w),className:["data-footnote-backref"]},children:Array.isArray(Y)?Y:[Y]})}const I=m[m.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const Y=I.children[I.children.length-1];Y&&Y.type==="text"?Y.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...x)}else m.push(...x);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+E},children:t.wrap(m,!0)};t.patch(f,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...xc(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const D0=(function(t){if(t==null)return tte;if(typeof t=="function")return O0(t);if(typeof t=="object")return Array.isArray(t)?Zee(t):Jee(t);if(typeof t=="string")return ete(t);throw new Error("Expected function, string, or object as test")});function Zee(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=D0(t[n]);return O0(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function Jee(t){const e=t;return O0(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function ete(t){return O0(e);function e(n){return n&&n.type===t}}function O0(t){return e;function e(n,r,i){return!!(nte(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function tte(){return!0}function nte(t){return t!==null&&typeof t=="object"&&"type"in t}const _O=[],rte=!0,WE=!1,ite="skip";function wO(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=D0(i),l=r?-1:1;c(t,void 0,[])();function c(h,f,m){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const w=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(h.type+(w?"<"+w+">":""))+")"})}return E;function E(){let w=_O,x,C,I;if((!e||o(h,f,m[m.length-1]||void 0))&&(w=ste(n(h,m)),w[0]===WE))return w;if("children"in h&&h.children){const k=h;if(k.children&&w[0]!==ite)for(C=(r?k.children.length:-1)+l,I=m.concat(k);C>-1&&C<k.children.length;){const Y=k.children[C];if(x=c(Y,C,I)(),x[0]===WE)return x;C=typeof x[1]=="number"?x[1]:C+l}}return w}}}function ste(t){return Array.isArray(t)?t:typeof t=="number"?[rte,t]:t==null?_O:[t]}function P0(t,e,n,r){let i,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,i=n):(o=e,l=n,i=r),wO(t,o,c,i);function c(h,f){const m=f[f.length-1],g=m?m.children.indexOf(h):void 0;return l(h,g,m)}}const XE={}.hasOwnProperty,ate={};function ote(t,e){const n=e||ate,r=new Map,i=new Map,o=new Map,l={...qee,...n.handlers},c={all:f,applyData:ute,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:h,options:n,patch:lte,wrap:hte};return P0(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?r:i,E=String(m.identifier).toUpperCase();g.has(E)||g.set(E,m)}}),c;function h(m,g){const E=m.type,w=c.handlers[E];if(XE.call(c.handlers,E)&&w)return w(c,m,g);if(c.options.passThrough&&c.options.passThrough.includes(E)){if("children"in m){const{children:C,...I}=m,k=xc(I);return k.children=c.all(m),k}return xc(m)}return(c.options.unknownHandler||cte)(c,m,g)}function f(m){const g=[];if("children"in m){const E=m.children;let w=-1;for(;++w<E.length;){const x=c.one(E[w],m);if(x){if(w&&E[w-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=EN(x.value)),!Array.isArray(x)&&x.type==="element")){const C=x.children[0];C&&C.type==="text"&&(C.value=EN(C.value))}Array.isArray(x)?g.push(...x):g.push(x)}}}return g}}function lte(t,e){t.position&&(e.position=WX(t))}function ute(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,xc(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function cte(t,e){const n=e.data||{},r="value"in e&&!(XE.call(n,"hProperties")||XE.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function hte(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function EN(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function TN(t,e){const n=ote(t,e),r=n.one(t,void 0),i=Xee(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function dte(t,e){return t&&"run"in t?async function(n,r){const i=TN(n,{file:r,...e});await t.run(i,r)}:function(n,r){return TN(n,{file:r,...t||e})}}function _N(t){if(t)throw t}var N1,wN;function fte(){if(wN)return N1;wN=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var m=t.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!g)return!1;var E;for(E in f);return typeof E>"u"||t.call(f,E)},l=function(f,m){n&&m.name==="__proto__"?n(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},c=function(f,m){if(m==="__proto__")if(t.call(f,m)){if(r)return r(f,m).value}else return;return f[m]};return N1=function h(){var f,m,g,E,w,x,C=arguments[0],I=1,k=arguments.length,Y=!1;for(typeof C=="boolean"&&(Y=C,C=arguments[1]||{},I=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});I<k;++I)if(f=arguments[I],f!=null)for(m in f)g=c(C,m),E=c(f,m),C!==E&&(Y&&E&&(o(E)||(w=i(E)))?(w?(w=!1,x=g&&i(g)?g:[]):x=g&&o(g)?g:{},l(C,{name:m,newValue:h(Y,x,E)})):typeof E<"u"&&l(C,{name:m,newValue:E}));return C},N1}var mte=fte();const k1=rf(mte);function ZE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function pte(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...i);function c(h,...f){const m=t[++o];let g=-1;if(h){l(h);return}for(;++g<i.length;)(f[g]===null||f[g]===void 0)&&(f[g]=i[g]);i=f,m?gte(m,c)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function gte(t,e){let n;return r;function r(...l){const c=t.length>l.length;let h;c&&l.push(i);try{h=t.apply(this,l)}catch(f){const m=f;if(c&&n)throw m;return i(m)}c||(h&&h.then&&typeof h.then=="function"?h.then(o,i):h instanceof Error?i(h):o(h))}function i(l,...c){n||(n=!0,e(l,...c))}function o(l){i(null,l)}}const xs={basename:yte,dirname:bte,extname:Ete,join:Tte,sep:"/"};function yte(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Of(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,c=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),c>-1&&(t.codePointAt(i)===e.codePointAt(c--)?c<0&&(r=i):(c=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function bte(t){if(Of(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Ete(t){Of(t);let e=t.length,n=-1,r=0,i=-1,o=0,l;for(;e--;){const c=t.codePointAt(e);if(c===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),c===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Tte(...t){let e=-1,n;for(;++e<t.length;)Of(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":_te(n)}function _te(t){Of(t);const e=t.codePointAt(0)===47;let n=wte(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function wte(t,e){let n="",r=0,i=-1,o=0,l=-1,c,h;for(;++l<=t.length;){if(l<t.length)c=t.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,o=0}else c===46&&o>-1?o++:o=-1}return n}function Of(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const vte={cwd:xte};function xte(){return"/"}function JE(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Ate(t){if(typeof t=="string")t=new URL(t);else if(!JE(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Ste(t)}function Ste(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const R1=["history","path","basename","stem","extname","dirname"];class vO{constructor(e){let n;e?JE(e)?n={path:e}:typeof e=="string"||Cte(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":vte.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<R1.length;){const o=R1[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)R1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?xs.basename(this.path):void 0}set basename(e){O1(e,"basename"),D1(e,"basename"),this.path=xs.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?xs.dirname(this.path):void 0}set dirname(e){vN(this.basename,"dirname"),this.path=xs.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?xs.extname(this.path):void 0}set extname(e){if(D1(e,"extname"),vN(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xs.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){JE(e)&&(e=Ate(e)),O1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?xs.basename(this.path,this.extname):void 0}set stem(e){O1(e,"stem"),D1(e,"stem"),this.path=xs.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new br(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function D1(t,e){if(t&&t.includes(xs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+xs.sep+"`")}function O1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function vN(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Cte(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Ite=(function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),Nte={}.hasOwnProperty;class M2 extends Ite{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pte()}copy(){const e=new M2;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(k1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(M1("data",this.frozen),this.namespace[e]=n,this):Nte.call(this.namespace,e)&&this.namespace[e]||void 0:e?(M1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=xp(e),r=this.parser||this.Parser;return P1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),P1("process",this.parser||this.Parser),L1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const c=xp(e),h=r.parse(c);r.run(h,c,function(m,g,E){if(m||!g||!E)return f(m);const w=g,x=r.stringify(w,E);Dte(x)?E.value=x:E.result=x,f(m,E)});function f(m,g){m||!g?l(m):o?o(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),P1("processSync",this.parser||this.Parser),L1("processSync",this.compiler||this.Compiler),this.process(e,i),AN("processSync","process",n),r;function i(o,l){n=!0,_N(o),r=l}}run(e,n,r){xN(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,c){const h=xp(n);i.run(e,h,f);function f(m,g,E){const w=g||e;m?c(m):l?l(w):r(void 0,w,E)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),AN("runSync","run",r),i;function o(l,c){_N(l),i=c,r=!0}}stringify(e,n){this.freeze();const r=xp(n),i=this.compiler||this.Compiler;return L1("stringify",i),xN(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(M1("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")h(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...g]=f;h(m,g)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(i.settings=k1(!0,i.settings,f.settings))}function c(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const g=f[m];o(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function h(f,m){let g=-1,E=-1;for(;++g<r.length;)if(r[g][0]===f){E=g;break}if(E===-1)r.push([f,...m]);else if(m.length>0){let[w,...x]=m;const C=r[E][1];ZE(C)&&ZE(w)&&(w=k1(!0,C,w)),r[E]=[f,w,...x]}}}}const kte=new M2().freeze();function P1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function L1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function M1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xN(t){if(!ZE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function AN(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function xp(t){return Rte(t)?t:new vO(t)}function Rte(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Dte(t){return typeof t=="string"||Ote(t)}function Ote(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Pte="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",SN=[],CN={allowDangerousHtml:!0},Lte=/^(https?|ircs?|mailto|xmpp)$/i,Mte=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xO(t){const e=Bte(t),n=Ute(t);return jte(e.runSync(e.parse(n),n),t)}function Bte(t){const e=t.rehypePlugins||SN,n=t.remarkPlugins||SN,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...CN}:CN;return kte().use(bee).use(n).use(dte,r).use(e)}function Ute(t){const e=t.children||"",n=new vO;return typeof e=="string"&&(n.value=e),n}function jte(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,h=e.urlTransform||Vte;for(const m of Mte)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+Pte+m.id,void 0);return P0(t,f),tZ(t,{Fragment:T.Fragment,components:i,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function f(m,g,E){if(m.type==="raw"&&E&&typeof g=="number")return l?E.children.splice(g,1):E.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let w;for(w in S1)if(Object.hasOwn(S1,w)&&Object.hasOwn(m.properties,w)){const x=m.properties[w],C=S1[w];(C===null||C.includes(m.tagName))&&(m.properties[w]=h(String(x||""),w,m))}}if(m.type==="element"){let w=n?!n.includes(m.tagName):o?o.includes(m.tagName):!1;if(!w&&r&&typeof g=="number"&&(w=!r(m,g,E)),w&&E&&typeof g=="number")return c&&m.children?E.children.splice(g,1,...m.children):E.children.splice(g,1),g}}}function Vte(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Lte.test(t.slice(0,e))?t:""}function IN(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Fte(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Hte(t,e,n){const i=D0((n||{}).ignore||[]),o=zte(e);let l=-1;for(;++l<o.length;)wO(t,"text",c);function c(f,m){let g=-1,E;for(;++g<m.length;){const w=m[g],x=E?E.children:void 0;if(i(w,x?x.indexOf(w):void 0,E))return;E=w}if(E)return h(f,m)}function h(f,m){const g=m[m.length-1],E=o[l][0],w=o[l][1];let x=0;const I=g.children.indexOf(f);let k=!1,Y=[];E.lastIndex=0;let F=E.exec(f.value);for(;F;){const X=F.index,ne={index:F.index,input:F.input,stack:[...m,f]};let K=w(...F,ne);if(typeof K=="string"&&(K=K.length>0?{type:"text",value:K}:void 0),K===!1?E.lastIndex=X+1:(x!==X&&Y.push({type:"text",value:f.value.slice(x,X)}),Array.isArray(K)?Y.push(...K):K&&Y.push(K),x=X+F[0].length,k=!0),!E.global)break;F=E.exec(f.value)}return k?(x<f.value.length&&Y.push({type:"text",value:f.value.slice(x)}),g.children.splice(I,1,...Y)):Y=[f],I+Y.length}}function zte(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([qte(i[0]),Yte(i[1])])}return e}function qte(t){return typeof t=="string"?new RegExp(Fte(t),"g"):t}function Yte(t){return typeof t=="function"?t:function(){return t}}const B1="phrasing",U1=["autolink","link","image","label"];function Gte(){return{transforms:[Jte],enter:{literalAutolink:Kte,literalAutolinkEmail:j1,literalAutolinkHttp:j1,literalAutolinkWww:j1},exit:{literalAutolink:Zte,literalAutolinkEmail:Xte,literalAutolinkHttp:Qte,literalAutolinkWww:Wte}}}function $te(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:B1,notInConstruct:U1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:B1,notInConstruct:U1},{character:":",before:"[ps]",after:"\\/",inConstruct:B1,notInConstruct:U1}]}}function Kte(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function j1(t){this.config.enter.autolinkProtocol.call(this,t)}function Qte(t){this.config.exit.autolinkProtocol.call(this,t)}function Wte(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Xte(t){this.config.exit.autolinkEmail.call(this,t)}function Zte(t){this.exit(t)}function Jte(t){Hte(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ene],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),tne]],{ignore:["link","linkReference"]})}function ene(t,e,n,r,i){let o="";if(!AO(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!nne(n)))return!1;const l=rne(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:o+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function tne(t,e,n,r){return!AO(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function nne(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function rne(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=IN(t,"(");let o=IN(t,")");for(;r!==-1&&i>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function AO(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||zl(n)||N0(n))&&(!e||n!==47)}SO.peek=dne;function ine(){this.buffer()}function sne(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function ane(){this.buffer()}function one(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function lne(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function une(t){this.exit(t)}function cne(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function hne(t){this.exit(t)}function dne(){return"["}function SO(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{after:"]",before:o})),c(),l(),o+=i.move("]"),o}function fne(){return{enter:{gfmFootnoteCallString:ine,gfmFootnoteCall:sne,gfmFootnoteDefinitionLabelString:ane,gfmFootnoteDefinition:one},exit:{gfmFootnoteCallString:lne,gfmFootnoteCall:une,gfmFootnoteDefinitionLabelString:cne,gfmFootnoteDefinition:hne}}}function mne(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:SO},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const c=o.createTracker(l);let h=c.move("[^");const f=o.enter("footnoteDefinition"),m=o.enter("label");return h+=c.move(o.safe(o.associationId(r),{before:h,after:"]"})),m(),h+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),h+=c.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,c.current()),e?CO:pne))),f(),h}}function pne(t,e,n){return e===0?t:CO(t,e,n)}function CO(t,e,n){return(n?"":"    ")+t}const gne=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];IO.peek=_ne;function yne(){return{canContainEols:["delete"],enter:{strikethrough:Ene},exit:{strikethrough:Tne}}}function bne(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:gne}],handlers:{delete:IO}}}function Ene(t){this.enter({type:"delete",children:[]},t)}function Tne(t){this.exit(t)}function IO(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(t,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function _ne(){return"~"}function wne(t){return t.length}function vne(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||wne,o=[],l=[],c=[],h=[];let f=0,m=-1;for(;++m<t.length;){const C=[],I=[];let k=-1;for(t[m].length>f&&(f=t[m].length);++k<t[m].length;){const Y=xne(t[m][k]);if(n.alignDelimiters!==!1){const F=i(Y);I[k]=F,(h[k]===void 0||F>h[k])&&(h[k]=F)}C.push(Y)}l[m]=C,c[m]=I}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<f;)o[g]=NN(r[g]);else{const C=NN(r);for(;++g<f;)o[g]=C}g=-1;const E=[],w=[];for(;++g<f;){const C=o[g];let I="",k="";C===99?(I=":",k=":"):C===108?I=":":C===114&&(k=":");let Y=n.alignDelimiters===!1?1:Math.max(1,h[g]-I.length-k.length);const F=I+"-".repeat(Y)+k;n.alignDelimiters!==!1&&(Y=I.length+Y+k.length,Y>h[g]&&(h[g]=Y),w[g]=Y),E[g]=F}l.splice(1,0,E),c.splice(1,0,w),m=-1;const x=[];for(;++m<l.length;){const C=l[m],I=c[m];g=-1;const k=[];for(;++g<f;){const Y=C[g]||"";let F="",X="";if(n.alignDelimiters!==!1){const ne=h[g]-(I[g]||0),K=o[g];K===114?F=" ".repeat(ne):K===99?ne%2?(F=" ".repeat(ne/2+.5),X=" ".repeat(ne/2-.5)):(F=" ".repeat(ne/2),X=F):X=" ".repeat(ne)}n.delimiterStart!==!1&&!g&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&Y==="")&&(n.delimiterStart!==!1||g)&&k.push(" "),n.alignDelimiters!==!1&&k.push(F),k.push(Y),n.alignDelimiters!==!1&&k.push(X),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||g!==f-1)&&k.push("|")}x.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return x.join(`
`)}function xne(t){return t==null?"":String(t)}function NN(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const kN={}.hasOwnProperty;function NO(t,e){const n=e||{};function r(i,...o){let l=r.invalid;const c=r.handlers;if(i&&kN.call(i,t)){const h=String(i[t]);l=kN.call(c,h)?c[h]:r.unknown}if(l)return l.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function Ane(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(t,o.current()),Sne);return i(),l}function Sne(t,e,n){return">"+(n?"":" ")+t}function Cne(t,e){return RN(t,e.inConstruct,!0)&&!RN(t,e.notInConstruct,!1)}function RN(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function DN(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Cne(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Ine(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+e.length,r=n.indexOf(e,i);return l}function Nne(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function kne(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Rne(t,e,n,r){const i=kne(n),o=t.value||"",l=i==="`"?"GraveAccent":"Tilde";if(Nne(t,n)){const g=n.enter("codeIndented"),E=n.indentLines(o,Dne);return g(),E}const c=n.createTracker(r),h=i.repeat(Math.max(Ine(o,i)+1,3)),f=n.enter("codeFenced");let m=c.move(h);if(t.lang){const g=n.enter(`codeFencedLang${l}`);m+=c.move(n.safe(t.lang,{before:m,after:" ",encode:["`"],...c.current()})),g()}if(t.lang&&t.meta){const g=n.enter(`codeFencedMeta${l}`);m+=c.move(" "),m+=c.move(n.safe(t.meta,{before:m,after:`
`,encode:["`"],...c.current()})),g()}return m+=c.move(`
`),o&&(m+=c.move(o+`
`)),m+=c.move(h),f(),m}function Dne(t,e,n){return(n?"":"    ")+t}function B2(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function One(t,e,n,r){const i=B2(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const h=n.createTracker(r);let f=h.move("[");return f+=h.move(n.safe(n.associationId(t),{before:f,after:"]",...h.current()})),f+=h.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),f+=h.move("<"),f+=h.move(n.safe(t.url,{before:f,after:">",...h.current()})),f+=h.move(">")):(c=n.enter("destinationRaw"),f+=h.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...h.current()}))),c(),t.title&&(c=n.enter(`title${o}`),f+=h.move(" "+i),f+=h.move(n.safe(t.title,{before:f,after:i,...h.current()})),f+=h.move(i),c()),l(),f}function Pne(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function tf(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Mg(t,e,n){const r=vc(t),i=vc(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}kO.peek=Lne;function kO(t,e,n,r){const i=Pne(n),o=n.enter("emphasis"),l=n.createTracker(r),c=l.move(i);let h=l.move(n.containerPhrasing(t,{after:i,before:c,...l.current()}));const f=h.charCodeAt(0),m=Mg(r.before.charCodeAt(r.before.length-1),f,i);m.inside&&(h=tf(f)+h.slice(1));const g=h.charCodeAt(h.length-1),E=Mg(r.after.charCodeAt(0),g,i);E.inside&&(h=h.slice(0,-1)+tf(g));const w=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:E.outside,before:m.outside},c+h+w}function Lne(t,e,n){return n.options.emphasis||"*"}function Mne(t,e){let n=!1;return P0(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,WE}),!!((!t.depth||t.depth<3)&&N2(t)&&(e.options.setext||n))}function Bne(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(Mne(t,n)){const m=n.enter("headingSetext"),g=n.enter("phrasing"),E=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return g(),m(),E+`
`+(i===1?"=":"-").repeat(E.length-(Math.max(E.lastIndexOf("\r"),E.lastIndexOf(`
`))+1))}const l="#".repeat(i),c=n.enter("headingAtx"),h=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=tf(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),h(),c(),f}RO.peek=Une;function RO(t){return t.value||""}function Une(){return"<"}DO.peek=jne;function DO(t,e,n,r){const i=B2(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const h=n.createTracker(r);let f=h.move("![");return f+=h.move(n.safe(t.alt,{before:f,after:"]",...h.current()})),f+=h.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),f+=h.move("<"),f+=h.move(n.safe(t.url,{before:f,after:">",...h.current()})),f+=h.move(">")):(c=n.enter("destinationRaw"),f+=h.move(n.safe(t.url,{before:f,after:t.title?" ":")",...h.current()}))),c(),t.title&&(c=n.enter(`title${o}`),f+=h.move(" "+i),f+=h.move(n.safe(t.title,{before:f,after:i,...h.current()})),f+=h.move(i),c()),f+=h.move(")"),l(),f}function jne(){return"!"}OO.peek=Vne;function OO(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let h=c.move("![");const f=n.safe(t.alt,{before:h,after:"]",...c.current()});h+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(t),{before:h,after:"]",...c.current()});return l(),n.stack=m,o(),i==="full"||!f||f!==g?h+=c.move(g+"]"):i==="shortcut"?h=h.slice(0,-1):h+=c.move("]"),h}function Vne(){return"!"}PO.peek=Fne;function PO(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],c=n.compilePattern(l);let h;if(l.atBreak)for(;h=c.exec(r);){let f=h.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(h.index+1)}}return i+r+i}function Fne(){return"`"}function LO(t,e){const n=N2(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}MO.peek=Hne;function MO(t,e,n,r){const i=B2(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,h;if(LO(t,n)){const m=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(t,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=m,g}c=n.enter("link"),h=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(t,{before:f,after:"](",...l.current()})),f+=l.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(t.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(h=n.enter("destinationRaw"),f+=l.move(n.safe(t.url,{before:f,after:t.title?" ":")",...l.current()}))),h(),t.title&&(h=n.enter(`title${o}`),f+=l.move(" "+i),f+=l.move(n.safe(t.title,{before:f,after:i,...l.current()})),f+=l.move(i),h()),f+=l.move(")"),c(),f}function Hne(t,e,n){return LO(t,n)?"<":"["}BO.peek=zne;function BO(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let h=c.move("[");const f=n.containerPhrasing(t,{before:h,after:"]",...c.current()});h+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(t),{before:h,after:"]",...c.current()});return l(),n.stack=m,o(),i==="full"||!f||f!==g?h+=c.move(g+"]"):i==="shortcut"?h=h.slice(0,-1):h+=c.move("]"),h}function zne(){return"["}function U2(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function qne(t){const e=U2(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Yne(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function UO(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Gne(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=t.ordered?Yne(n):U2(n);const c=t.ordered?l==="."?")":".":qne(n);let h=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){const m=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),UO(n)===l&&m){let g=-1;for(;++g<t.children.length;){const E=t.children[g];if(E&&E.type==="listItem"&&E.children&&E.children[0]&&E.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(l=c),n.bulletCurrent=l;const f=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),f}function $ne(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Kne(t,e,n,r){const i=$ne(n);let o=n.bulletCurrent||U2(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(o+" ".repeat(l-o.length)),c.shift(l);const h=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,c.current()),m);return h(),f;function m(g,E,w){return E?(w?"":" ".repeat(l))+g:(w?o:o+" ".repeat(l-o.length))+g}}function Qne(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),i(),l}const Wne=D0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Xne(t,e,n,r){return(t.children.some(function(l){return Wne(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Zne(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}jO.peek=Jne;function jO(t,e,n,r){const i=Zne(n),o=n.enter("strong"),l=n.createTracker(r),c=l.move(i+i);let h=l.move(n.containerPhrasing(t,{after:i,before:c,...l.current()}));const f=h.charCodeAt(0),m=Mg(r.before.charCodeAt(r.before.length-1),f,i);m.inside&&(h=tf(f)+h.slice(1));const g=h.charCodeAt(h.length-1),E=Mg(r.after.charCodeAt(0),g,i);E.inside&&(h=h.slice(0,-1)+tf(g));const w=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:E.outside,before:m.outside},c+h+w}function Jne(t,e,n){return n.options.strong||"*"}function ere(t,e,n,r){return n.safe(t.value,r)}function tre(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function nre(t,e,n){const r=(UO(n)+(n.options.ruleSpaces?" ":"")).repeat(tre(n));return n.options.ruleSpaces?r.slice(0,-1):r}const VO={blockquote:Ane,break:DN,code:Rne,definition:One,emphasis:kO,hardBreak:DN,heading:Bne,html:RO,image:DO,imageReference:OO,inlineCode:PO,link:MO,linkReference:BO,list:Gne,listItem:Kne,paragraph:Qne,root:Xne,strong:jO,text:ere,thematicBreak:nre};function rre(){return{enter:{table:ire,tableData:ON,tableHeader:ON,tableRow:are},exit:{codeText:ore,table:sre,tableData:V1,tableHeader:V1,tableRow:V1}}}function ire(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function sre(t){this.exit(t),this.data.inTable=void 0}function are(t){this.enter({type:"tableRow",children:[]},t)}function V1(t){this.exit(t)}function ON(t){this.enter({type:"tableCell",children:[]},t)}function ore(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,lre));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function lre(t,e){return e==="|"?e:t}function ure(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:E,table:l,tableCell:h,tableRow:c}};function l(w,x,C,I){return f(m(w,C,I),w.align)}function c(w,x,C,I){const k=g(w,C,I),Y=f([k]);return Y.slice(0,Y.indexOf(`
`))}function h(w,x,C,I){const k=C.enter("tableCell"),Y=C.enter("phrasing"),F=C.containerPhrasing(w,{...I,before:o,after:o});return Y(),k(),F}function f(w,x){return vne(w,{align:x,alignDelimiters:r,padding:n,stringLength:i})}function m(w,x,C){const I=w.children;let k=-1;const Y=[],F=x.enter("table");for(;++k<I.length;)Y[k]=g(I[k],x,C);return F(),Y}function g(w,x,C){const I=w.children;let k=-1;const Y=[],F=x.enter("tableRow");for(;++k<I.length;)Y[k]=h(I[k],w,x,C);return F(),Y}function E(w,x,C){let I=VO.inlineCode(w,x,C);return C.stack.includes("tableCell")&&(I=I.replace(/\|/g,"\\$&")),I}}function cre(){return{exit:{taskListCheckValueChecked:PN,taskListCheckValueUnchecked:PN,paragraph:dre}}}function hre(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:fre}}}function PN(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function dre(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,l;for(;++o<i.length;){const c=i[o];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function fre(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",l="["+(t.checked?"x":" ")+"] ",c=n.createTracker(r);o&&c.move(l);let h=VO.listItem(t,e,n,{...r,...c.current()});return o&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),h;function f(m){return m+l}}function mre(){return[Gte(),fne(),yne(),rre(),cre()]}function pre(t){return{extensions:[$te(),mne(t),bne(),ure(t),hre()]}}const gre={tokenize:wre,partial:!0},FO={tokenize:vre,partial:!0},HO={tokenize:xre,partial:!0},zO={tokenize:Are,partial:!0},yre={tokenize:Sre,partial:!0},qO={name:"wwwAutolink",tokenize:Tre,previous:GO},YO={name:"protocolAutolink",tokenize:_re,previous:$O},Na={name:"emailAutolink",tokenize:Ere,previous:KO},Hs={};function bre(){return{text:Hs}}let bl=48;for(;bl<123;)Hs[bl]=Na,bl++,bl===58?bl=65:bl===91&&(bl=97);Hs[43]=Na;Hs[45]=Na;Hs[46]=Na;Hs[95]=Na;Hs[72]=[Na,YO];Hs[104]=[Na,YO];Hs[87]=[Na,qO];Hs[119]=[Na,qO];function Ere(t,e,n){const r=this;let i,o;return l;function l(g){return!eT(g)||!KO.call(r,r.previous)||j2(r.events)?n(g):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(g))}function c(g){return eT(g)?(t.consume(g),c):g===64?(t.consume(g),h):n(g)}function h(g){return g===46?t.check(yre,m,f)(g):g===45||g===95||pr(g)?(o=!0,t.consume(g),h):m(g)}function f(g){return t.consume(g),i=!0,h}function m(g){return o&&i&&vr(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(g)):n(g)}}function Tre(t,e,n){const r=this;return i;function i(l){return l!==87&&l!==119||!GO.call(r,r.previous)||j2(r.events)?n(l):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(gre,t.attempt(FO,t.attempt(HO,o),n),n)(l))}function o(l){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(l)}}function _re(t,e,n){const r=this;let i="",o=!1;return l;function l(g){return(g===72||g===104)&&$O.call(r,r.previous)&&!j2(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(g),t.consume(g),c):n(g)}function c(g){if(vr(g)&&i.length<5)return i+=String.fromCodePoint(g),t.consume(g),c;if(g===58){const E=i.toLowerCase();if(E==="http"||E==="https")return t.consume(g),h}return n(g)}function h(g){return g===47?(t.consume(g),o?f:(o=!0,h)):n(g)}function f(g){return g===null||Pg(g)||zt(g)||zl(g)||N0(g)?n(g):t.attempt(FO,t.attempt(HO,m),n)(g)}function m(g){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(g)}}function wre(t,e,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,t.consume(l),i):l===46&&r===3?(t.consume(l),o):n(l)}function o(l){return l===null?n(l):e(l)}}function vre(t,e,n){let r,i,o;return l;function l(f){return f===46||f===95?t.check(zO,h,c)(f):f===null||zt(f)||zl(f)||f!==45&&N0(f)?h(f):(o=!0,t.consume(f),l)}function c(f){return f===95?r=!0:(i=r,r=void 0),t.consume(f),l}function h(f){return i||r||!o?n(f):e(f)}}function xre(t,e){let n=0,r=0;return i;function i(l){return l===40?(n++,t.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?t.check(zO,e,o)(l):l===null||zt(l)||zl(l)?e(l):(t.consume(l),i)}function o(l){return l===41&&r++,t.consume(l),i}}function Are(t,e,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(t.consume(c),r):c===38?(t.consume(c),o):c===93?(t.consume(c),i):c===60||c===null||zt(c)||zl(c)?e(c):n(c)}function i(c){return c===null||c===40||c===91||zt(c)||zl(c)?e(c):r(c)}function o(c){return vr(c)?l(c):n(c)}function l(c){return c===59?(t.consume(c),r):vr(c)?(t.consume(c),l):n(c)}}function Sre(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return pr(o)?n(o):e(o)}}function GO(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||zt(t)}function $O(t){return!vr(t)}function KO(t){return!(t===47||eT(t))}function eT(t){return t===43||t===45||t===46||t===95||pr(t)}function j2(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Cre={tokenize:Lre,partial:!0};function Ire(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Dre,continuation:{tokenize:Ore},exit:Pre}},text:{91:{name:"gfmFootnoteCall",tokenize:Rre},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Nre,resolveTo:kre}}}}function Nre(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const h=r.events[i][1];if(h.type==="labelImage"){l=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return c;function c(h){if(!l||!l._balanced)return n(h);const f=Wi(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(h):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),e(h))}}function kre(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},c=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",l,e],["exit",l,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...c),t}function Rre(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return c;function c(g){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),h}function h(g){return g!==94?n(g):(t.enter("gfmFootnoteCallMarker"),t.consume(g),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(g){if(o>999||g===93&&!l||g===null||g===91||zt(g))return n(g);if(g===93){t.exit("chunkString");const E=t.exit("gfmFootnoteCallString");return i.includes(Wi(r.sliceSerialize(E)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(g)}return zt(g)||(l=!0),o++,t.consume(g),g===92?m:f}function m(g){return g===91||g===92||g===93?(t.consume(g),o++,f):f(g)}}function Dre(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,c;return h;function h(x){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(x){return x===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",m):n(x)}function m(x){if(l>999||x===93&&!c||x===null||x===91||zt(x))return n(x);if(x===93){t.exit("chunkString");const C=t.exit("gfmFootnoteDefinitionLabelString");return o=Wi(r.sliceSerialize(C)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),E}return zt(x)||(c=!0),l++,t.consume(x),x===92?g:m}function g(x){return x===91||x===92||x===93?(t.consume(x),l++,m):m(x)}function E(x){return x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),i.includes(o)||i.push(o),vt(t,w,"gfmFootnoteDefinitionWhitespace")):n(x)}function w(x){return e(x)}}function Ore(t,e,n){return t.check(Df,e,t.attempt(Cre,e,n))}function Pre(t){t.exit("gfmFootnoteDefinition")}function Lre(t,e,n){const r=this;return vt(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(o):n(o)}}function Mre(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,c){let h=-1;for(;++h<l.length;)if(l[h][0]==="enter"&&l[h][1].type==="strikethroughSequenceTemporary"&&l[h][1]._close){let f=h;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[h][1].end.offset-l[h][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[h][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[h][1].end)},g={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[h][1].start)},E=[["enter",m,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",g,c]],w=c.parser.constructs.insideSpan.null;w&&si(E,E.length,0,k0(w,l.slice(f+1,h),c)),si(E,E.length,0,[["exit",g,c],["enter",l[h][1],c],["exit",l[h][1],c],["exit",m,c]]),si(l,f-1,h-f+3,E),h=f+E.length-2;break}}for(h=-1;++h<l.length;)l[h][1].type==="strikethroughSequenceTemporary"&&(l[h][1].type="data");return l}function o(l,c,h){const f=this.previous,m=this.events;let g=0;return E;function E(x){return f===126&&m[m.length-1][1].type!=="characterEscape"?h(x):(l.enter("strikethroughSequenceTemporary"),w(x))}function w(x){const C=vc(f);if(x===126)return g>1?h(x):(l.consume(x),g++,w);if(g<2&&!n)return h(x);const I=l.exit("strikethroughSequenceTemporary"),k=vc(x);return I._open=!k||k===2&&!!C,I._close=!C||C===2&&!!k,c(x)}}}class Bre{constructor(){this.map=[]}add(e,n,r){Ure(this,e,n,r)}consume(e){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const o of i)e.push(o);i=r.pop()}this.map.length=0}}function Ure(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function jre(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Vre(){return{flow:{null:{name:"table",tokenize:Fre,resolveAll:Hre}}}}function Fre(t,e,n){const r=this;let i=0,o=0,l;return c;function c(P){let R=r.events.length-1;for(;R>-1;){const he=r.events[R][1].type;if(he==="lineEnding"||he==="linePrefix")R--;else break}const U=R>-1?r.events[R][1].type:null,H=U==="tableHead"||U==="tableRow"?K:h;return H===K&&r.parser.lazy[r.now().line]?n(P):H(P)}function h(P){return t.enter("tableHead"),t.enter("tableRow"),f(P)}function f(P){return P===124||(l=!0,o+=1),m(P)}function m(P){return P===null?n(P):ze(P)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),w):n(P):dt(P)?vt(t,m,"whitespace")(P):(o+=1,l&&(l=!1,i+=1),P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),l=!0,m):(t.enter("data"),g(P)))}function g(P){return P===null||P===124||zt(P)?(t.exit("data"),m(P)):(t.consume(P),P===92?E:g)}function E(P){return P===92||P===124?(t.consume(P),g):g(P)}function w(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(t.enter("tableDelimiterRow"),l=!1,dt(P)?vt(t,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):x(P))}function x(P){return P===45||P===58?I(P):P===124?(l=!0,t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),C):ne(P)}function C(P){return dt(P)?vt(t,I,"whitespace")(P):I(P)}function I(P){return P===58?(o+=1,l=!0,t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),k):P===45?(o+=1,k(P)):P===null||ze(P)?X(P):ne(P)}function k(P){return P===45?(t.enter("tableDelimiterFiller"),Y(P)):ne(P)}function Y(P){return P===45?(t.consume(P),Y):P===58?(l=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),F):(t.exit("tableDelimiterFiller"),F(P))}function F(P){return dt(P)?vt(t,X,"whitespace")(P):X(P)}function X(P){return P===124?x(P):P===null||ze(P)?!l||i!==o?ne(P):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(P)):ne(P)}function ne(P){return n(P)}function K(P){return t.enter("tableRow"),B(P)}function B(P){return P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),B):P===null||ze(P)?(t.exit("tableRow"),e(P)):dt(P)?vt(t,B,"whitespace")(P):(t.enter("data"),O(P))}function O(P){return P===null||P===124||zt(P)?(t.exit("data"),B(P)):(t.consume(P),P===92?V:O)}function V(P){return P===92||P===124?(t.consume(P),O):O(P)}}function Hre(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],c=!1,h=0,f,m,g;const E=new Bre;for(;++n<t.length;){const w=t[n],x=w[1];w[0]==="enter"?x.type==="tableHead"?(c=!1,h!==0&&(LN(E,e,h,f,m),m=void 0,h=0),f={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},E.add(n,0,[["enter",f,e]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,g=void 0,o=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,m={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},E.add(n,0,[["enter",m,e]])),i=x.type==="tableDelimiterRow"?2:m?3:1):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],g=Ap(E,e,o,i,void 0,g),o=[0,0,0,0]),l[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],g=Ap(E,e,o,i,void 0,g)),o=l,l=[o[1],n,0,0])):x.type==="tableHead"?(c=!0,h=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(h=n,o[1]!==0?(l[0]=l[1],g=Ap(E,e,o,i,n,g)):l[1]!==0&&(g=Ap(E,e,l,i,n,g)),i=0):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(l[3]=n)}for(h!==0&&LN(E,e,h,f,m),E.consume(e.events),n=-1;++n<e.events.length;){const w=e.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=jre(e.events,n))}return t}function Ap(t,e,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(o.end=Object.assign({},Yu(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const h=Yu(e.events,n[1]);if(o={type:l,start:Object.assign({},h),end:Object.assign({},h)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const f=Yu(e.events,n[2]),m=Yu(e.events,n[3]),g={type:c,start:Object.assign({},f),end:Object.assign({},m)};if(t.add(n[2],0,[["enter",g,e]]),r!==2){const E=e.events[n[2]],w=e.events[n[3]];if(E[1].end=Object.assign({},w[1].end),E[1].type="chunkText",E[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,C=n[3]-n[2]-1;t.add(x,C,[])}}t.add(n[3]+1,0,[["exit",g,e]])}return i!==void 0&&(o.end=Object.assign({},Yu(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function LN(t,e,n,r,i){const o=[],l=Yu(e.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,e])),r.end=Object.assign({},l),o.push(["exit",r,e]),t.add(n+1,0,o)}function Yu(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const zre={name:"tasklistCheck",tokenize:Yre};function qre(){return{text:{91:zre}}}function Yre(t,e,n){const r=this;return i;function i(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(h):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),o)}function o(h){return zt(h)?(t.enter("taskListCheckValueUnchecked"),t.consume(h),t.exit("taskListCheckValueUnchecked"),l):h===88||h===120?(t.enter("taskListCheckValueChecked"),t.consume(h),t.exit("taskListCheckValueChecked"),l):n(h)}function l(h){return h===93?(t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(h)}function c(h){return ze(h)?e(h):dt(h)?t.check({tokenize:Gre},e,n)(h):n(h)}}function Gre(t,e,n){return vt(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function $re(t){return rO([bre(),Ire(),Mre(t),Vre(),qre()])}const Kre={};function QO(t){const e=this,n=t||Kre,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push($re(n)),o.push(mre()),l.push(pre(n))}const MN=/[#.]/g;function Qre(t,e){const n=t||"",r={};let i=0,o,l;for(;i<n.length;){MN.lastIndex=i;const c=MN.exec(n),h=n.slice(i,c?c.index:n.length);h&&(o?o==="#"?r.id=h:Array.isArray(r.className)?r.className.push(h):r.className=[h]:l=h,i+=h.length),c&&(o=c[0],i++)}return{type:"element",tagName:l||e||"div",properties:r,children:[]}}function WO(t,e,n){const r=n?Jre(n):void 0;function i(o,l,...c){let h;if(o==null){h={type:"root",children:[]};const f=l;c.unshift(f)}else{h=Qre(o,e);const f=h.tagName.toLowerCase(),m=r?r.get(f):void 0;if(h.tagName=m||f,Wre(l))c.unshift(l);else for(const[g,E]of Object.entries(l))Xre(t,h.properties,g,E)}for(const f of c)tT(h.children,f);return h.type==="element"&&h.tagName==="template"&&(h.content={type:"root",children:h.children},h.children=[]),h}return i}function Wre(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const l of o)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function Xre(t,e,n,r){const i=A2(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=QI(r):i.commaSeparated?o=qI(r):i.commaOrSpaceSeparated?o=QI(qI(r).join(" ")):o=BN(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?Zre(r):String(r);if(Array.isArray(o)){const l=[];for(const c of o)l.push(BN(i,i.property,c));o=l}i.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[i.property]=o}}function tT(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)tT(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?tT(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function BN(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Jd(n)===Jd(e)))return!0}return n}function Zre(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function Jre(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const eie=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],tie=WO(C0,"div"),nie=WO(Yc,"g",eie);function rie(t){const e=String(t),n=[];return{toOffset:i,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=e.length){let l=0;for(;;){let c=n[l];if(c===void 0){const h=UN(e,n[l-1]);c=h===-1?e.length+1:h+1,n[l]=c}if(c>o)return{line:l+1,column:o-(l>0?n[l-1]:0)+1,offset:o};l++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const c=n[n.length-1],h=UN(e,c),f=h===-1?e.length+1:h+1;if(c===f)break;n.push(f)}const l=(o.line>1?n[o.line-2]:0)+o.column-1;if(l<n[o.line-1])return l}}}function UN(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Al={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},XO={}.hasOwnProperty,iie=Object.prototype;function sie(t,e){const n=e||{};return V2({file:n.file||void 0,location:!1,schema:n.space==="svg"?Yc:C0,verbose:n.verbose||!1},t)}function V2(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},Yp(t,r,n),n}case"#document":case"#document-fragment":{const r=e,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:ZO(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const o=String(t.file),l=rie(o),c=l.toPoint(0),h=l.toPoint(o.length);n.position={start:c,end:h}}return n}case"#documentType":{const r=e;return n={type:"doctype"},Yp(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},Yp(t,r,n),n}default:return n=aie(t,e),n}}function ZO(t,e){let n=-1;const r=[];for(;++n<e.length;){const i=V2(t,e[n]);r.push(i)}return r}function aie(t,e){const n=t.schema;t.schema=e.namespaceURI===Al.svg?Yc:C0;let r=-1;const i={};for(;++r<e.attrs.length;){const c=e.attrs[r],h=(c.prefix?c.prefix+":":"")+c.name;XO.call(iie,h)||(i[h]=c.value)}const l=(t.schema.space==="svg"?nie:tie)(e.tagName,i,ZO(t,e.childNodes));if(Yp(t,e,l),l.tagName==="template"){const c=e,h=c.sourceCodeLocation,f=h&&h.startTag&&Zu(h.startTag),m=h&&h.endTag&&Zu(h.endTag),g=V2(t,c.content);f&&m&&t.file&&(g.position={start:f.end,end:m.start}),l.content=g}return t.schema=n,l}function Yp(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=oie(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function oie(t,e,n){const r=Zu(n);if(e.type==="element"){const i=e.children[e.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),t.verbose){const o={};let l;if(n.attrs)for(l in n.attrs)XO.call(n.attrs,l)&&(o[A2(t.schema,l).property]=Zu(n.attrs[l]));n.startTag;const c=Zu(n.startTag),h=n.endTag?Zu(n.endTag):void 0,f={opening:c};h&&(f.closing=h),f.properties=o,e.data={position:f}}}return r}function Zu(t){const e=jN({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=jN({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function jN(t){return t.line&&t.column?t:void 0}class Pf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Pf.prototype.property={};Pf.prototype.normal={};Pf.prototype.space=null;function JO(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Pf(n,r,e)}function nT(t){return t.toLowerCase()}class Oi{constructor(e,n){this.property=e,this.attribute=n}}Oi.prototype.space=null;Oi.prototype.boolean=!1;Oi.prototype.booleanish=!1;Oi.prototype.overloadedBoolean=!1;Oi.prototype.number=!1;Oi.prototype.commaSeparated=!1;Oi.prototype.spaceSeparated=!1;Oi.prototype.commaOrSpaceSeparated=!1;Oi.prototype.mustUseProperty=!1;Oi.prototype.defined=!1;let lie=0;const it=Xl(),Un=Xl(),eP=Xl(),Ce=Xl(),Yt=Xl(),lc=Xl(),ti=Xl();function Xl(){return 2**++lie}const rT=Object.freeze(Object.defineProperty({__proto__:null,boolean:it,booleanish:Un,commaOrSpaceSeparated:ti,commaSeparated:lc,number:Ce,overloadedBoolean:eP,spaceSeparated:Yt},Symbol.toStringTag,{value:"Module"})),F1=Object.keys(rT);class F2 extends Oi{constructor(e,n,r,i){let o=-1;if(super(e,n),VN(this,"space",i),typeof r=="number")for(;++o<F1.length;){const l=F1[o];VN(this,F1[o],(r&rT[l])===rT[l])}}}F2.prototype.defined=!0;function VN(t,e,n){n&&(t[e]=n)}const uie={}.hasOwnProperty;function $c(t){const e={},n={};let r;for(r in t.properties)if(uie.call(t.properties,r)){const i=t.properties[r],o=new F2(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[nT(r)]=r,n[nT(o.attribute)]=r}return new Pf(e,n,t.space)}const tP=$c({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),nP=$c({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function rP(t,e){return e in t?t[e]:e}function iP(t,e){return rP(t,e.toLowerCase())}const sP=$c({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:iP,properties:{xmlns:null,xmlnsXLink:null}}),aP=$c({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Un,ariaAutoComplete:null,ariaBusy:Un,ariaChecked:Un,ariaColCount:Ce,ariaColIndex:Ce,ariaColSpan:Ce,ariaControls:Yt,ariaCurrent:null,ariaDescribedBy:Yt,ariaDetails:null,ariaDisabled:Un,ariaDropEffect:Yt,ariaErrorMessage:null,ariaExpanded:Un,ariaFlowTo:Yt,ariaGrabbed:Un,ariaHasPopup:null,ariaHidden:Un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Yt,ariaLevel:Ce,ariaLive:null,ariaModal:Un,ariaMultiLine:Un,ariaMultiSelectable:Un,ariaOrientation:null,ariaOwns:Yt,ariaPlaceholder:null,ariaPosInSet:Ce,ariaPressed:Un,ariaReadOnly:Un,ariaRelevant:null,ariaRequired:Un,ariaRoleDescription:Yt,ariaRowCount:Ce,ariaRowIndex:Ce,ariaRowSpan:Ce,ariaSelected:Un,ariaSetSize:Ce,ariaSort:null,ariaValueMax:Ce,ariaValueMin:Ce,ariaValueNow:Ce,ariaValueText:null,role:null}}),cie=$c({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:iP,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lc,acceptCharset:Yt,accessKey:Yt,action:null,allow:null,allowFullScreen:it,allowPaymentRequest:it,allowUserMedia:it,alt:null,as:null,async:it,autoCapitalize:null,autoComplete:Yt,autoFocus:it,autoPlay:it,blocking:Yt,capture:null,charSet:null,checked:it,cite:null,className:Yt,cols:Ce,colSpan:null,content:null,contentEditable:Un,controls:it,controlsList:Yt,coords:Ce|lc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:it,defer:it,dir:null,dirName:null,disabled:it,download:eP,draggable:Un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:it,formTarget:null,headers:Yt,height:Ce,hidden:it,high:Ce,href:null,hrefLang:null,htmlFor:Yt,httpEquiv:Yt,id:null,imageSizes:null,imageSrcSet:null,inert:it,inputMode:null,integrity:null,is:null,isMap:it,itemId:null,itemProp:Yt,itemRef:Yt,itemScope:it,itemType:Yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:it,low:Ce,manifest:null,max:null,maxLength:Ce,media:null,method:null,min:null,minLength:Ce,multiple:it,muted:it,name:null,nonce:null,noModule:it,noValidate:it,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:it,optimum:Ce,pattern:null,ping:Yt,placeholder:null,playsInline:it,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:it,referrerPolicy:null,rel:Yt,required:it,reversed:it,rows:Ce,rowSpan:Ce,sandbox:Yt,scope:null,scoped:it,seamless:it,selected:it,shadowRootClonable:it,shadowRootDelegatesFocus:it,shadowRootMode:null,shape:null,size:Ce,sizes:null,slot:null,span:Ce,spellCheck:Un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ce,step:null,style:null,tabIndex:Ce,target:null,title:null,translate:null,type:null,typeMustMatch:it,useMap:null,value:Un,width:Ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Yt,axis:null,background:null,bgColor:null,border:Ce,borderColor:null,bottomMargin:Ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:it,declare:it,event:null,face:null,frame:null,frameBorder:null,hSpace:Ce,leftMargin:Ce,link:null,longDesc:null,lowSrc:null,marginHeight:Ce,marginWidth:Ce,noResize:it,noHref:it,noShade:it,noWrap:it,object:null,profile:null,prompt:null,rev:null,rightMargin:Ce,rules:null,scheme:null,scrolling:Un,standby:null,summary:null,text:null,topMargin:Ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:it,disableRemotePlayback:it,prefix:null,property:null,results:Ce,security:null,unselectable:null}}),hie=$c({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:rP,properties:{about:ti,accentHeight:Ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ce,amplitude:Ce,arabicForm:null,ascent:Ce,attributeName:null,attributeType:null,azimuth:Ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ce,by:null,calcMode:null,capHeight:Ce,className:Yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ce,diffuseConstant:Ce,direction:null,display:null,dur:null,divisor:Ce,dominantBaseline:null,download:it,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ce,enableBackground:null,end:null,event:null,exponent:Ce,externalResourcesRequired:null,fill:null,fillOpacity:Ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lc,g2:lc,glyphName:lc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ce,horizOriginX:Ce,horizOriginY:Ce,id:null,ideographic:Ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ce,k:Ce,k1:Ce,k2:Ce,k3:Ce,k4:Ce,kernelMatrix:ti,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ce,overlineThickness:Ce,paintOrder:null,panose1:null,path:null,pathLength:Ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ce,pointsAtY:Ce,pointsAtZ:Ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ti,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ti,rev:ti,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ti,requiredFeatures:ti,requiredFonts:ti,requiredFormats:ti,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ce,specularExponent:Ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ce,strikethroughThickness:Ce,string:null,stroke:null,strokeDashArray:ti,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ce,strokeOpacity:Ce,strokeWidth:null,style:null,surfaceScale:Ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ti,tabIndex:Ce,tableValues:null,target:null,targetX:Ce,targetY:Ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ti,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ce,underlineThickness:Ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ce,values:null,vAlphabetic:Ce,vMathematical:Ce,vectorEffect:null,vHanging:Ce,vIdeographic:Ce,version:null,vertAdvY:Ce,vertOriginX:Ce,vertOriginY:Ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),die=/^data[-\w.:]+$/i,FN=/-[a-z]/g,fie=/[A-Z]/g;function mie(t,e){const n=nT(e);let r=e,i=Oi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&die.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(FN,gie);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!FN.test(o)){let l=o.replace(fie,pie);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}i=F2}return new i(r,e)}function pie(t){return"-"+t.toLowerCase()}function gie(t){return t.charAt(1).toUpperCase()}const yie=JO([nP,tP,sP,aP,cie],"html"),oP=JO([nP,tP,sP,aP,hie],"svg"),bie={},Eie={}.hasOwnProperty,lP=NO("type",{handlers:{root:_ie,element:Sie,text:xie,comment:Aie,doctype:vie}});function Tie(t,e){const r=(e||bie).space;return lP(t,r==="svg"?oP:yie)}function _ie(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=H2(t.children,n,e),Kc(t,n),n}function wie(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=H2(t.children,n,e),Kc(t,n),n}function vie(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Kc(t,e),e}function xie(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Kc(t,e),e}function Aie(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Kc(t,e),e}function Sie(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=oP);const i=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&Eie.call(t.properties,o)){const h=Cie(r,o,t.properties[o]);h&&i.push(h)}}const l=r.space,c={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:Al[l],childNodes:[],parentNode:null};return c.childNodes=H2(t.children,c,r),Kc(t,c),t.tagName==="template"&&t.content&&(c.content=wie(t.content,r)),c}function Cie(t,e,n){const r=mie(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?H4(n):W4(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=r.attribute.slice(0,o)),i.namespace=Al[r.space]}return i}function H2(t,e,n){let r=-1;const i=[];if(t)for(;++r<t.length;){const o=lP(t[r],n);o.parentNode=e,i.push(o)}return i}function Kc(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Iie=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Nie=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),en="";var z;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(z||(z={}));const Lr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function uP(t){return t>=55296&&t<=57343}function kie(t){return t>=56320&&t<=57343}function Rie(t,e){return(t-55296)*1024+9216+e}function cP(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function hP(t){return t>=64976&&t<=65007||Nie.has(t)}var de;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(de||(de={}));const Die=65536;class Oie{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Die,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:i,offset:o}=this,l=i+n,c=o+n;return{code:e,startLine:r,endLine:r,startCol:l,endCol:l,startOffset:c,endOffset:c}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(kie(n))return this.pos++,this._addGap(),Rie(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,z.EOF;return this._err(de.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,z.EOF;const r=this.html.charCodeAt(n);return r===z.CARRIAGE_RETURN?z.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,z.EOF;let e=this.html.charCodeAt(this.pos);return e===z.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,z.LINE_FEED):e===z.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,uP(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===z.LINE_FEED||e===z.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){cP(e)?this._err(de.controlCharacterInInputStream):hP(e)&&this._err(de.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ut;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(ut||(ut={}));function dP(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const Pie=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Lie=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function Mie(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=Lie.get(t))!==null&&e!==void 0?e:t}var Wn;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Wn||(Wn={}));const Bie=32;var _o;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(_o||(_o={}));function iT(t){return t>=Wn.ZERO&&t<=Wn.NINE}function Uie(t){return t>=Wn.UPPER_A&&t<=Wn.UPPER_F||t>=Wn.LOWER_A&&t<=Wn.LOWER_F}function jie(t){return t>=Wn.UPPER_A&&t<=Wn.UPPER_Z||t>=Wn.LOWER_A&&t<=Wn.LOWER_Z||iT(t)}function Vie(t){return t===Wn.EQUALS||jie(t)}var Kn;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Kn||(Kn={}));var ua;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(ua||(ua={}));class Fie{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Kn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ua.Strict}startEntity(e){this.decodeMode=e,this.state=Kn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Kn.EntityStart:return e.charCodeAt(n)===Wn.NUM?(this.state=Kn.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Kn.NamedEntity,this.stateNamedEntity(e,n));case Kn.NumericStart:return this.stateNumericStart(e,n);case Kn.NumericDecimal:return this.stateNumericDecimal(e,n);case Kn.NumericHex:return this.stateNumericHex(e,n);case Kn.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|Bie)===Wn.LOWER_X?(this.state=Kn.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Kn.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+Number.parseInt(e.substr(n,o),i),this.consumed+=o}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(iT(i)||Uie(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(iT(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Wn.SEMI)this.consumed+=1;else if(this.decodeMode===ua.Strict)return 0;return this.emitCodePoint(Mie(this.result),this.consumed),this.errors&&(e!==Wn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&_o.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const l=e.charCodeAt(n);if(this.treeIndex=Hie(r,i,this.treeIndex+Math.max(1,o),l),this.treeIndex<0)return this.result===0||this.decodeMode===ua.Attribute&&(o===0||Vie(l))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&_o.VALUE_LENGTH)>>14,o!==0){if(l===Wn.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==ua.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&_o.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~_o.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case Kn.NamedEntity:return this.result!==0&&(this.decodeMode!==ua.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Kn.NumericDecimal:return this.emitNumericEntity(0,2);case Kn.NumericHex:return this.emitNumericEntity(0,3);case Kn.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Kn.EntityStart:return 0}}}function Hie(t,e,n,r){const i=(e&_o.BRANCH_LENGTH)>>7,o=e&_o.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const h=r-o;return h<0||h>=i?-1:t[n+h]-1}let l=n,c=l+i-1;for(;l<=c;){const h=l+c>>>1,f=t[h];if(f<r)l=h+1;else if(f>r)c=h-1;else return t[h+i]}return-1}var xe;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(xe||(xe={}));var Pl;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Pl||(Pl={}));var Ai;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Ai||(Ai={}));var ie;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(ie||(ie={}));var _;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(_||(_={}));const zie=new Map([[ie.A,_.A],[ie.ADDRESS,_.ADDRESS],[ie.ANNOTATION_XML,_.ANNOTATION_XML],[ie.APPLET,_.APPLET],[ie.AREA,_.AREA],[ie.ARTICLE,_.ARTICLE],[ie.ASIDE,_.ASIDE],[ie.B,_.B],[ie.BASE,_.BASE],[ie.BASEFONT,_.BASEFONT],[ie.BGSOUND,_.BGSOUND],[ie.BIG,_.BIG],[ie.BLOCKQUOTE,_.BLOCKQUOTE],[ie.BODY,_.BODY],[ie.BR,_.BR],[ie.BUTTON,_.BUTTON],[ie.CAPTION,_.CAPTION],[ie.CENTER,_.CENTER],[ie.CODE,_.CODE],[ie.COL,_.COL],[ie.COLGROUP,_.COLGROUP],[ie.DD,_.DD],[ie.DESC,_.DESC],[ie.DETAILS,_.DETAILS],[ie.DIALOG,_.DIALOG],[ie.DIR,_.DIR],[ie.DIV,_.DIV],[ie.DL,_.DL],[ie.DT,_.DT],[ie.EM,_.EM],[ie.EMBED,_.EMBED],[ie.FIELDSET,_.FIELDSET],[ie.FIGCAPTION,_.FIGCAPTION],[ie.FIGURE,_.FIGURE],[ie.FONT,_.FONT],[ie.FOOTER,_.FOOTER],[ie.FOREIGN_OBJECT,_.FOREIGN_OBJECT],[ie.FORM,_.FORM],[ie.FRAME,_.FRAME],[ie.FRAMESET,_.FRAMESET],[ie.H1,_.H1],[ie.H2,_.H2],[ie.H3,_.H3],[ie.H4,_.H4],[ie.H5,_.H5],[ie.H6,_.H6],[ie.HEAD,_.HEAD],[ie.HEADER,_.HEADER],[ie.HGROUP,_.HGROUP],[ie.HR,_.HR],[ie.HTML,_.HTML],[ie.I,_.I],[ie.IMG,_.IMG],[ie.IMAGE,_.IMAGE],[ie.INPUT,_.INPUT],[ie.IFRAME,_.IFRAME],[ie.KEYGEN,_.KEYGEN],[ie.LABEL,_.LABEL],[ie.LI,_.LI],[ie.LINK,_.LINK],[ie.LISTING,_.LISTING],[ie.MAIN,_.MAIN],[ie.MALIGNMARK,_.MALIGNMARK],[ie.MARQUEE,_.MARQUEE],[ie.MATH,_.MATH],[ie.MENU,_.MENU],[ie.META,_.META],[ie.MGLYPH,_.MGLYPH],[ie.MI,_.MI],[ie.MO,_.MO],[ie.MN,_.MN],[ie.MS,_.MS],[ie.MTEXT,_.MTEXT],[ie.NAV,_.NAV],[ie.NOBR,_.NOBR],[ie.NOFRAMES,_.NOFRAMES],[ie.NOEMBED,_.NOEMBED],[ie.NOSCRIPT,_.NOSCRIPT],[ie.OBJECT,_.OBJECT],[ie.OL,_.OL],[ie.OPTGROUP,_.OPTGROUP],[ie.OPTION,_.OPTION],[ie.P,_.P],[ie.PARAM,_.PARAM],[ie.PLAINTEXT,_.PLAINTEXT],[ie.PRE,_.PRE],[ie.RB,_.RB],[ie.RP,_.RP],[ie.RT,_.RT],[ie.RTC,_.RTC],[ie.RUBY,_.RUBY],[ie.S,_.S],[ie.SCRIPT,_.SCRIPT],[ie.SEARCH,_.SEARCH],[ie.SECTION,_.SECTION],[ie.SELECT,_.SELECT],[ie.SOURCE,_.SOURCE],[ie.SMALL,_.SMALL],[ie.SPAN,_.SPAN],[ie.STRIKE,_.STRIKE],[ie.STRONG,_.STRONG],[ie.STYLE,_.STYLE],[ie.SUB,_.SUB],[ie.SUMMARY,_.SUMMARY],[ie.SUP,_.SUP],[ie.TABLE,_.TABLE],[ie.TBODY,_.TBODY],[ie.TEMPLATE,_.TEMPLATE],[ie.TEXTAREA,_.TEXTAREA],[ie.TFOOT,_.TFOOT],[ie.TD,_.TD],[ie.TH,_.TH],[ie.THEAD,_.THEAD],[ie.TITLE,_.TITLE],[ie.TR,_.TR],[ie.TRACK,_.TRACK],[ie.TT,_.TT],[ie.U,_.U],[ie.UL,_.UL],[ie.SVG,_.SVG],[ie.VAR,_.VAR],[ie.WBR,_.WBR],[ie.XMP,_.XMP]]);function Qc(t){var e;return(e=zie.get(t))!==null&&e!==void 0?e:_.UNKNOWN}const Ae=_,qie={[xe.HTML]:new Set([Ae.ADDRESS,Ae.APPLET,Ae.AREA,Ae.ARTICLE,Ae.ASIDE,Ae.BASE,Ae.BASEFONT,Ae.BGSOUND,Ae.BLOCKQUOTE,Ae.BODY,Ae.BR,Ae.BUTTON,Ae.CAPTION,Ae.CENTER,Ae.COL,Ae.COLGROUP,Ae.DD,Ae.DETAILS,Ae.DIR,Ae.DIV,Ae.DL,Ae.DT,Ae.EMBED,Ae.FIELDSET,Ae.FIGCAPTION,Ae.FIGURE,Ae.FOOTER,Ae.FORM,Ae.FRAME,Ae.FRAMESET,Ae.H1,Ae.H2,Ae.H3,Ae.H4,Ae.H5,Ae.H6,Ae.HEAD,Ae.HEADER,Ae.HGROUP,Ae.HR,Ae.HTML,Ae.IFRAME,Ae.IMG,Ae.INPUT,Ae.LI,Ae.LINK,Ae.LISTING,Ae.MAIN,Ae.MARQUEE,Ae.MENU,Ae.META,Ae.NAV,Ae.NOEMBED,Ae.NOFRAMES,Ae.NOSCRIPT,Ae.OBJECT,Ae.OL,Ae.P,Ae.PARAM,Ae.PLAINTEXT,Ae.PRE,Ae.SCRIPT,Ae.SECTION,Ae.SELECT,Ae.SOURCE,Ae.STYLE,Ae.SUMMARY,Ae.TABLE,Ae.TBODY,Ae.TD,Ae.TEMPLATE,Ae.TEXTAREA,Ae.TFOOT,Ae.TH,Ae.THEAD,Ae.TITLE,Ae.TR,Ae.TRACK,Ae.UL,Ae.WBR,Ae.XMP]),[xe.MATHML]:new Set([Ae.MI,Ae.MO,Ae.MN,Ae.MS,Ae.MTEXT,Ae.ANNOTATION_XML]),[xe.SVG]:new Set([Ae.TITLE,Ae.FOREIGN_OBJECT,Ae.DESC]),[xe.XLINK]:new Set,[xe.XML]:new Set,[xe.XMLNS]:new Set},sT=new Set([Ae.H1,Ae.H2,Ae.H3,Ae.H4,Ae.H5,Ae.H6]);ie.STYLE,ie.SCRIPT,ie.XMP,ie.IFRAME,ie.NOEMBED,ie.NOFRAMES,ie.PLAINTEXT;var G;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(G||(G={}));const xn={DATA:G.DATA,RCDATA:G.RCDATA,RAWTEXT:G.RAWTEXT,SCRIPT_DATA:G.SCRIPT_DATA,PLAINTEXT:G.PLAINTEXT,CDATA_SECTION:G.CDATA_SECTION};function Yie(t){return t>=z.DIGIT_0&&t<=z.DIGIT_9}function md(t){return t>=z.LATIN_CAPITAL_A&&t<=z.LATIN_CAPITAL_Z}function Gie(t){return t>=z.LATIN_SMALL_A&&t<=z.LATIN_SMALL_Z}function ho(t){return Gie(t)||md(t)}function HN(t){return ho(t)||Yie(t)}function Sp(t){return t+32}function fP(t){return t===z.SPACE||t===z.LINE_FEED||t===z.TABULATION||t===z.FORM_FEED}function zN(t){return fP(t)||t===z.SOLIDUS||t===z.GREATER_THAN_SIGN}function $ie(t){return t===z.NULL?de.nullCharacterReference:t>1114111?de.characterReferenceOutsideUnicodeRange:uP(t)?de.surrogateCharacterReference:hP(t)?de.noncharacterCharacterReference:cP(t)||t===z.CARRIAGE_RETURN?de.controlCharacterReference:null}class Kie{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=G.DATA,this.returnState=G.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Oie(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Fie(Pie,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(de.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(de.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=$ie(r);i&&this._err(i,1)}}:void 0)}_err(e,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ut.START_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ut.END_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:ut.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:ut.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(dP(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(de.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Qc(e.tagName),e.type===ut.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(de.endTagWithAttributes),e.selfClosing&&this._err(de.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case ut.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ut.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ut.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:ut.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=fP(e)?ut.WHITESPACE_CHARACTER:e===z.NULL?ut.NULL_CHARACTER:ut.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(ut.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=G.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ua.Attribute:ua.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===G.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===G.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===G.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case G.DATA:{this._stateData(e);break}case G.RCDATA:{this._stateRcdata(e);break}case G.RAWTEXT:{this._stateRawtext(e);break}case G.SCRIPT_DATA:{this._stateScriptData(e);break}case G.PLAINTEXT:{this._statePlaintext(e);break}case G.TAG_OPEN:{this._stateTagOpen(e);break}case G.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case G.TAG_NAME:{this._stateTagName(e);break}case G.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case G.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case G.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case G.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case G.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case G.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case G.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case G.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case G.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case G.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case G.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case G.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case G.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case G.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case G.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case G.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case G.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case G.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case G.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case G.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case G.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case G.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case G.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case G.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case G.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case G.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case G.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case G.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case G.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case G.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case G.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case G.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case G.BOGUS_COMMENT:{this._stateBogusComment(e);break}case G.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case G.COMMENT_START:{this._stateCommentStart(e);break}case G.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case G.COMMENT:{this._stateComment(e);break}case G.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case G.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case G.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case G.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case G.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case G.COMMENT_END:{this._stateCommentEnd(e);break}case G.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case G.DOCTYPE:{this._stateDoctype(e);break}case G.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case G.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case G.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case G.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case G.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case G.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case G.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case G.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case G.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case G.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case G.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case G.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case G.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case G.CDATA_SECTION:{this._stateCdataSection(e);break}case G.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case G.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case G.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case G.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case z.LESS_THAN_SIGN:{this.state=G.TAG_OPEN;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(de.unexpectedNullCharacter),this._emitCodePoint(e);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case z.AMPERSAND:{this._startCharacterReference();break}case z.LESS_THAN_SIGN:{this.state=G.RCDATA_LESS_THAN_SIGN;break}case z.NULL:{this._err(de.unexpectedNullCharacter),this._emitChars(en);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case z.LESS_THAN_SIGN:{this.state=G.RAWTEXT_LESS_THAN_SIGN;break}case z.NULL:{this._err(de.unexpectedNullCharacter),this._emitChars(en);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case z.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_LESS_THAN_SIGN;break}case z.NULL:{this._err(de.unexpectedNullCharacter),this._emitChars(en);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case z.NULL:{this._err(de.unexpectedNullCharacter),this._emitChars(en);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(ho(e))this._createStartTagToken(),this.state=G.TAG_NAME,this._stateTagName(e);else switch(e){case z.EXCLAMATION_MARK:{this.state=G.MARKUP_DECLARATION_OPEN;break}case z.SOLIDUS:{this.state=G.END_TAG_OPEN;break}case z.QUESTION_MARK:{this._err(de.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=G.BOGUS_COMMENT,this._stateBogusComment(e);break}case z.EOF:{this._err(de.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(de.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=G.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(ho(e))this._createEndTagToken(),this.state=G.TAG_NAME,this._stateTagName(e);else switch(e){case z.GREATER_THAN_SIGN:{this._err(de.missingEndTagName),this.state=G.DATA;break}case z.EOF:{this._err(de.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(de.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=G.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=G.BEFORE_ATTRIBUTE_NAME;break}case z.SOLIDUS:{this.state=G.SELF_CLOSING_START_TAG;break}case z.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentTagToken();break}case z.NULL:{this._err(de.unexpectedNullCharacter),n.tagName+=en;break}case z.EOF:{this._err(de.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(md(e)?Sp(e):e)}}_stateRcdataLessThanSign(e){e===z.SOLIDUS?this.state=G.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=G.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){ho(e)?(this.state=G.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=G.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=G.BEFORE_ATTRIBUTE_NAME,!1;case z.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=G.SELF_CLOSING_START_TAG,!1;case z.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=G.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=G.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===z.SOLIDUS?this.state=G.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=G.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){ho(e)?(this.state=G.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=G.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=G.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case z.SOLIDUS:{this.state=G.SCRIPT_DATA_END_TAG_OPEN;break}case z.EXCLAMATION_MARK:{this.state=G.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=G.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){ho(e)?(this.state=G.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=G.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=G.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===z.HYPHEN_MINUS?(this.state=G.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=G.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===z.HYPHEN_MINUS?(this.state=G.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=G.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case z.HYPHEN_MINUS:{this.state=G.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.NULL:{this._err(de.unexpectedNullCharacter),this._emitChars(en);break}case z.EOF:{this._err(de.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case z.HYPHEN_MINUS:{this.state=G.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.NULL:{this._err(de.unexpectedNullCharacter),this.state=G.SCRIPT_DATA_ESCAPED,this._emitChars(en);break}case z.EOF:{this._err(de.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=G.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case z.HYPHEN_MINUS:{this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.GREATER_THAN_SIGN:{this.state=G.SCRIPT_DATA,this._emitChars(">");break}case z.NULL:{this._err(de.unexpectedNullCharacter),this.state=G.SCRIPT_DATA_ESCAPED,this._emitChars(en);break}case z.EOF:{this._err(de.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=G.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===z.SOLIDUS?this.state=G.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ho(e)?(this._emitChars("<"),this.state=G.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=G.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){ho(e)?(this.state=G.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=G.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=G.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Lr.SCRIPT,!1)&&zN(this.preprocessor.peek(Lr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Lr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=G.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case z.HYPHEN_MINUS:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.NULL:{this._err(de.unexpectedNullCharacter),this._emitChars(en);break}case z.EOF:{this._err(de.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case z.HYPHEN_MINUS:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.NULL:{this._err(de.unexpectedNullCharacter),this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(en);break}case z.EOF:{this._err(de.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case z.HYPHEN_MINUS:{this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.GREATER_THAN_SIGN:{this.state=G.SCRIPT_DATA,this._emitChars(">");break}case z.NULL:{this._err(de.unexpectedNullCharacter),this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(en);break}case z.EOF:{this._err(de.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===z.SOLIDUS?(this.state=G.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Lr.SCRIPT,!1)&&zN(this.preprocessor.peek(Lr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Lr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=G.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.SOLIDUS:case z.GREATER_THAN_SIGN:case z.EOF:{this.state=G.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case z.EQUALS_SIGN:{this._err(de.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=G.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=G.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:case z.SOLIDUS:case z.GREATER_THAN_SIGN:case z.EOF:{this._leaveAttrName(),this.state=G.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case z.EQUALS_SIGN:{this._leaveAttrName(),this.state=G.BEFORE_ATTRIBUTE_VALUE;break}case z.QUOTATION_MARK:case z.APOSTROPHE:case z.LESS_THAN_SIGN:{this._err(de.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case z.NULL:{this._err(de.unexpectedNullCharacter),this.currentAttr.name+=en;break}default:this.currentAttr.name+=String.fromCodePoint(md(e)?Sp(e):e)}}_stateAfterAttributeName(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.SOLIDUS:{this.state=G.SELF_CLOSING_START_TAG;break}case z.EQUALS_SIGN:{this.state=G.BEFORE_ATTRIBUTE_VALUE;break}case z.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(de.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=G.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{this.state=G.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this.state=G.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(de.missingAttributeValue),this.state=G.DATA,this.emitCurrentTagToken();break}default:this.state=G.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case z.QUOTATION_MARK:{this.state=G.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(de.unexpectedNullCharacter),this.currentAttr.value+=en;break}case z.EOF:{this._err(de.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case z.APOSTROPHE:{this.state=G.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(de.unexpectedNullCharacter),this.currentAttr.value+=en;break}case z.EOF:{this._err(de.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this._leaveAttrValue(),this.state=G.BEFORE_ATTRIBUTE_NAME;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=G.DATA,this.emitCurrentTagToken();break}case z.NULL:{this._err(de.unexpectedNullCharacter),this.currentAttr.value+=en;break}case z.QUOTATION_MARK:case z.APOSTROPHE:case z.LESS_THAN_SIGN:case z.EQUALS_SIGN:case z.GRAVE_ACCENT:{this._err(de.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case z.EOF:{this._err(de.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this._leaveAttrValue(),this.state=G.BEFORE_ATTRIBUTE_NAME;break}case z.SOLIDUS:{this._leaveAttrValue(),this.state=G.SELF_CLOSING_START_TAG;break}case z.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=G.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(de.eofInTag),this._emitEOFToken();break}default:this._err(de.missingWhitespaceBetweenAttributes),this.state=G.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case z.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=G.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(de.eofInTag),this._emitEOFToken();break}default:this._err(de.unexpectedSolidusInTag),this.state=G.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case z.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentComment(n);break}case z.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case z.NULL:{this._err(de.unexpectedNullCharacter),n.data+=en;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Lr.DASH_DASH,!0)?(this._createCommentToken(Lr.DASH_DASH.length+1),this.state=G.COMMENT_START):this._consumeSequenceIfMatch(Lr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Lr.DOCTYPE.length+1),this.state=G.DOCTYPE):this._consumeSequenceIfMatch(Lr.CDATA_START,!0)?this.inForeignNode?this.state=G.CDATA_SECTION:(this._err(de.cdataInHtmlContent),this._createCommentToken(Lr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=G.BOGUS_COMMENT):this._ensureHibernation()||(this._err(de.incorrectlyOpenedComment),this._createCommentToken(2),this.state=G.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case z.HYPHEN_MINUS:{this.state=G.COMMENT_START_DASH;break}case z.GREATER_THAN_SIGN:{this._err(de.abruptClosingOfEmptyComment),this.state=G.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=G.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case z.HYPHEN_MINUS:{this.state=G.COMMENT_END;break}case z.GREATER_THAN_SIGN:{this._err(de.abruptClosingOfEmptyComment),this.state=G.DATA,this.emitCurrentComment(n);break}case z.EOF:{this._err(de.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=G.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case z.HYPHEN_MINUS:{this.state=G.COMMENT_END_DASH;break}case z.LESS_THAN_SIGN:{n.data+="<",this.state=G.COMMENT_LESS_THAN_SIGN;break}case z.NULL:{this._err(de.unexpectedNullCharacter),n.data+=en;break}case z.EOF:{this._err(de.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case z.EXCLAMATION_MARK:{n.data+="!",this.state=G.COMMENT_LESS_THAN_SIGN_BANG;break}case z.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=G.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===z.HYPHEN_MINUS?this.state=G.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=G.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===z.HYPHEN_MINUS?this.state=G.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=G.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==z.GREATER_THAN_SIGN&&e!==z.EOF&&this._err(de.nestedComment),this.state=G.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case z.HYPHEN_MINUS:{this.state=G.COMMENT_END;break}case z.EOF:{this._err(de.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=G.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case z.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentComment(n);break}case z.EXCLAMATION_MARK:{this.state=G.COMMENT_END_BANG;break}case z.HYPHEN_MINUS:{n.data+="-";break}case z.EOF:{this._err(de.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=G.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case z.HYPHEN_MINUS:{n.data+="--!",this.state=G.COMMENT_END_DASH;break}case z.GREATER_THAN_SIGN:{this._err(de.incorrectlyClosedComment),this.state=G.DATA,this.emitCurrentComment(n);break}case z.EOF:{this._err(de.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=G.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=G.BEFORE_DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this.state=G.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case z.EOF:{this._err(de.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(de.missingWhitespaceBeforeDoctypeName),this.state=G.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(md(e))this._createDoctypeToken(String.fromCharCode(Sp(e))),this.state=G.DOCTYPE_NAME;else switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.NULL:{this._err(de.unexpectedNullCharacter),this._createDoctypeToken(en),this.state=G.DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this._err(de.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case z.EOF:{this._err(de.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=G.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=G.AFTER_DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentDoctype(n);break}case z.NULL:{this._err(de.unexpectedNullCharacter),n.name+=en;break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(md(e)?Sp(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Lr.PUBLIC,!1)?this.state=G.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Lr.SYSTEM,!1)?this.state=G.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(de.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=G.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.QUOTATION_MARK:{this._err(de.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=G.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(de.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=G.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(de.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=G.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(de.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{n.publicId="",this.state=G.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{n.publicId="",this.state=G.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(de.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=G.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(de.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case z.QUOTATION_MARK:{this.state=G.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.NULL:{this._err(de.unexpectedNullCharacter),n.publicId+=en;break}case z.GREATER_THAN_SIGN:{this._err(de.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case z.APOSTROPHE:{this.state=G.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.NULL:{this._err(de.unexpectedNullCharacter),n.publicId+=en;break}case z.GREATER_THAN_SIGN:{this._err(de.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=G.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case z.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentDoctype(n);break}case z.QUOTATION_MARK:{this._err(de.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(de.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(de.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=G.DATA;break}case z.QUOTATION_MARK:{n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(de.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=G.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.QUOTATION_MARK:{this._err(de.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(de.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(de.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(de.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(de.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(de.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case z.QUOTATION_MARK:{this.state=G.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.NULL:{this._err(de.unexpectedNullCharacter),n.systemId+=en;break}case z.GREATER_THAN_SIGN:{this._err(de.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case z.APOSTROPHE:{this.state=G.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.NULL:{this._err(de.unexpectedNullCharacter),n.systemId+=en;break}case z.GREATER_THAN_SIGN:{this._err(de.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=G.DATA;break}case z.EOF:{this._err(de.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(de.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=G.DATA;break}case z.NULL:{this._err(de.unexpectedNullCharacter);break}case z.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case z.RIGHT_SQUARE_BRACKET:{this.state=G.CDATA_SECTION_BRACKET;break}case z.EOF:{this._err(de.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===z.RIGHT_SQUARE_BRACKET?this.state=G.CDATA_SECTION_END:(this._emitChars("]"),this.state=G.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case z.GREATER_THAN_SIGN:{this.state=G.DATA;break}case z.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=G.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(z.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&HN(this.preprocessor.peek(1))?G.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){HN(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===z.SEMICOLON&&this._err(de.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const mP=new Set([_.DD,_.DT,_.LI,_.OPTGROUP,_.OPTION,_.P,_.RB,_.RP,_.RT,_.RTC]),qN=new Set([...mP,_.CAPTION,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]),Bg=new Set([_.APPLET,_.CAPTION,_.HTML,_.MARQUEE,_.OBJECT,_.TABLE,_.TD,_.TEMPLATE,_.TH]),Qie=new Set([...Bg,_.OL,_.UL]),Wie=new Set([...Bg,_.BUTTON]),YN=new Set([_.ANNOTATION_XML,_.MI,_.MN,_.MO,_.MS,_.MTEXT]),GN=new Set([_.DESC,_.FOREIGN_OBJECT,_.TITLE]),Xie=new Set([_.TR,_.TEMPLATE,_.HTML]),Zie=new Set([_.TBODY,_.TFOOT,_.THEAD,_.TEMPLATE,_.HTML]),Jie=new Set([_.TABLE,_.TEMPLATE,_.HTML]),ese=new Set([_.TD,_.TH]);class tse{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=_.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===_.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===xe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==xe.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(sT,xe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(ese,xe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Jie,xe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Zie,xe.HTML)}clearBackToTableRowContext(){this.clearBackTo(Xie,xe.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===_.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===_.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case xe.HTML:{if(i===e)return!0;if(n.has(i))return!1;break}case xe.SVG:{if(GN.has(i))return!1;break}case xe.MATHML:{if(YN.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Bg)}hasInListItemScope(e){return this.hasInDynamicScope(e,Qie)}hasInButtonScope(e){return this.hasInDynamicScope(e,Wie)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case xe.HTML:{if(sT.has(n))return!0;if(Bg.has(n))return!1;break}case xe.SVG:{if(GN.has(n))return!1;break}case xe.MATHML:{if(YN.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===xe.HTML)switch(this.tagIDs[n]){case e:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===xe.HTML)switch(this.tagIDs[e]){case _.TBODY:case _.THEAD:case _.TFOOT:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===xe.HTML)switch(this.tagIDs[n]){case e:return!0;case _.OPTION:case _.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&mP.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&qN.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&qN.has(this.currentTagId);)this.pop()}}const H1=3;var Cs;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Cs||(Cs={}));const $N={type:Cs.Marker};class nse{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(e),l=this.treeAdapter.getNamespaceURI(e);for(let c=0;c<this.entries.length;c++){const h=this.entries[c];if(h.type===Cs.Marker)break;const{element:f}=h;if(this.treeAdapter.getTagName(f)===o&&this.treeAdapter.getNamespaceURI(f)===l){const m=this.treeAdapter.getAttrList(f);m.length===i&&r.push({idx:c,attrs:m})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<H1)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<H1)return;const i=new Map(n.map(l=>[l.name,l.value]));let o=0;for(let l=0;l<r.length;l++){const c=r[l];c.attrs.every(h=>i.get(h.name)===h.value)&&(o+=1,o>=H1&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift($N)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:Cs.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Cs.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf($N);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===Cs.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===Cs.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===Cs.Element&&n.element===e)}}const fo={createDocument(){return{nodeName:"#document",mode:Ai.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};fo.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(fo.isTextNode(n)){n.value+=e;return}}fo.appendChild(t,fo.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&fo.isTextNode(r)?r.value+=e:fo.insertBefore(t,fo.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},pP="html",rse="about:legacy-compat",ise="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",gP=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],sse=[...gP,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],ase=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),yP=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],ose=[...yP,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function KN(t,e){return e.some(n=>t.startsWith(n))}function lse(t){return t.name===pP&&t.publicId===null&&(t.systemId===null||t.systemId===rse)}function use(t){if(t.name!==pP)return Ai.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===ise)return Ai.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),ase.has(n))return Ai.QUIRKS;let r=e===null?sse:gP;if(KN(n,r))return Ai.QUIRKS;if(r=e===null?yP:ose,KN(n,r))return Ai.LIMITED_QUIRKS}return Ai.NO_QUIRKS}const QN={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},cse="definitionurl",hse="definitionURL",dse=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),fse=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:xe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:xe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:xe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:xe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:xe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:xe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:xe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:xe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:xe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:xe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:xe.XMLNS}]]),mse=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),pse=new Set([_.B,_.BIG,_.BLOCKQUOTE,_.BODY,_.BR,_.CENTER,_.CODE,_.DD,_.DIV,_.DL,_.DT,_.EM,_.EMBED,_.H1,_.H2,_.H3,_.H4,_.H5,_.H6,_.HEAD,_.HR,_.I,_.IMG,_.LI,_.LISTING,_.MENU,_.META,_.NOBR,_.OL,_.P,_.PRE,_.RUBY,_.S,_.SMALL,_.SPAN,_.STRONG,_.STRIKE,_.SUB,_.SUP,_.TABLE,_.TT,_.U,_.UL,_.VAR]);function gse(t){const e=t.tagID;return e===_.FONT&&t.attrs.some(({name:r})=>r===Pl.COLOR||r===Pl.SIZE||r===Pl.FACE)||pse.has(e)}function bP(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===cse){t.attrs[e].name=hse;break}}function EP(t){for(let e=0;e<t.attrs.length;e++){const n=dse.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function z2(t){for(let e=0;e<t.attrs.length;e++){const n=fse.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function yse(t){const e=mse.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Qc(t.tagName))}function bse(t,e){return e===xe.MATHML&&(t===_.MI||t===_.MO||t===_.MN||t===_.MS||t===_.MTEXT)}function Ese(t,e,n){if(e===xe.MATHML&&t===_.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Pl.ENCODING){const i=n[r].value.toLowerCase();return i===QN.TEXT_HTML||i===QN.APPLICATION_XML}}return e===xe.SVG&&(t===_.FOREIGN_OBJECT||t===_.DESC||t===_.TITLE)}function Tse(t,e,n,r){return(!r||r===xe.HTML)&&Ese(t,e,n)||(!r||r===xe.MATHML)&&bse(t,e)}const _se="hidden",wse=8,vse=3;var $;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})($||($={}));const xse={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},TP=new Set([_.TABLE,_.TBODY,_.TFOOT,_.THEAD,_.TR]),WN={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:fo,onParseError:null};class XN{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=$.INITIAL,this.originalInsertionMode=$.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...WN,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Kie(this.options,this),this.activeFormattingElements=new nse(this.treeAdapter),this.fragmentContextID=r?Qc(this.treeAdapter.getTagName(r)):_.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new tse(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...WN,...n};e??(e=r.treeAdapter.createElement(ie.TEMPLATE,xe.HTML,[]));const i=r.treeAdapter.createElement("documentmock",xe.HTML,[]),o=new this(r,i,e);return o.fragmentContextID===_.TEMPLATE&&o.tmplInsertionModeStack.unshift($.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const o=(i=e.location)!==null&&i!==void 0?i:xse,l={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(l)}onItemPush(e,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let o,l;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,l=this.fragmentContextID):{current:o,currentTagId:l}=this.openElements,this._setContextModes(o,l)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===xe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,xe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=$.TEXT}switchToPlaintextParsing(){this.insertionMode=$.TEXT,this.originalInsertionMode=$.IN_BODY,this.tokenizer.state=xn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===ie.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==xe.HTML))switch(this.fragmentContextID){case _.TITLE:case _.TEXTAREA:{this.tokenizer.state=xn.RCDATA;break}case _.STYLE:case _.XMP:case _.IFRAME:case _.NOEMBED:case _.NOFRAMES:case _.NOSCRIPT:{this.tokenizer.state=xn.RAWTEXT;break}case _.SCRIPT:{this.tokenizer.state=xn.SCRIPT_DATA;break}case _.PLAINTEXT:{this.tokenizer.state=xn.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const l=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));l&&this.treeAdapter.setNodeSourceCodeLocation(l,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,xe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,xe.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(ie.HTML,xe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,_.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,l=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(l)){const{endLine:h,endCol:f,endOffset:m}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(l,{endLine:h,endCol:f,endOffset:m})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(l,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),o=n.type===ut.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===_.SVG&&this.treeAdapter.getTagName(n)===ie.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===xe.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===_.MGLYPH||e.tagID===_.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,xe.HTML)}_processToken(e){switch(e.type){case ut.CHARACTER:{this.onCharacter(e);break}case ut.NULL_CHARACTER:{this.onNullCharacter(e);break}case ut.COMMENT:{this.onComment(e);break}case ut.DOCTYPE:{this.onDoctype(e);break}case ut.START_TAG:{this._processStartTag(e);break}case ut.END_TAG:{this.onEndTag(e);break}case ut.EOF:{this.onEof(e);break}case ut.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return Tse(e,i,o,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Cs.Marker||this.openElements.contains(i.element)),r=n===-1?e-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=$.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(_.P),this.openElements.popUntilTagNamePopped(_.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case _.TR:{this.insertionMode=$.IN_ROW;return}case _.TBODY:case _.THEAD:case _.TFOOT:{this.insertionMode=$.IN_TABLE_BODY;return}case _.CAPTION:{this.insertionMode=$.IN_CAPTION;return}case _.COLGROUP:{this.insertionMode=$.IN_COLUMN_GROUP;return}case _.TABLE:{this.insertionMode=$.IN_TABLE;return}case _.BODY:{this.insertionMode=$.IN_BODY;return}case _.FRAMESET:{this.insertionMode=$.IN_FRAMESET;return}case _.SELECT:{this._resetInsertionModeForSelect(e);return}case _.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case _.HTML:{this.insertionMode=this.headElement?$.AFTER_HEAD:$.BEFORE_HEAD;return}case _.TD:case _.TH:{if(e>0){this.insertionMode=$.IN_CELL;return}break}case _.HEAD:{if(e>0){this.insertionMode=$.IN_HEAD;return}break}}this.insertionMode=$.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===_.TEMPLATE)break;if(r===_.TABLE){this.insertionMode=$.IN_SELECT_IN_TABLE;return}}this.insertionMode=$.IN_SELECT}_isElementCausesFosterParenting(e){return TP.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case _.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===xe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case _.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return qie[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){eoe(this,e);return}switch(this.insertionMode){case $.INITIAL:{sd(this,e);break}case $.BEFORE_HTML:{Rd(this,e);break}case $.BEFORE_HEAD:{Dd(this,e);break}case $.IN_HEAD:{Od(this,e);break}case $.IN_HEAD_NO_SCRIPT:{Pd(this,e);break}case $.AFTER_HEAD:{Ld(this,e);break}case $.IN_BODY:case $.IN_CAPTION:case $.IN_CELL:case $.IN_TEMPLATE:{wP(this,e);break}case $.TEXT:case $.IN_SELECT:case $.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case $.IN_TABLE:case $.IN_TABLE_BODY:case $.IN_ROW:{z1(this,e);break}case $.IN_TABLE_TEXT:{IP(this,e);break}case $.IN_COLUMN_GROUP:{Ug(this,e);break}case $.AFTER_BODY:{jg(this,e);break}case $.AFTER_AFTER_BODY:{Gp(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Jae(this,e);return}switch(this.insertionMode){case $.INITIAL:{sd(this,e);break}case $.BEFORE_HTML:{Rd(this,e);break}case $.BEFORE_HEAD:{Dd(this,e);break}case $.IN_HEAD:{Od(this,e);break}case $.IN_HEAD_NO_SCRIPT:{Pd(this,e);break}case $.AFTER_HEAD:{Ld(this,e);break}case $.TEXT:{this._insertCharacters(e);break}case $.IN_TABLE:case $.IN_TABLE_BODY:case $.IN_ROW:{z1(this,e);break}case $.IN_COLUMN_GROUP:{Ug(this,e);break}case $.AFTER_BODY:{jg(this,e);break}case $.AFTER_AFTER_BODY:{Gp(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){aT(this,e);return}switch(this.insertionMode){case $.INITIAL:case $.BEFORE_HTML:case $.BEFORE_HEAD:case $.IN_HEAD:case $.IN_HEAD_NO_SCRIPT:case $.AFTER_HEAD:case $.IN_BODY:case $.IN_TABLE:case $.IN_CAPTION:case $.IN_COLUMN_GROUP:case $.IN_TABLE_BODY:case $.IN_ROW:case $.IN_CELL:case $.IN_SELECT:case $.IN_SELECT_IN_TABLE:case $.IN_TEMPLATE:case $.IN_FRAMESET:case $.AFTER_FRAMESET:{aT(this,e);break}case $.IN_TABLE_TEXT:{ad(this,e);break}case $.AFTER_BODY:{Rse(this,e);break}case $.AFTER_AFTER_BODY:case $.AFTER_AFTER_FRAMESET:{Dse(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case $.INITIAL:{Ose(this,e);break}case $.BEFORE_HEAD:case $.IN_HEAD:case $.IN_HEAD_NO_SCRIPT:case $.AFTER_HEAD:{this._err(e,de.misplacedDoctype);break}case $.IN_TABLE_TEXT:{ad(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,de.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?toe(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case $.INITIAL:{sd(this,e);break}case $.BEFORE_HTML:{Pse(this,e);break}case $.BEFORE_HEAD:{Mse(this,e);break}case $.IN_HEAD:{ns(this,e);break}case $.IN_HEAD_NO_SCRIPT:{jse(this,e);break}case $.AFTER_HEAD:{Fse(this,e);break}case $.IN_BODY:{Er(this,e);break}case $.IN_TABLE:{Ac(this,e);break}case $.IN_TABLE_TEXT:{ad(this,e);break}case $.IN_CAPTION:{Bae(this,e);break}case $.IN_COLUMN_GROUP:{G2(this,e);break}case $.IN_TABLE_BODY:{B0(this,e);break}case $.IN_ROW:{U0(this,e);break}case $.IN_CELL:{Vae(this,e);break}case $.IN_SELECT:{RP(this,e);break}case $.IN_SELECT_IN_TABLE:{Hae(this,e);break}case $.IN_TEMPLATE:{qae(this,e);break}case $.AFTER_BODY:{Gae(this,e);break}case $.IN_FRAMESET:{$ae(this,e);break}case $.AFTER_FRAMESET:{Qae(this,e);break}case $.AFTER_AFTER_BODY:{Xae(this,e);break}case $.AFTER_AFTER_FRAMESET:{Zae(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?noe(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case $.INITIAL:{sd(this,e);break}case $.BEFORE_HTML:{Lse(this,e);break}case $.BEFORE_HEAD:{Bse(this,e);break}case $.IN_HEAD:{Use(this,e);break}case $.IN_HEAD_NO_SCRIPT:{Vse(this,e);break}case $.AFTER_HEAD:{Hse(this,e);break}case $.IN_BODY:{M0(this,e);break}case $.TEXT:{Cae(this,e);break}case $.IN_TABLE:{nf(this,e);break}case $.IN_TABLE_TEXT:{ad(this,e);break}case $.IN_CAPTION:{Uae(this,e);break}case $.IN_COLUMN_GROUP:{jae(this,e);break}case $.IN_TABLE_BODY:{oT(this,e);break}case $.IN_ROW:{kP(this,e);break}case $.IN_CELL:{Fae(this,e);break}case $.IN_SELECT:{DP(this,e);break}case $.IN_SELECT_IN_TABLE:{zae(this,e);break}case $.IN_TEMPLATE:{Yae(this,e);break}case $.AFTER_BODY:{PP(this,e);break}case $.IN_FRAMESET:{Kae(this,e);break}case $.AFTER_FRAMESET:{Wae(this,e);break}case $.AFTER_AFTER_BODY:{Gp(this,e);break}}}onEof(e){switch(this.insertionMode){case $.INITIAL:{sd(this,e);break}case $.BEFORE_HTML:{Rd(this,e);break}case $.BEFORE_HEAD:{Dd(this,e);break}case $.IN_HEAD:{Od(this,e);break}case $.IN_HEAD_NO_SCRIPT:{Pd(this,e);break}case $.AFTER_HEAD:{Ld(this,e);break}case $.IN_BODY:case $.IN_TABLE:case $.IN_CAPTION:case $.IN_COLUMN_GROUP:case $.IN_TABLE_BODY:case $.IN_ROW:case $.IN_CELL:case $.IN_SELECT:case $.IN_SELECT_IN_TABLE:{SP(this,e);break}case $.TEXT:{Iae(this,e);break}case $.IN_TABLE_TEXT:{ad(this,e);break}case $.IN_TEMPLATE:{OP(this,e);break}case $.AFTER_BODY:case $.IN_FRAMESET:case $.AFTER_FRAMESET:case $.AFTER_AFTER_BODY:case $.AFTER_AFTER_FRAMESET:{Y2(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===z.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case $.IN_HEAD:case $.IN_HEAD_NO_SCRIPT:case $.AFTER_HEAD:case $.TEXT:case $.IN_COLUMN_GROUP:case $.IN_SELECT:case $.IN_SELECT_IN_TABLE:case $.IN_FRAMESET:case $.AFTER_FRAMESET:{this._insertCharacters(e);break}case $.IN_BODY:case $.IN_CAPTION:case $.IN_CELL:case $.IN_TEMPLATE:case $.AFTER_BODY:case $.AFTER_AFTER_BODY:case $.AFTER_AFTER_FRAMESET:{_P(this,e);break}case $.IN_TABLE:case $.IN_TABLE_BODY:case $.IN_ROW:{z1(this,e);break}case $.IN_TABLE_TEXT:{CP(this,e);break}}}}function Ase(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):AP(t,e),n}function Sse(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function Cse(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let o=0,l=i;l!==n;o++,l=i){i=t.openElements.getCommonAncestor(l);const c=t.activeFormattingElements.getElementEntry(l),h=c&&o>=vse;!c||h?(h&&t.activeFormattingElements.removeEntry(c),t.openElements.remove(l)):(l=Ise(t,c),r===e&&(t.activeFormattingElements.bookmark=c),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(l,r),r=l)}return r}function Ise(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function Nse(t,e,n){const r=t.treeAdapter.getTagName(e),i=Qc(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const o=t.treeAdapter.getNamespaceURI(e);i===_.TEMPLATE&&o===xe.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function kse(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,o),t.treeAdapter.appendChild(e,o),t.activeFormattingElements.insertElementAfterBookmark(o,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,o,i.tagID)}function q2(t,e){for(let n=0;n<wse;n++){const r=Ase(t,e);if(!r)break;const i=Sse(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const o=Cse(t,i,r.element),l=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(o),l&&Nse(t,l,o),kse(t,i,r)}}function aT(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function Rse(t,e){t._appendCommentNode(e,t.openElements.items[0])}function Dse(t,e){t._appendCommentNode(e,t.document)}function Y2(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const o=t.openElements.items[1],l=t.treeAdapter.getNodeSourceCodeLocation(o);l&&!l.endTag&&t._setEndLocation(o,e)}}}}function Ose(t,e){t._setDocumentType(e);const n=e.forceQuirks?Ai.QUIRKS:use(e);lse(e)||t._err(e,de.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=$.BEFORE_HTML}function sd(t,e){t._err(e,de.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Ai.QUIRKS),t.insertionMode=$.BEFORE_HTML,t._processToken(e)}function Pse(t,e){e.tagID===_.HTML?(t._insertElement(e,xe.HTML),t.insertionMode=$.BEFORE_HEAD):Rd(t,e)}function Lse(t,e){const n=e.tagID;(n===_.HTML||n===_.HEAD||n===_.BODY||n===_.BR)&&Rd(t,e)}function Rd(t,e){t._insertFakeRootElement(),t.insertionMode=$.BEFORE_HEAD,t._processToken(e)}function Mse(t,e){switch(e.tagID){case _.HTML:{Er(t,e);break}case _.HEAD:{t._insertElement(e,xe.HTML),t.headElement=t.openElements.current,t.insertionMode=$.IN_HEAD;break}default:Dd(t,e)}}function Bse(t,e){const n=e.tagID;n===_.HEAD||n===_.BODY||n===_.HTML||n===_.BR?Dd(t,e):t._err(e,de.endTagWithoutMatchingOpenElement)}function Dd(t,e){t._insertFakeElement(ie.HEAD,_.HEAD),t.headElement=t.openElements.current,t.insertionMode=$.IN_HEAD,t._processToken(e)}function ns(t,e){switch(e.tagID){case _.HTML:{Er(t,e);break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:{t._appendElement(e,xe.HTML),e.ackSelfClosing=!0;break}case _.TITLE:{t._switchToTextParsing(e,xn.RCDATA);break}case _.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,xn.RAWTEXT):(t._insertElement(e,xe.HTML),t.insertionMode=$.IN_HEAD_NO_SCRIPT);break}case _.NOFRAMES:case _.STYLE:{t._switchToTextParsing(e,xn.RAWTEXT);break}case _.SCRIPT:{t._switchToTextParsing(e,xn.SCRIPT_DATA);break}case _.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=$.IN_TEMPLATE,t.tmplInsertionModeStack.unshift($.IN_TEMPLATE);break}case _.HEAD:{t._err(e,de.misplacedStartTagForHeadElement);break}default:Od(t,e)}}function Use(t,e){switch(e.tagID){case _.HEAD:{t.openElements.pop(),t.insertionMode=$.AFTER_HEAD;break}case _.BODY:case _.BR:case _.HTML:{Od(t,e);break}case _.TEMPLATE:{Zl(t,e);break}default:t._err(e,de.endTagWithoutMatchingOpenElement)}}function Zl(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==_.TEMPLATE&&t._err(e,de.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(_.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,de.endTagWithoutMatchingOpenElement)}function Od(t,e){t.openElements.pop(),t.insertionMode=$.AFTER_HEAD,t._processToken(e)}function jse(t,e){switch(e.tagID){case _.HTML:{Er(t,e);break}case _.BASEFONT:case _.BGSOUND:case _.HEAD:case _.LINK:case _.META:case _.NOFRAMES:case _.STYLE:{ns(t,e);break}case _.NOSCRIPT:{t._err(e,de.nestedNoscriptInHead);break}default:Pd(t,e)}}function Vse(t,e){switch(e.tagID){case _.NOSCRIPT:{t.openElements.pop(),t.insertionMode=$.IN_HEAD;break}case _.BR:{Pd(t,e);break}default:t._err(e,de.endTagWithoutMatchingOpenElement)}}function Pd(t,e){const n=e.type===ut.EOF?de.openElementsLeftAfterEof:de.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=$.IN_HEAD,t._processToken(e)}function Fse(t,e){switch(e.tagID){case _.HTML:{Er(t,e);break}case _.BODY:{t._insertElement(e,xe.HTML),t.framesetOk=!1,t.insertionMode=$.IN_BODY;break}case _.FRAMESET:{t._insertElement(e,xe.HTML),t.insertionMode=$.IN_FRAMESET;break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{t._err(e,de.abandonedHeadElementChild),t.openElements.push(t.headElement,_.HEAD),ns(t,e),t.openElements.remove(t.headElement);break}case _.HEAD:{t._err(e,de.misplacedStartTagForHeadElement);break}default:Ld(t,e)}}function Hse(t,e){switch(e.tagID){case _.BODY:case _.HTML:case _.BR:{Ld(t,e);break}case _.TEMPLATE:{Zl(t,e);break}default:t._err(e,de.endTagWithoutMatchingOpenElement)}}function Ld(t,e){t._insertFakeElement(ie.BODY,_.BODY),t.insertionMode=$.IN_BODY,L0(t,e)}function L0(t,e){switch(e.type){case ut.CHARACTER:{wP(t,e);break}case ut.WHITESPACE_CHARACTER:{_P(t,e);break}case ut.COMMENT:{aT(t,e);break}case ut.START_TAG:{Er(t,e);break}case ut.END_TAG:{M0(t,e);break}case ut.EOF:{SP(t,e);break}}}function _P(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function wP(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function zse(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function qse(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function Yse(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,xe.HTML),t.insertionMode=$.IN_FRAMESET)}function Gse(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,xe.HTML)}function $se(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&sT.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,xe.HTML)}function Kse(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,xe.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function Qse(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,xe.HTML),n||(t.formElement=t.openElements.current))}function Wse(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===_.LI&&i===_.LI||(n===_.DD||n===_.DT)&&(i===_.DD||i===_.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==_.ADDRESS&&i!==_.DIV&&i!==_.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,xe.HTML)}function Xse(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,xe.HTML),t.tokenizer.state=xn.PLAINTEXT}function Zse(t,e){t.openElements.hasInScope(_.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.framesetOk=!1}function Jse(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(ie.A);n&&(q2(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function eae(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function tae(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(_.NOBR)&&(q2(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,xe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function nae(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function rae(t,e){t.treeAdapter.getDocumentMode(t.document)!==Ai.QUIRKS&&t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,xe.HTML),t.framesetOk=!1,t.insertionMode=$.IN_TABLE}function vP(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,xe.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function xP(t){const e=dP(t,Pl.TYPE);return e!=null&&e.toLowerCase()===_se}function iae(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,xe.HTML),xP(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function sae(t,e){t._appendElement(e,xe.HTML),e.ackSelfClosing=!0}function aae(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._appendElement(e,xe.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function oae(t,e){e.tagName=ie.IMG,e.tagID=_.IMG,vP(t,e)}function lae(t,e){t._insertElement(e,xe.HTML),t.skipNextNewLine=!0,t.tokenizer.state=xn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=$.TEXT}function uae(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,xn.RAWTEXT)}function cae(t,e){t.framesetOk=!1,t._switchToTextParsing(e,xn.RAWTEXT)}function ZN(t,e){t._switchToTextParsing(e,xn.RAWTEXT)}function hae(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===$.IN_TABLE||t.insertionMode===$.IN_CAPTION||t.insertionMode===$.IN_TABLE_BODY||t.insertionMode===$.IN_ROW||t.insertionMode===$.IN_CELL?$.IN_SELECT_IN_TABLE:$.IN_SELECT}function dae(t,e){t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML)}function fae(t,e){t.openElements.hasInScope(_.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,xe.HTML)}function mae(t,e){t.openElements.hasInScope(_.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(_.RTC),t._insertElement(e,xe.HTML)}function pae(t,e){t._reconstructActiveFormattingElements(),bP(e),z2(e),e.selfClosing?t._appendElement(e,xe.MATHML):t._insertElement(e,xe.MATHML),e.ackSelfClosing=!0}function gae(t,e){t._reconstructActiveFormattingElements(),EP(e),z2(e),e.selfClosing?t._appendElement(e,xe.SVG):t._insertElement(e,xe.SVG),e.ackSelfClosing=!0}function JN(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML)}function Er(t,e){switch(e.tagID){case _.I:case _.S:case _.B:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.SMALL:case _.STRIKE:case _.STRONG:{eae(t,e);break}case _.A:{Jse(t,e);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{$se(t,e);break}case _.P:case _.DL:case _.OL:case _.UL:case _.DIV:case _.DIR:case _.NAV:case _.MAIN:case _.MENU:case _.ASIDE:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.DETAILS:case _.ADDRESS:case _.ARTICLE:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{Gse(t,e);break}case _.LI:case _.DD:case _.DT:{Wse(t,e);break}case _.BR:case _.IMG:case _.WBR:case _.AREA:case _.EMBED:case _.KEYGEN:{vP(t,e);break}case _.HR:{aae(t,e);break}case _.RB:case _.RTC:{fae(t,e);break}case _.RT:case _.RP:{mae(t,e);break}case _.PRE:case _.LISTING:{Kse(t,e);break}case _.XMP:{uae(t,e);break}case _.SVG:{gae(t,e);break}case _.HTML:{zse(t,e);break}case _.BASE:case _.LINK:case _.META:case _.STYLE:case _.TITLE:case _.SCRIPT:case _.BGSOUND:case _.BASEFONT:case _.TEMPLATE:{ns(t,e);break}case _.BODY:{qse(t,e);break}case _.FORM:{Qse(t,e);break}case _.NOBR:{tae(t,e);break}case _.MATH:{pae(t,e);break}case _.TABLE:{rae(t,e);break}case _.INPUT:{iae(t,e);break}case _.PARAM:case _.TRACK:case _.SOURCE:{sae(t,e);break}case _.IMAGE:{oae(t,e);break}case _.BUTTON:{Zse(t,e);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{nae(t,e);break}case _.IFRAME:{cae(t,e);break}case _.SELECT:{hae(t,e);break}case _.OPTION:case _.OPTGROUP:{dae(t,e);break}case _.NOEMBED:case _.NOFRAMES:{ZN(t,e);break}case _.FRAMESET:{Yse(t,e);break}case _.TEXTAREA:{lae(t,e);break}case _.NOSCRIPT:{t.options.scriptingEnabled?ZN(t,e):JN(t,e);break}case _.PLAINTEXT:{Xse(t,e);break}case _.COL:case _.TH:case _.TD:case _.TR:case _.HEAD:case _.FRAME:case _.TBODY:case _.TFOOT:case _.THEAD:case _.CAPTION:case _.COLGROUP:break;default:JN(t,e)}}function yae(t,e){if(t.openElements.hasInScope(_.BODY)&&(t.insertionMode=$.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function bae(t,e){t.openElements.hasInScope(_.BODY)&&(t.insertionMode=$.AFTER_BODY,PP(t,e))}function Eae(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function Tae(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(_.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(_.FORM):n&&t.openElements.remove(n))}function _ae(t){t.openElements.hasInButtonScope(_.P)||t._insertFakeElement(ie.P,_.P),t._closePElement()}function wae(t){t.openElements.hasInListItemScope(_.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(_.LI),t.openElements.popUntilTagNamePopped(_.LI))}function vae(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function xae(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function Aae(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function Sae(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(ie.BR,_.BR),t.openElements.pop(),t.framesetOk=!1}function AP(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const o=t.openElements.items[i],l=t.openElements.tagIDs[i];if(r===l&&(r!==_.UNKNOWN||t.treeAdapter.getTagName(o)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(o,l))break}}function M0(t,e){switch(e.tagID){case _.A:case _.B:case _.I:case _.S:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.NOBR:case _.SMALL:case _.STRIKE:case _.STRONG:{q2(t,e);break}case _.P:{_ae(t);break}case _.DL:case _.UL:case _.OL:case _.DIR:case _.DIV:case _.NAV:case _.PRE:case _.MAIN:case _.MENU:case _.ASIDE:case _.BUTTON:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.ADDRESS:case _.ARTICLE:case _.DETAILS:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.LISTING:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{Eae(t,e);break}case _.LI:{wae(t);break}case _.DD:case _.DT:{vae(t,e);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{xae(t);break}case _.BR:{Sae(t);break}case _.BODY:{yae(t,e);break}case _.HTML:{bae(t,e);break}case _.FORM:{Tae(t);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{Aae(t,e);break}case _.TEMPLATE:{Zl(t,e);break}default:AP(t,e)}}function SP(t,e){t.tmplInsertionModeStack.length>0?OP(t,e):Y2(t,e)}function Cae(t,e){var n;e.tagID===_.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function Iae(t,e){t._err(e,de.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function z1(t,e){if(t.openElements.currentTagId!==void 0&&TP.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=$.IN_TABLE_TEXT,e.type){case ut.CHARACTER:{IP(t,e);break}case ut.WHITESPACE_CHARACTER:{CP(t,e);break}}else Lf(t,e)}function Nae(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,xe.HTML),t.insertionMode=$.IN_CAPTION}function kae(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,xe.HTML),t.insertionMode=$.IN_COLUMN_GROUP}function Rae(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ie.COLGROUP,_.COLGROUP),t.insertionMode=$.IN_COLUMN_GROUP,G2(t,e)}function Dae(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,xe.HTML),t.insertionMode=$.IN_TABLE_BODY}function Oae(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ie.TBODY,_.TBODY),t.insertionMode=$.IN_TABLE_BODY,B0(t,e)}function Pae(t,e){t.openElements.hasInTableScope(_.TABLE)&&(t.openElements.popUntilTagNamePopped(_.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function Lae(t,e){xP(e)?t._appendElement(e,xe.HTML):Lf(t,e),e.ackSelfClosing=!0}function Mae(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,xe.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Ac(t,e){switch(e.tagID){case _.TD:case _.TH:case _.TR:{Oae(t,e);break}case _.STYLE:case _.SCRIPT:case _.TEMPLATE:{ns(t,e);break}case _.COL:{Rae(t,e);break}case _.FORM:{Mae(t,e);break}case _.TABLE:{Pae(t,e);break}case _.TBODY:case _.TFOOT:case _.THEAD:{Dae(t,e);break}case _.INPUT:{Lae(t,e);break}case _.CAPTION:{Nae(t,e);break}case _.COLGROUP:{kae(t,e);break}default:Lf(t,e)}}function nf(t,e){switch(e.tagID){case _.TABLE:{t.openElements.hasInTableScope(_.TABLE)&&(t.openElements.popUntilTagNamePopped(_.TABLE),t._resetInsertionMode());break}case _.TEMPLATE:{Zl(t,e);break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:Lf(t,e)}}function Lf(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,L0(t,e),t.fosterParentingEnabled=n}function CP(t,e){t.pendingCharacterTokens.push(e)}function IP(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function ad(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Lf(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const NP=new Set([_.CAPTION,_.COL,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]);function Bae(t,e){const n=e.tagID;NP.has(n)?t.openElements.hasInTableScope(_.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=$.IN_TABLE,Ac(t,e)):Er(t,e)}function Uae(t,e){const n=e.tagID;switch(n){case _.CAPTION:case _.TABLE:{t.openElements.hasInTableScope(_.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=$.IN_TABLE,n===_.TABLE&&nf(t,e));break}case _.BODY:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:M0(t,e)}}function G2(t,e){switch(e.tagID){case _.HTML:{Er(t,e);break}case _.COL:{t._appendElement(e,xe.HTML),e.ackSelfClosing=!0;break}case _.TEMPLATE:{ns(t,e);break}default:Ug(t,e)}}function jae(t,e){switch(e.tagID){case _.COLGROUP:{t.openElements.currentTagId===_.COLGROUP&&(t.openElements.pop(),t.insertionMode=$.IN_TABLE);break}case _.TEMPLATE:{Zl(t,e);break}case _.COL:break;default:Ug(t,e)}}function Ug(t,e){t.openElements.currentTagId===_.COLGROUP&&(t.openElements.pop(),t.insertionMode=$.IN_TABLE,t._processToken(e))}function B0(t,e){switch(e.tagID){case _.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,xe.HTML),t.insertionMode=$.IN_ROW;break}case _.TH:case _.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(ie.TR,_.TR),t.insertionMode=$.IN_ROW,U0(t,e);break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE,Ac(t,e));break}default:Ac(t,e)}}function oT(t,e){const n=e.tagID;switch(e.tagID){case _.TBODY:case _.TFOOT:case _.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE);break}case _.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE,nf(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:case _.TR:break;default:nf(t,e)}}function U0(t,e){switch(e.tagID){case _.TH:case _.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,xe.HTML),t.insertionMode=$.IN_CELL,t.activeFormattingElements.insertMarker();break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE_BODY,B0(t,e));break}default:Ac(t,e)}}function kP(t,e){switch(e.tagID){case _.TR:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE_BODY);break}case _.TABLE:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE_BODY,oT(t,e));break}case _.TBODY:case _.TFOOT:case _.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(_.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=$.IN_TABLE_BODY,oT(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:break;default:nf(t,e)}}function Vae(t,e){const n=e.tagID;NP.has(n)?(t.openElements.hasInTableScope(_.TD)||t.openElements.hasInTableScope(_.TH))&&(t._closeTableCell(),U0(t,e)):Er(t,e)}function Fae(t,e){const n=e.tagID;switch(n){case _.TD:case _.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=$.IN_ROW);break}case _.TABLE:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),kP(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:break;default:M0(t,e)}}function RP(t,e){switch(e.tagID){case _.HTML:{Er(t,e);break}case _.OPTION:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t._insertElement(e,xe.HTML);break}case _.OPTGROUP:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop(),t._insertElement(e,xe.HTML);break}case _.HR:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop(),t._appendElement(e,xe.HTML),e.ackSelfClosing=!0;break}case _.INPUT:case _.KEYGEN:case _.TEXTAREA:case _.SELECT:{t.openElements.hasInSelectScope(_.SELECT)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),e.tagID!==_.SELECT&&t._processStartTag(e));break}case _.SCRIPT:case _.TEMPLATE:{ns(t,e);break}}}function DP(t,e){switch(e.tagID){case _.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===_.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===_.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop();break}case _.OPTION:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop();break}case _.SELECT:{t.openElements.hasInSelectScope(_.SELECT)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode());break}case _.TEMPLATE:{Zl(t,e);break}}}function Hae(t,e){const n=e.tagID;n===_.CAPTION||n===_.TABLE||n===_.TBODY||n===_.TFOOT||n===_.THEAD||n===_.TR||n===_.TD||n===_.TH?(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),t._processStartTag(e)):RP(t,e)}function zae(t,e){const n=e.tagID;n===_.CAPTION||n===_.TABLE||n===_.TBODY||n===_.TFOOT||n===_.THEAD||n===_.TR||n===_.TD||n===_.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),t.onEndTag(e)):DP(t,e)}function qae(t,e){switch(e.tagID){case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{ns(t,e);break}case _.CAPTION:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{t.tmplInsertionModeStack[0]=$.IN_TABLE,t.insertionMode=$.IN_TABLE,Ac(t,e);break}case _.COL:{t.tmplInsertionModeStack[0]=$.IN_COLUMN_GROUP,t.insertionMode=$.IN_COLUMN_GROUP,G2(t,e);break}case _.TR:{t.tmplInsertionModeStack[0]=$.IN_TABLE_BODY,t.insertionMode=$.IN_TABLE_BODY,B0(t,e);break}case _.TD:case _.TH:{t.tmplInsertionModeStack[0]=$.IN_ROW,t.insertionMode=$.IN_ROW,U0(t,e);break}default:t.tmplInsertionModeStack[0]=$.IN_BODY,t.insertionMode=$.IN_BODY,Er(t,e)}}function Yae(t,e){e.tagID===_.TEMPLATE&&Zl(t,e)}function OP(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(_.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):Y2(t,e)}function Gae(t,e){e.tagID===_.HTML?Er(t,e):jg(t,e)}function PP(t,e){var n;if(e.tagID===_.HTML){if(t.fragmentContext||(t.insertionMode=$.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===_.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else jg(t,e)}function jg(t,e){t.insertionMode=$.IN_BODY,L0(t,e)}function $ae(t,e){switch(e.tagID){case _.HTML:{Er(t,e);break}case _.FRAMESET:{t._insertElement(e,xe.HTML);break}case _.FRAME:{t._appendElement(e,xe.HTML),e.ackSelfClosing=!0;break}case _.NOFRAMES:{ns(t,e);break}}}function Kae(t,e){e.tagID===_.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==_.FRAMESET&&(t.insertionMode=$.AFTER_FRAMESET))}function Qae(t,e){switch(e.tagID){case _.HTML:{Er(t,e);break}case _.NOFRAMES:{ns(t,e);break}}}function Wae(t,e){e.tagID===_.HTML&&(t.insertionMode=$.AFTER_AFTER_FRAMESET)}function Xae(t,e){e.tagID===_.HTML?Er(t,e):Gp(t,e)}function Gp(t,e){t.insertionMode=$.IN_BODY,L0(t,e)}function Zae(t,e){switch(e.tagID){case _.HTML:{Er(t,e);break}case _.NOFRAMES:{ns(t,e);break}}}function Jae(t,e){e.chars=en,t._insertCharacters(e)}function eoe(t,e){t._insertCharacters(e),t.framesetOk=!1}function LP(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==xe.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function toe(t,e){if(gse(e))LP(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===xe.MATHML?bP(e):r===xe.SVG&&(yse(e),EP(e)),z2(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function noe(t,e){if(e.tagID===_.P||e.tagID===_.BR){LP(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===xe.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}ie.AREA,ie.BASE,ie.BASEFONT,ie.BGSOUND,ie.BR,ie.COL,ie.EMBED,ie.FRAME,ie.HR,ie.IMG,ie.INPUT,ie.KEYGEN,ie.LINK,ie.META,ie.PARAM,ie.SOURCE,ie.TRACK,ie.WBR;const roe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,ioe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),ek={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function MP(t,e){const n=moe(t),r=NO("type",{handlers:{root:soe,element:aoe,text:ooe,comment:UP,doctype:loe,raw:coe},unknown:hoe}),i={parser:n?new XN(ek):XN.getFragmentParser(void 0,ek),handle(c){r(c,i)},stitches:!1,options:e||{}};r(t,i),Wc(i,Fs());const o=n?i.parser.document:i.parser.getFragment(),l=sie(o,{file:i.options.file});return i.stitches&&P0(l,"comment",function(c,h,f){const m=c;if(m.value.stitch&&f&&h!==void 0){const g=f.children;return g[h]=m.value.stitch,h}}),l.type==="root"&&l.children.length===1&&l.children[0].type===t.type?l.children[0]:l}function BP(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function soe(t,e){BP(t.children,e)}function aoe(t,e){doe(t,e),BP(t.children,e),foe(t,e)}function ooe(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:ut.CHARACTER,chars:t.value,location:Mf(t)};Wc(e,Fs(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function loe(t,e){const n={type:ut.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Mf(t)};Wc(e,Fs(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function uoe(t,e){e.stitches=!0;const n=poe(t);if("children"in t&&"children"in n){const r=MP({type:"root",children:t.children},e.options);n.children=r.children}UP({type:"comment",value:{stitch:n}},e)}function UP(t,e){const n=t.value,r={type:ut.COMMENT,data:n,location:Mf(t)};Wc(e,Fs(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function coe(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,jP(e,Fs(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(roe,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function hoe(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))uoe(n,e);else{let r="";throw ioe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Wc(t,e){jP(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=xn.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function jP(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function doe(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===xn.PLAINTEXT)return;Wc(e,Fs(t));const r=e.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Al.html;i===Al.html&&n==="svg"&&(i=Al.svg);const o=Tie({...t,children:[]},{space:i===Al.svg?"svg":"html"}),l={type:ut.START_TAG,tagName:n,tagID:Qc(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:Mf(t)};e.parser.currentToken=l,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function foe(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&Iie.includes(n)||e.parser.tokenizer.state===xn.PLAINTEXT)return;Wc(e,I0(t));const r={type:ut.END_TAG,tagName:n,tagID:Qc(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Mf(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===xn.RCDATA||e.parser.tokenizer.state===xn.RAWTEXT||e.parser.tokenizer.state===xn.SCRIPT_DATA)&&(e.parser.tokenizer.state=xn.DATA)}function moe(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Mf(t){const e=Fs(t)||{line:void 0,column:void 0,offset:void 0},n=I0(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function poe(t){return"children"in t?xc({...t,children:[]}):xc(t)}function VP(t){return function(e,n){return MP(e,{...t,file:n})}}function goe(){const[t,e]=q.useState([]),[n,r]=q.useState(null),[i,o]=q.useState(""),[l,c]=q.useState(""),[h,f]=q.useState(""),[m,g]=q.useState(""),[E,w]=q.useState("Tendencias"),[x,C]=q.useState(""),[I,k]=q.useState(!1),[Y,F]=q.useState([]),X=R=>F(U=>[...U,R]),ne=R=>F(U=>U.filter((H,he)=>he!==R));q.useEffect(()=>{f(i.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"))},[i]),q.useEffect(()=>{const R=Xd(Hr(wt,"articulos"),V_("fecha","desc")),U=Ef(R,H=>{const he=H.docs.map(J=>({id:J.id,...J.data()}));e(he)});return()=>U()},[]);const K=()=>{o(""),c(""),f(""),g(""),w("Tendencias"),C(""),F([]),r(null)},B=async()=>{if(!i.trim()||!m.trim()){alert("El ttulo y el contenido son obligatorios");return}let R=i.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),U=R;const he=(await dg(Hr(wt,"articulos"))).docs.map(ce=>ce.data().slug);let J=1;for(;he.includes(U)&&(!n||U!==h);)U=`${R}-${J}`,J++;const Z={titulo:i,subtitulo:l,slug:U,contenido:m,categoria:E,imagenUrl:x,imagenes:Y,fecha:Date.now()};try{n?(await Ec(vn(wt,"articulos",n),Z),alert("Artculo actualizado ")):(await bf(Hr(wt,"articulos"),Z),alert("Artculo creado "),Fl({particleCount:150,spread:80,origin:{y:.6}})),K()}catch(ce){console.error(ce),alert("Error guardando artculo")}},O=R=>{r(R.id),o(R.titulo),c(R.subtitulo||""),f(R.slug),g(R.contenido),w(R.categoria),C(R.imagenUrl||""),F(R.imagenes||[])},V=async R=>{confirm("Seguro que deseas eliminar este artculo?")&&await p0(vn(wt,"articulos",R))},P=async R=>{k(!0);try{const H=await(await fetch("http://localhost:3001/enviar-articulos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articuloId:R})})).text();alert(H),Fl({particleCount:100,spread:70})}catch(U){console.error(U),alert("Error enviando el artculo")}k(!1)};return T.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-10",children:[T.jsx("h1",{className:"text-4xl font-extrabold text-fuchsia-600 text-center tracking-tight animate-pulse",children:"Panel de Blog"}),T.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-lg space-y-6 border border-pink-200",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:n?"Editar artculo":"Crear nuevo artculo"}),T.jsx("input",{className:"w-full border p-3 rounded-lg",placeholder:"Ttulo",value:i,onChange:R=>o(R.target.value)}),T.jsx("input",{className:"w-full border p-3 rounded-lg",placeholder:"Subttulo",value:l,onChange:R=>c(R.target.value)}),T.jsx("input",{className:"w-full border p-3 rounded-lg bg-gray-100 text-gray-600",value:h,readOnly:!0}),T.jsx("textarea",{className:"w-full border p-3 rounded-lg h-56",placeholder:"Contenido (Markdown soportado)",value:m,onChange:R=>g(R.target.value)}),m&&T.jsx("div",{className:"mt-4 border rounded-lg bg-gray-50 p-4",children:T.jsx(xO,{remarkPlugins:[QO],rehypePlugins:[VP],components:{h1:R=>T.jsx("h1",{...R,className:"text-3xl font-bold mt-6 mb-3 text-gray-800"}),h2:R=>T.jsx("h2",{...R,className:"text-xl font-semibold mt-4 mb-2 text-fuchsia-600"}),h3:R=>T.jsx("h3",{...R,className:"text-lg font-semibold mt-3 mb-2 text-pink-600"}),p:R=>T.jsx("p",{...R,className:"mt-3 mb-3 text-gray-700 leading-relaxed"}),img:R=>T.jsx("img",{...R,className:"mx-auto my-4 w-1/2 rounded-lg shadow-sm"})},children:m})}),Y.map((R,U)=>T.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[T.jsx("img",{src:R,className:"w-48 h-32 object-cover rounded-lg"}),T.jsx("button",{onClick:()=>ne(U),className:"px-2 py-1 bg-red-500 text-white rounded",children:"Eliminar"})]},U)),T.jsx("input",{type:"text",placeholder:"URL de imagen adicional (Enter para agregar)",onKeyDown:R=>{R.key==="Enter"&&(X(R.target.value),R.target.value="")},className:"w-full border p-2 rounded-lg mt-2"}),T.jsxs("select",{className:"w-full border p-3 rounded-lg",value:E,onChange:R=>w(R.target.value),children:[T.jsx("option",{value:"Tendencias",children:"Tendencias"}),T.jsx("option",{value:"Gua de Estilo",children:"Gua de Estilo"}),T.jsx("option",{value:"Inspiracin",children:"Inspiracin"})]}),T.jsx("input",{className:"w-full border p-3 rounded-lg",placeholder:"URL de la imagen principal",value:x,onChange:R=>C(R.target.value)}),x&&T.jsx("img",{src:x,className:"w-full h-56 object-cover rounded-lg border mt-3"}),T.jsxs("div",{className:"flex gap-4 mt-3",children:[T.jsx("button",{onClick:B,className:"bg-fuchsia-600 text-white px-5 py-2 rounded-lg font-semibold",children:n?"Guardar cambios":"Crear"}),n&&T.jsx("button",{onClick:K,className:"bg-gray-300 px-5 py-2 rounded-lg",children:"Cancelar"})]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Artculos publicados"}),t.map(R=>T.jsxs("div",{className:"p-4 border rounded-xl flex flex-col md:flex-row items-center gap-4 bg-white shadow",children:[R.imagenUrl&&T.jsx("img",{src:R.imagenUrl,className:"w-full md:w-32 h-32 object-cover rounded-lg"}),T.jsxs("div",{className:"flex-1 space-y-1",children:[T.jsx("h3",{className:"font-extrabold text-lg text-fuchsia-600",children:R.titulo}),R.subtitulo&&T.jsx("h4",{className:"text-md font-semibold text-pink-600",children:R.subtitulo}),T.jsx("p",{className:"text-sm text-gray-500",children:R.slug}),T.jsx("p",{className:"text-sm mt-1 text-gray-600",children:R.categoria})]}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("button",{onClick:()=>O(R),className:"bg-blue-500 text-white px-3 py-1 rounded",children:"Editar"}),T.jsx("button",{onClick:()=>V(R.id),className:"bg-red-500 text-white px-3 py-1 rounded",children:"Borrar"}),T.jsx("button",{onClick:()=>P(R.id),disabled:I,className:"bg-green-500 text-white px-3 py-1 rounded",children:I?"Enviando...":"Enviar Gmail"})]})]},R.id))]})]})}function yoe({items:t}){return!t||t.length===0?null:T.jsxs("div",{className:"mt-10",children:[T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Artculos relacionados"}),T.jsx("div",{className:"flex overflow-x-auto gap-4 py-2",children:t.map(e=>T.jsx(et,{to:`/inspiracion/${e.slug}`,className:"min-w-[200px] flex-strikretch",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition",children:[T.jsx("img",{src:e.imagenUrl,alt:e.titulo,className:"w-full h-32 object-cover"}),T.jsxs("div",{className:"p-3",children:[T.jsx("h3",{className:"font-bold text-gray-800",children:e.titulo}),T.jsx("p",{className:"text-sm text-gray-600",children:e.categoria})]})]})},e.id))})]})}function boe(){const{slug:t}=uk(),e=ts(),{usuario:n}=Ia(),[r,i]=q.useState(null),[o,l]=q.useState([]),[c,h]=q.useState("");if(q.useEffect(()=>{(async()=>{const x=Xd(Hr(wt,"articulos"),ME("slug","==",t)),C=await dg(x);if(C.empty)i(null);else{const I=C.docs[0],k=I.data();i({id:I.id,...k,likes:Array.isArray(k.likes)?k.likes:[],comments:Array.isArray(k.comments)?k.comments:[],imagenes:Array.isArray(k.imagenes)?k.imagenes:[]})}})()},[t]),q.useEffect(()=>{if(!r)return;(async()=>{const x=Xd(Hr(wt,"articulos"),ME("categoria","==",r.categoria)),I=(await dg(x)).docs.map(k=>({id:k.id,...k.data()})).filter(k=>k.slug!==r.slug).slice(0,6);l(I)})()},[r]),!r)return T.jsx("p",{className:"text-center mt-10 text-gray-600",children:"Artculo no encontrado "});const f=async()=>{if(!n)return alert("Debes iniciar sesin para dar like");const w=vn(wt,"articulos",r.id),x=Array.isArray(r.likes)?r.likes:[],C=(r.likes||[]).includes(n.uid);await Ec(w,{likes:C?xz(n.uid):ZC(n.uid)}),i(I=>({...I,likes:C?x.filter(k=>k!==n.uid):[...x,n.uid]}))},m=async()=>{if(!n)return alert("Inicia sesin para comentar");if(!c.trim())return;const w=vn(wt,"articulos",r.id),x={id:Date.now(),texto:c,autor:n.email,fecha:new Date().toISOString()};await Ec(w,{comments:ZC(x)}),i(C=>({...C,comments:[...Array.isArray(C.comments)?C.comments:[],x]})),h("")},g=r.contenido?r.contenido.split(`

`):[],E=Array.isArray(r.imagenes)?r.imagenes:[];return T.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-10",children:[T.jsx("button",{onClick:()=>e("/inspiracion"),className:"px-4 py-2 bg-gray-300 rounded hover:bg-fuchsia-400 transition",children:" Regresar al Blog"}),T.jsx("h1",{className:"text-5xl font-extrabold text-gray-900",children:r.titulo}),r.subtitulo&&T.jsx("h2",{className:"text-2xl font-semibold text-fuchsia-700 mt-4",children:r.subtitulo}),T.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[r.categoria,"  ",new Date(r.fecha).toLocaleDateString()]}),r.imagenUrl&&T.jsx("img",{src:r.imagenUrl,className:"w-full rounded-xl shadow-xl mt-6 mx-auto"}),T.jsx("div",{className:"prose prose-lg mx-auto mt-6 space-y-6",children:g.map((w,x)=>T.jsxs("div",{className:"space-y-4",children:[T.jsx(xO,{remarkPlugins:[QO],rehypePlugins:[VP],components:{h1:C=>T.jsx("h1",{...C,className:"text-4xl font-bold mt-8 mb-4 text-gray-900"}),h2:C=>T.jsx("h2",{...C,className:"text-2xl font-semibold mt-6 mb-3 text-fuchsia-700"}),h3:C=>T.jsx("h3",{...C,className:"text-xl font-semibold mt-4 mb-2 text-pink-700"}),p:C=>T.jsx("p",{...C,className:"text-gray-700 leading-relaxed mt-3"}),img:C=>T.jsx("img",{...C,className:"w-2/3 mx-auto rounded-lg shadow-md my-4"})},children:w}),E[x]&&T.jsx("img",{src:E[x],className:"w-2/3 mx-auto rounded-lg shadow-md"})]},x))}),T.jsxs("button",{onClick:f,className:`px-4 py-2 rounded-lg text-lg ${(Array.isArray(r.likes)?r.likes:[]).includes(n?.uid)?"bg-fuchsia-500 text-white":"bg-gray-200 text-gray-700"}`,children:[" ",(Array.isArray(r.likes)?r.likes:[]).length||0]}),T.jsxs("div",{className:"mt-10",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Comentarios"}),T.jsx("textarea",{value:c,onChange:w=>h(w.target.value),className:"w-full p-3 border rounded-lg mt-3",placeholder:"Escribe un comentario"}),T.jsx("button",{onClick:m,className:"mt-2 px-4 py-2 bg-fuchsia-500 text-white rounded-lg",children:"Enviar"}),T.jsx("div",{className:"mt-6 space-y-4",children:(Array.isArray(r.comments)?r.comments:[]).map(w=>T.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[T.jsx("p",{className:"font-semibold",children:w.autor}),T.jsx("p",{children:w.texto}),T.jsx("span",{className:"text-sm text-gray-500",children:new Date(w.fecha).toLocaleDateString()})]},w.id))})]}),T.jsx(yoe,{items:o})]})}const tk=({children:t})=>{const e=localStorage.getItem("novaglow_session"),n=Di();return e?t:T.jsx(yM,{to:"/login",replace:!0,state:{from:n,message:" Inicia sesin para continuar con tu compra"}})};function Eoe(){return T.jsx(T.Fragment,{children:T.jsxs(bk,{children:[T.jsx(ZM,{}),T.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[T.jsx(xX,{}),T.jsx("main",{className:"grow pt-[72px] bg-pink-100",children:T.jsxs(EM,{children:[T.jsx(ir,{path:"/",element:T.jsx(CI,{})}),T.jsx(ir,{path:"/inicio",element:T.jsx(CI,{})}),T.jsx(ir,{path:"/productos",element:T.jsx(g$,{})}),T.jsx(ir,{path:"/producto/:id",element:T.jsx(I$,{})}),T.jsx(ir,{path:"/nosotros",element:T.jsx(xK,{})}),T.jsx(ir,{path:"/contacto",element:T.jsx(bX,{})}),T.jsx(ir,{path:"/inspiracion",element:T.jsx(vK,{})}),T.jsx(ir,{path:"/inspiracion/:slug",element:T.jsx(boe,{})}),T.jsx(ir,{path:"/adminblog",element:T.jsx(goe,{})}),T.jsx(ir,{path:"/suscripcion",element:T.jsx(l2,{})}),T.jsx(ir,{path:"/intranet",element:T.jsx(kX,{})}),T.jsx(ir,{path:"/login",element:T.jsx(CX,{})}),T.jsx(ir,{path:"/registro",element:T.jsx(IX,{})}),T.jsx(ir,{path:"/logout",element:T.jsx(NX,{})}),T.jsx(ir,{path:"/carrito",element:T.jsx(tk,{children:T.jsx(N$,{})})}),T.jsx(ir,{path:"/confirmacion",element:T.jsx(tk,{children:T.jsx(k$,{})})})]})}),T.jsx(EX,{})]})]})})}IL.createRoot(document.getElementById("root")).render(T.jsx(q.StrictMode,{children:T.jsx(HM,{basename:"/novaglow/",children:T.jsx(e$,{children:T.jsx(bk,{children:T.jsx(y$,{children:T.jsx(E$,{children:T.jsx(Eoe,{})})})})})})}))});export default Toe();
